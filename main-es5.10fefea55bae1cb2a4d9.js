!function(){function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function e(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null==n)return;var i,r,o=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(o.push(i.value),!e||o.length!==e);s=!0);}catch(u){a=!0,r=u}finally{try{s||null==n.return||n.return()}finally{if(a)throw r}}return o}(t,e)||r(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=r(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var s,a=!0,u=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return a=t.done,t},e:function(t){u=!0,s=t},f:function(){try{a||null==n.return||n.return()}finally{if(u)throw s}}}}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||r(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function s(t){var e="function"==typeof Map?new Map:void 0;return(s=function(t){if(null===t||(n=t,-1===Function.toString.call(n).indexOf("[native code]")))return t;var n;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,i)}function i(){return a(t,arguments,y(this).constructor)}return i.prototype=Object.create(t.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),h(i,t)})(t)}function a(t,e,n){return(a=v()?Reflect.construct:function(t,e,n){var i=[null];i.push.apply(i,e);var r=new(Function.bind.apply(t,i));return n&&h(r,n.prototype),r}).apply(null,arguments)}function u(){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var i=c(t,e);if(i){var r=Object.getOwnPropertyDescriptor(i,e);return r.get?r.get.call(arguments.length<3?t:n):r.value}}).apply(this,arguments)}function c(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=y(t)););return t}function l(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&h(t,e)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t){var e=v();return function(){var n,i=y(t);if(e){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return d(this,n)}}function d(t,e){if(e&&("object"==typeof e||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return p(t)}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function y(t){return(y=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function g(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _(t,e,n){return e&&g(t.prototype,e),n&&g(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{0:function(t,e,n){t.exports=n("zUnb")},"1CWa":function(t,e,n){"use strict";if(t.exports)var i=n("wiYu");function r(t,e){if(!(this instanceof r))return new r(t,e);this.lat=Number(t),this.lon=Number(e)}r.prototype.distanceTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=e=void 0===e?6371e3:Number(e),i=this.lat.toRadians(),o=this.lon.toRadians(),s=t.lat.toRadians(),a=s-i,u=t.lon.toRadians()-o,c=Math.sin(a/2)*Math.sin(a/2)+Math.cos(i)*Math.cos(s)*Math.sin(u/2)*Math.sin(u/2);return n*(2*Math.atan2(Math.sqrt(c),Math.sqrt(1-c)))},r.prototype.bearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=t.lat.toRadians(),i=(t.lon-this.lon).toRadians(),o=Math.sin(i)*Math.cos(n),s=Math.cos(e)*Math.sin(n)-Math.sin(e)*Math.cos(n)*Math.cos(i);return(Math.atan2(o,s).toDegrees()+360)%360},r.prototype.finalBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");return(t.bearingTo(this)+180)%360},r.prototype.midpointTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=this.lon.toRadians(),i=t.lat.toRadians(),o=(t.lon-this.lon).toRadians(),s=Math.cos(i)*Math.cos(o),a=Math.cos(i)*Math.sin(o),u=Math.sqrt((Math.cos(e)+s)*(Math.cos(e)+s)+a*a),c=Math.sin(e)+Math.sin(i),l=Math.atan2(c,u),h=n+Math.atan2(a,Math.cos(e)+s);return new r(l.toDegrees(),(h.toDegrees()+540)%360-180)},r.prototype.intermediatePointTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),i=this.lon.toRadians(),o=t.lat.toRadians(),s=t.lon.toRadians(),a=Math.sin(n),u=Math.cos(n),c=Math.sin(i),l=Math.cos(i),h=Math.sin(o),f=Math.cos(o),d=Math.sin(s),p=Math.cos(s),v=o-n,y=s-i,m=Math.sin(v/2)*Math.sin(v/2)+Math.cos(n)*Math.cos(o)*Math.sin(y/2)*Math.sin(y/2),g=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),_=Math.sin((1-e)*g)/Math.sin(g),w=Math.sin(e*g)/Math.sin(g),k=_*u*l+w*f*p,b=_*u*c+w*f*d,C=Math.atan2(_*a+w*h,Math.sqrt(k*k+b*b)),E=Math.atan2(b,k);return new r(C.toDegrees(),(E.toDegrees()+540)%360-180)},r.prototype.destinationPoint=function(t,e,n){n=void 0===n?6371e3:n;var i=Number(t)/Number(n),o=Number(e).toRadians(),s=this.lat.toRadians(),a=this.lon.toRadians(),u=Math.sin(s),c=Math.cos(s),l=Math.sin(i),h=Math.cos(i),f=Math.sin(o),d=u*h+c*l*Math.cos(o),p=Math.asin(d),v=a+Math.atan2(f*l*c,h-u*d);return new r(p.toDegrees(),(v.toDegrees()+540)%360-180)},r.intersection=function(t,e,n,i){if(!(t instanceof r))throw new TypeError("p1 is not LatLon object");if(!(n instanceof r))throw new TypeError("p2 is not LatLon object");var o=t.lat.toRadians(),s=t.lon.toRadians(),a=n.lat.toRadians(),u=n.lon.toRadians(),c=Number(e).toRadians(),l=Number(i).toRadians(),h=a-o,f=u-s,d=2*Math.asin(Math.sqrt(Math.sin(h/2)*Math.sin(h/2)+Math.cos(o)*Math.cos(a)*Math.sin(f/2)*Math.sin(f/2)));if(0==d)return null;var p=Math.acos((Math.sin(a)-Math.sin(o)*Math.cos(d))/(Math.sin(d)*Math.cos(o)));isNaN(p)&&(p=0);var v=Math.acos((Math.sin(o)-Math.sin(a)*Math.cos(d))/(Math.sin(d)*Math.cos(a))),y=c-(Math.sin(u-s)>0?p:2*Math.PI-p),m=(Math.sin(u-s)>0?2*Math.PI-v:v)-l;if(0==Math.sin(y)&&0==Math.sin(m))return null;if(Math.sin(y)*Math.sin(m)<0)return null;var g=-Math.cos(y)*Math.cos(m)+Math.sin(y)*Math.sin(m)*Math.cos(d),_=Math.atan2(Math.sin(d)*Math.sin(y)*Math.sin(m),Math.cos(m)+Math.cos(y)*g),w=Math.asin(Math.sin(o)*Math.cos(_)+Math.cos(o)*Math.sin(_)*Math.cos(c)),k=s+Math.atan2(Math.sin(c)*Math.sin(_)*Math.cos(o),Math.cos(_)-Math.sin(o)*Math.sin(w));return new r(w.toDegrees(),(k.toDegrees()+540)%360-180)},r.prototype.crossTrackDistanceTo=function(t,e,n){if(!(t instanceof r))throw new TypeError("\u2018pathStart\u2019 is not LatLon object");if(!(e instanceof r))throw new TypeError("\u2018pathEnd\u2019 is not LatLon object");var i=void 0===n?6371e3:Number(n),o=t.distanceTo(this,i)/i,s=t.bearingTo(this).toRadians(),a=t.bearingTo(e).toRadians();return Math.asin(Math.sin(o)*Math.sin(s-a))*i},r.prototype.alongTrackDistanceTo=function(t,e,n){if(!(t instanceof r))throw new TypeError("\u2018pathStart\u2019 is not LatLon object");if(!(e instanceof r))throw new TypeError("\u2018pathEnd\u2019 is not LatLon object");var i=void 0===n?6371e3:n,o=t.distanceTo(this,i)/i,s=t.bearingTo(this).toRadians(),a=t.bearingTo(e).toRadians(),u=Math.asin(Math.sin(o)*Math.sin(s-a));return Math.acos(Math.cos(o)/Math.abs(Math.cos(u)))*Math.sign(Math.cos(a-s))*i},r.prototype.maxLatitude=function(t){var e=Number(t).toRadians(),n=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(e)*Math.cos(n))).toDegrees()},r.crossingParallels=function(t,e,n){var i=Number(n).toRadians(),r=t.lat.toRadians(),o=t.lon.toRadians(),s=e.lat.toRadians(),a=e.lon.toRadians()-o,u=Math.sin(r)*Math.cos(s)*Math.cos(i)*Math.sin(a),c=Math.sin(r)*Math.cos(s)*Math.cos(i)*Math.cos(a)-Math.cos(r)*Math.sin(s)*Math.cos(i),l=Math.cos(r)*Math.cos(s)*Math.sin(i)*Math.sin(a);if(l*l>u*u+c*c)return null;var h=Math.atan2(-c,u),f=Math.acos(l/Math.sqrt(u*u+c*c)),d=o+h+f;return{lon1:((o+h-f).toDegrees()+540)%360-180,lon2:(d.toDegrees()+540)%360-180}},r.prototype.rhumbDistanceTo=function(t,e){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var n=e=void 0===e?6371e3:Number(e),i=this.lat.toRadians(),o=t.lat.toRadians(),s=o-i,a=Math.abs(t.lon-this.lon).toRadians();a>Math.PI&&(a-=2*Math.PI);var u=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),c=Math.abs(u)>1e-11?s/u:Math.cos(i);return Math.sqrt(s*s+c*c*a*a)*n},r.prototype.rhumbBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=t.lat.toRadians(),i=(t.lon-this.lon).toRadians();i>Math.PI&&(i-=2*Math.PI),i<-Math.PI&&(i+=2*Math.PI);var o=Math.log(Math.tan(n/2+Math.PI/4)/Math.tan(e/2+Math.PI/4));return(Math.atan2(i,o).toDegrees()+360)%360},r.prototype.rhumbDestinationPoint=function(t,e,n){n=void 0===n?6371e3:n;var i=this.lat.toRadians(),o=this.lon.toRadians(),s=Number(e).toRadians(),a=t/n,u=a*Math.cos(s),c=i+u;Math.abs(c)>Math.PI/2&&(c=c>0?Math.PI-c:-Math.PI-c);var l=Math.log(Math.tan(c/2+Math.PI/4)/Math.tan(i/2+Math.PI/4)),h=Math.abs(l)>1e-11?u/l:Math.cos(i),f=o+a*Math.sin(s)/h;return new r(c.toDegrees(),(f.toDegrees()+540)%360-180)},r.prototype.rhumbMidpointTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),n=this.lon.toRadians(),i=t.lat.toRadians(),o=t.lon.toRadians();Math.abs(o-n)>Math.PI&&(n+=2*Math.PI);var s=(e+i)/2,a=Math.tan(Math.PI/4+e/2),u=Math.tan(Math.PI/4+i/2),c=Math.tan(Math.PI/4+s/2),l=((o-n)*Math.log(c)+n*Math.log(u)-o*Math.log(a))/Math.log(u/a);return isFinite(l)||(l=(n+o)/2),r(s.toDegrees(),(l.toDegrees()+540)%360-180)},r.areaOf=function(t,e){var n=void 0===e?6371e3:Number(e),i=t[0].equals(t[t.length-1]);i||t.push(t[0]);for(var r=t.length-1,o=0,s=0;s<r;s++){var a=t[s].lat.toRadians(),u=t[s+1].lat.toRadians(),c=(t[s+1].lon-t[s].lon).toRadians();o+=2*Math.atan2(Math.tan(c/2)*(Math.tan(a/2)+Math.tan(u/2)),1+Math.tan(a/2)*Math.tan(u/2))}(function(t){for(var e=0,n=t[0].bearingTo(t[1]),i=0;i<t.length-1;i++){var r=t[i].bearingTo(t[i+1]),o=t[i].finalBearingTo(t[i+1]);e+=(r-n+540)%360-180,e+=(o-r+540)%360-180,n=o}return e+=((r=t[0].bearingTo(t[1]))-n+540)%360-180,Math.abs(e)<90})(t)&&(o=Math.abs(o)-2*Math.PI);var l=Math.abs(o*n*n);return i||t.pop(),l},r.prototype.equals=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},r.prototype.toString=function(t,e){return i.toLat(this.lat,t,e)+", "+i.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=r)},"1gqn":function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},"8USJ":function(t,e,n){!function(t){"use strict";function e(t){return null!=t}function n(t){return null==t}var i=function(){function t(){}return t.parseIntAutoRadix=function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e},t.isNumeric=function(t){return!isNaN(t-parseFloat(t))},t}();function r(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}var o,s=(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),a=function(t,e,n,i){this.input=e,this.errLocation=n,this.ctxLocation=i,this.message="Parser Error: "+t+" "+n+" ["+e+"] in "+i},u=function(t,e){this.start=t,this.end=e},c=function(){function t(t){this.span=t}return t.prototype.visit=function(t,e){return void 0===e&&(e=null),null},t.prototype.toString=function(){return"AST"},t}(),l=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.prefix=n,o.uninterpretedExpression=i,o.location=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitQuote(this,e)},e.prototype.toString=function(){return"Quote"},e}(c),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.visit=function(t,e){void 0===e&&(e=null)},e}(c),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitImplicitReceiver(this,e)},e}(c),d=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expressions=n,i}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitChain(this,e)},e}(c),p=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.condition=n,o.trueExp=i,o.falseExp=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitConditional(this,e)},e}(c),v=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.receiver=n,r.name=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyRead(this,e)},e}(c),y=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.value=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPropertyWrite(this,e)},e}(c),m=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.receiver=n,r.name=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafePropertyRead(this,e)},e}(c),g=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.obj=n,r.key=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedRead(this,e)},e}(c),_=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.obj=n,o.key=i,o.value=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitKeyedWrite(this,e)},e}(c),w=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.exp=n,o.name=i,o.args=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPipe(this,e)},e}(c),k=function(t){function e(e,n){var i=t.call(this,e)||this;return i.value=n,i}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralPrimitive(this,e)},e}(c),b=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expressions=n,i}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralArray(this,e)},e}(c),C=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.keys=n,r.values=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitLiteralMap(this,e)},e}(c),E=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.strings=n,r.expressions=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitInterpolation(this,e)},e}(c),S=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.operation=n,o.left=i,o.right=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitBinary(this,e)},e}(c),x=function(t){function e(e,n){var i=t.call(this,e)||this;return i.expression=n,i}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitPrefixNot(this,e)},e}(c),T=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.args=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitMethodCall(this,e)},e}(c),M=function(t){function e(e,n,i,r){var o=t.call(this,e)||this;return o.receiver=n,o.name=i,o.args=r,o}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitSafeMethodCall(this,e)},e}(c),A=function(t){function e(e,n,i){var r=t.call(this,e)||this;return r.target=n,r.args=i,r}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),t.visitFunctionCall(this,e)},e}(c),R=function(t){function e(e,i,r,o){var s=t.call(this,new u(0,n(i)?0:i.length))||this;return s.ast=e,s.source=i,s.location=r,s.errors=o,s}return s(e,t),e.prototype.visit=function(t,e){return void 0===e&&(e=null),this.ast.visit(t,e)},e.prototype.toString=function(){return this.source+" in "+this.location},e}(c),O=function(t,e,n,i,r){this.span=t,this.key=e,this.keyIsVar=n,this.name=i,this.expression=r},P=function(){function t(){}return t.prototype.visitBinary=function(t,e){return t.left.visit(this),t.right.visit(this),null},t.prototype.visitChain=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitConditional=function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null},t.prototype.visitPipe=function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null},t.prototype.visitFunctionCall=function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null},t.prototype.visitImplicitReceiver=function(t,e){return null},t.prototype.visitInterpolation=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitKeyedRead=function(t,e){return t.obj.visit(this),t.key.visit(this),null},t.prototype.visitKeyedWrite=function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null},t.prototype.visitLiteralArray=function(t,e){return this.visitAll(t.expressions,e)},t.prototype.visitLiteralMap=function(t,e){return this.visitAll(t.values,e)},t.prototype.visitLiteralPrimitive=function(t,e){return null},t.prototype.visitMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitPrefixNot=function(t,e){return t.expression.visit(this),null},t.prototype.visitPropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitPropertyWrite=function(t,e){return t.receiver.visit(this),t.value.visit(this),null},t.prototype.visitSafePropertyRead=function(t,e){return t.receiver.visit(this),null},t.prototype.visitSafeMethodCall=function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)},t.prototype.visitAll=function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null},t.prototype.visitQuote=function(t,e){return null},t}();function I(t){return 48<=t&&t<=57}var D,N=new(function(){function t(t,e){this.start=t,this.end=e}return t.fromArray=function(n){return n?(function(t,n){if(e(n)&&(!Array.isArray(n)||2!=n.length))throw new Error("Expected 'interpolation' to be an array, [start, end].")}(0,n),new t(n[0],n[1])):N},t}())("{{","}}");!function(t){t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Operator=4]="Operator",t[t.Number=5]="Number",t[t.Error=6]="Error"}(D||(D={}));var L=["var","let","null","undefined","true","false","if","else","this"],F=function(){function t(){}return t.prototype.tokenize=function(t){for(var e=new z(t),n=[],i=e.scanToken();null!=i;)n.push(i),i=e.scanToken();return n},t}(),j=function(){function t(t,e,n,i){this.index=t,this.type=e,this.numValue=n,this.strValue=i}return t.prototype.isCharacter=function(t){return this.type==D.Character&&this.numValue==t},t.prototype.isNumber=function(){return this.type==D.Number},t.prototype.isString=function(){return this.type==D.String},t.prototype.isOperator=function(t){return this.type==D.Operator&&this.strValue==t},t.prototype.isIdentifier=function(){return this.type==D.Identifier},t.prototype.isKeyword=function(){return this.type==D.Keyword},t.prototype.isKeywordLet=function(){return this.type==D.Keyword&&"let"==this.strValue},t.prototype.isKeywordNull=function(){return this.type==D.Keyword&&"null"==this.strValue},t.prototype.isKeywordUndefined=function(){return this.type==D.Keyword&&"undefined"==this.strValue},t.prototype.isKeywordTrue=function(){return this.type==D.Keyword&&"true"==this.strValue},t.prototype.isKeywordFalse=function(){return this.type==D.Keyword&&"false"==this.strValue},t.prototype.isKeywordThis=function(){return this.type==D.Keyword&&"this"==this.strValue},t.prototype.isError=function(){return this.type==D.Error},t.prototype.toNumber=function(){return this.type==D.Number?this.numValue:-1},t.prototype.toString=function(){switch(this.type){case D.Character:case D.Identifier:case D.Keyword:case D.Operator:case D.String:case D.Error:return this.strValue;case D.Number:return this.numValue.toString();default:return null}},t}();function V(t,e){return new j(t,D.Character,e,String.fromCharCode(e))}function B(t,e){return new j(t,D.Operator,0,e)}var H=new j(-1,D.Character,0,""),z=function(){function t(t){this.input=t,this.peek=0,this.index=-1,this.length=t.length,this.advance()}return t.prototype.advance=function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)},t.prototype.scanToken=function(){for(var t=this.input,e=this.length,n=this.peek,i=this.index;n<=32;){if(++i>=e){n=0;break}n=t.charCodeAt(i)}if(this.peek=n,this.index=i,i>=e)return null;if(q(n))return this.scanIdentifier();if(I(n))return this.scanNumber(i);var r,o=i;switch(n){case 46:return this.advance(),I(this.peek)?this.scanNumber(o):V(o,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(o,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(o,String.fromCharCode(n));case 63:return this.scanComplexOperator(o,"?",46,".");case 60:case 62:return this.scanComplexOperator(o,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(o,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(o,"&",38,"&");case 124:return this.scanComplexOperator(o,"|",124,"|");case 160:for(;(r=this.peek)>=9&&r<=32||160==r;)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character ["+String.fromCharCode(n)+"]",0)},t.prototype.scanCharacter=function(t,e){return this.advance(),V(t,e)},t.prototype.scanOperator=function(t,e){return this.advance(),B(t,e)},t.prototype.scanComplexOperator=function(t,e,n,i,r,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=i),null!=r&&this.peek==r&&(this.advance(),s+=o),B(t,s)},t.prototype.scanIdentifier=function(){var t=this.index;for(this.advance();U(this.peek);)this.advance();var e=this.input.substring(t,this.index);return L.indexOf(e)>-1?new j(t,D.Keyword,0,e):new j(t,D.Identifier,0,e)},t.prototype.scanNumber=function(t){var e,n=this.index===t;for(this.advance();;){if(I(this.peek));else if(46==this.peek)n=!1;else{if(101!=(e=this.peek)&&69!=e)break;if(this.advance(),K(this.peek)&&this.advance(),!I(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var r,o,s=this.input.substring(t,this.index);return r=t,o=n?i.parseIntAutoRadix(s):parseFloat(s),new j(r,D.Number,o,"")},t.prototype.scanString=function(){var t=this.index,e=this.peek;this.advance();for(var n="",i=this.index,r=this.input;this.peek!=e;)if(92==this.peek){n+=r.substring(i,this.index),this.advance();var o=void 0;if(this.peek=this.peek,117==this.peek){var s=r.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u"+s+"]",0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=W(this.peek),this.advance();n+=String.fromCharCode(o),i=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u=r.substring(i,this.index);return this.advance(),new j(t,D.String,0,n+u)},t.prototype.error=function(t,e){var n=this.index+e;return function(t,e){return new j(t,D.Error,0,e)}(n,"Lexer Error: "+t+" at column "+n+" in expression ["+this.input+"]")},t}();function q(t){return 97<=t&&t<=122||65<=t&&t<=90||95==t||36==t}function U(t){return function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||I(t)||95==t||36==t}function K(t){return 45==t||43==t}function W(t){switch(t){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return t}}var G=function(t,e,n){this.strings=t,this.expressions=e,this.offsets=n},Z=function(t,e,n){this.templateBindings=t,this.warnings=e,this.errors=n};function Q(t){var e=r(t.start)+"([\\s\\S]*?)"+r(t.end);return new RegExp(e,"g")}var X=function(){function t(t){this._lexer=t,this.errors=[]}return t.prototype.parseAction=function(t,e,n){void 0===n&&(n=N),this._checkNoInterpolation(t,e,n);var i=this._stripComments(t),r=this._lexer.tokenize(this._stripComments(t)),o=new Y(t,e,r,i.length,!0,this.errors,t.length-i.length).parseChain();return new R(o,t,e,this.errors)},t.prototype.parseBinding=function(t,e,n){void 0===n&&(n=N);var i=this._parseBindingAst(t,e,n);return new R(i,t,e,this.errors)},t.prototype.parseSimpleBinding=function(t,e,n){void 0===n&&(n=N);var i=this._parseBindingAst(t,e,n),r=$.check(i);return r.length>0&&this._reportError("Host binding expression cannot contain "+r.join(" "),t,e),new R(i,t,e,this.errors)},t.prototype._reportError=function(t,e,n,i){this.errors.push(new a(t,e,n,i))},t.prototype._parseBindingAst=function(t,n,i){var r=this._parseQuote(t,n);if(e(r))return r;this._checkNoInterpolation(t,n,i);var o=this._stripComments(t),s=this._lexer.tokenize(o);return new Y(t,n,s,o.length,!1,this.errors,t.length-o.length).parseChain()},t.prototype._parseQuote=function(t,e){if(n(t))return null;var i=t.indexOf(":");if(-1==i)return null;var r=t.substring(0,i).trim();if(!function(t){if(0==t.length)return!1;var e=new z(t);if(!q(e.peek))return!1;for(e.advance();0!==e.peek;){if(!U(e.peek))return!1;e.advance()}return!0}(r))return null;var o=t.substring(i+1);return new l(new u(0,t.length),r,o,e)},t.prototype.parseTemplateBindings=function(t,e,n){var i=this._lexer.tokenize(e);if(t){var r=this._lexer.tokenize(t).map(function(t){return t.index=0,t});i.unshift.apply(i,r)}return new Y(e,n,i,e.length,!1,this.errors,0).parseTemplateBindings()},t.prototype.parseInterpolation=function(t,e,i){void 0===i&&(i=N);var r=this.splitInterpolation(t,e,i);if(null==r)return null;for(var o=[],s=0;s<r.expressions.length;++s){var a=r.expressions[s],c=this._stripComments(a),l=this._lexer.tokenize(this._stripComments(r.expressions[s])),h=new Y(t,e,l,c.length,!1,this.errors,r.offsets[s]+(a.length-c.length)).parseChain();o.push(h)}return new R(new E(new u(0,n(t)?0:t.length),r.strings,o),t,e,this.errors)},t.prototype.splitInterpolation=function(t,e,n){void 0===n&&(n=N);var i=Q(n),r=t.split(i);if(r.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<r.length;c++){var l=r[c];c%2==0?(o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column "+this._findInterpolationErrorColumn(r,c,n)+" in",e),s.push("$implict"),a.push(u))}return new G(o,s,a)},t.prototype.wrapLiteralPrimitive=function(t,e){return new R(new k(new u(0,n(t)?0:t.length),t),t,e,this.errors)},t.prototype._stripComments=function(t){var n=this._commentStart(t);return e(n)?t.substring(0,n).trim():t},t.prototype._commentStart=function(t){for(var e=null,i=0;i<t.length-1;i++){var r=t.charCodeAt(i),o=t.charCodeAt(i+1);if(47===r&&47==o&&n(e))return i;e===r?e=null:n(e)&&(39===(s=r)||34===s||96===s)&&(e=r)}var s;return null},t.prototype._checkNoInterpolation=function(t,e,n){var i=Q(n),r=t.split(i);r.length>1&&this._reportError("Got interpolation ("+n.start+n.end+") where expression was expected",t,"at column "+this._findInterpolationErrorColumn(r,1,n)+" in",e)},t.prototype._findInterpolationErrorColumn=function(t,e,n){for(var i="",r=0;r<e;r++)i+=r%2==0?t[r]:""+n.start+t[r]+n.end;return i.length},t}(),Y=function(){function t(t,e,n,i,r,o,s){this.input=t,this.location=e,this.tokens=n,this.inputLength=i,this.parseAction=r,this.errors=o,this.offset=s,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return t.prototype.peek=function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:H},Object.defineProperty(t.prototype,"next",{get:function(){return this.peek(0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputIndex",{get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset},enumerable:!0,configurable:!0}),t.prototype.span=function(t){return new u(t,this.inputIndex)},t.prototype.advance=function(){this.index++},t.prototype.optionalCharacter=function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)},t.prototype.peekKeywordLet=function(){return this.next.isKeywordLet()},t.prototype.expectCharacter=function(t){this.optionalCharacter(t)||this.error("Missing expected "+String.fromCharCode(t))},t.prototype.optionalOperator=function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)},t.prototype.expectOperator=function(t){this.optionalOperator(t)||this.error("Missing expected operator "+t)},t.prototype.expectIdentifierOrKeyword=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier or keyword"),"")},t.prototype.expectIdentifierOrKeywordOrString=function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token "+t+", expected identifier, keyword, or string"),"")},t.prototype.parseChain=function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '"+this.next+"'")}return 0==t.length?new h(this.span(e)):1==t.length?t[0]:new d(this.span(e),t)},t.prototype.parsePipe=function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());t=new w(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t},t.prototype.parseExpression=function(){return this.parseConditional()},t.prototype.parseConditional=function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n=this.parsePipe(),i=void 0;if(this.optionalCharacter(58))i=this.parsePipe();else{var r=this.input.substring(t,this.inputIndex);this.error("Conditional expression "+r+" requires all 3 expressions"),i=new h(this.span(t))}return new p(this.span(t),e,n,i)}return e},t.prototype.parseLogicalOr=function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new S(this.span(t.span.start),"||",t,e)}return t},t.prototype.parseLogicalAnd=function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new S(this.span(t.span.start),"&&",t,e)}return t},t.prototype.parseEquality=function(){for(var t=this.parseRelational();this.next.type==D.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new S(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseRelational=function(){for(var t=this.parseAdditive();this.next.type==D.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new S(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseAdditive=function(){for(var t=this.parseMultiplicative();this.next.type==D.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new S(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parseMultiplicative=function(){for(var t=this.parsePrefix();this.next.type==D.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new S(this.span(t.span.start),e,t,n);continue}break}return t},t.prototype.parsePrefix=function(){if(this.next.type==D.Operator){var t=this.inputIndex,e=this.next.strValue,n=void 0;switch(e){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),n=this.parsePrefix(),new S(this.span(t),e,new k(new u(t,t),0),n);case"!":return this.advance(),n=this.parsePrefix(),new x(this.span(t),n)}}return this.parseCallChain()},t.prototype.parseCallChain=function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();t=new _(this.span(t.span.start),t,e,n)}else t=new g(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(40))return t;this.rparensExpected++;var i=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new A(this.span(t.span.start),t,i)}},t.prototype.parsePrimary=function(){var t=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new k(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new k(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new k(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new k(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new f(this.span(t));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new b(this.span(t),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new f(this.span(t)),!1);if(this.next.isNumber()){var i=this.next.toNumber();return this.advance(),new k(this.span(t),i)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new k(this.span(t),r)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: "+this.input),new h(this.span(t))):(this.error("Unexpected token "+this.next),new h(this.span(t)))},t.prototype.parseExpressionList=function(t){var e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e},t.prototype.parseLiteralMap=function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var i=this.expectIdentifierOrKeywordOrString();t.push(i),this.expectCharacter(58),e.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new C(this.span(n),t,e)},t.prototype.parseAccessMemberOrMethodCall=function(t,e){void 0===e&&(e=!1);var n=t.span.start,i=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n);return e?new M(o,t,i,r):new T(o,t,i,r)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new h(this.span(n))):new m(this.span(n),t,i);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new h(this.span(n));var s=this.parseConditional();return new y(this.span(n),t,i,s)}return new v(this.span(n),t,i)},t.prototype.parseCallArguments=function(){if(this.next.isCharacter(41))return[];var t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t},t.prototype.expectTemplateBindingKey=function(){var t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()},t.prototype.parseTemplateBindings=function(){for(var t=[],e=null;this.index<this.tokens.length;){var n=this.inputIndex,i=this.peekKeywordLet();i&&this.advance();var r=this.expectTemplateBindingKey();i||(null==e?e=r:r=e+r[0].toUpperCase()+r.substring(1)),this.optionalCharacter(58);var o=null,s=null;if(i)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==H&&!this.peekKeywordLet()){var a=this.inputIndex,u=this.parsePipe(),c=this.input.substring(a-this.offset,this.inputIndex-this.offset);s=new R(u,c,this.location,this.errors)}t.push(new O(this.span(n),r,i,o,s)),this.optionalCharacter(59)||this.optionalCharacter(44)}return new Z(t,[],this.errors)},t.prototype.error=function(t,e){void 0===e&&(e=null),this.errors.push(new a(t,this.input,this.locationText(e),this.location)),this.skip()},t.prototype.locationText=function(t){return void 0===t&&(t=null),n(t)&&(t=this.index),t<this.tokens.length?"at column "+(this.tokens[t].index+1)+" in":"at the end of the expression"},t.prototype.skip=function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(59)&&(this.rparensExpected<=0||!t.isCharacter(41))&&(this.rbracesExpected<=0||!t.isCharacter(125))&&(this.rbracketsExpected<=0||!t.isCharacter(93));)this.next.isError()&&this.errors.push(new a(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next},t}(),$=function(){function t(){this.errors=[]}return t.check=function(e){var n=new t;return e.visit(n),n.errors},t.prototype.visitImplicitReceiver=function(t,e){},t.prototype.visitInterpolation=function(t,e){},t.prototype.visitLiteralPrimitive=function(t,e){},t.prototype.visitPropertyRead=function(t,e){},t.prototype.visitPropertyWrite=function(t,e){},t.prototype.visitSafePropertyRead=function(t,e){},t.prototype.visitMethodCall=function(t,e){},t.prototype.visitSafeMethodCall=function(t,e){},t.prototype.visitFunctionCall=function(t,e){},t.prototype.visitLiteralArray=function(t,e){this.visitAll(t.expressions)},t.prototype.visitLiteralMap=function(t,e){this.visitAll(t.values)},t.prototype.visitBinary=function(t,e){},t.prototype.visitPrefixNot=function(t,e){},t.prototype.visitConditional=function(t,e){},t.prototype.visitPipe=function(t,e){this.errors.push("pipes")},t.prototype.visitKeyedRead=function(t,e){},t.prototype.visitKeyedWrite=function(t,e){},t.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},t.prototype.visitChain=function(t,e){},t.prototype.visitQuote=function(t,e){},t}();function J(t){return JSON.stringify(t).replace(/"/g,"")}var tt=function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),et=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return tt(e,t),e.prototype._handleMethodArgs=function(t){if(!t)return"";for(var e="",n=0,i=t.length;n<i;n++)e+=n===i-1?""+t[n]:t[n]+", ";return e},e.prototype._handlePipeArgs=function(t){if(!t)return"";for(var e="",n=0,i=t;n<i.length;n++)e+=" : "+i[n];return e},e.prototype.visitBinary=function(t){var e=t.left.visit(this),n=t.right.visit(this);return e+" "+t.operation+" "+n},e.prototype.visitChain=function(t){return J(this.visitAll(t.expressions))},e.prototype.visitConditional=function(t){return t.condition.visit(this)+" ? "+t.trueExp.visit(this)+" : "+t.falseExp.visit(this)},e.prototype.visitPipe=function(t){var e=t.name;return t.exp.visit(this)+" | "+e+this._handlePipeArgs(this.visitAll(t.args))},e.prototype.visitFunctionCall=function(t){return t.target.visit(this)+"("+this._handleMethodArgs(this.visitAll(t.args))+")"},e.prototype.visitImplicitReceiver=function(t){return""},e.prototype.visitInterpolation=function(t){return"{{"+this.visitAll(t.expressions)[0]+"}}"},e.prototype.visitKeyedRead=function(t){return t.obj.visit(this)+"["+t.key.visit(this)+"]"},e.prototype.visitKeyedWrite=function(t){return null},e.prototype.visitLiteralArray=function(t){return J(this.visitAll(t.expressions))},e.prototype.visitLiteralMap=function(t,e){for(var n={},i=t.keys,r=this.visitAll(t.values),o=0,s=i.length;o<s;o++){var a=r[o];"string"!=typeof a&&e&&(a=""+a),n[i[o]]=a}return e?n:J(n)},e.prototype.visitLiteralPrimitive=function(t){return"string"==typeof t.value?"'"+t.value+"'":t.value},e.prototype.visitMethodCall=function(t){var e=t.name,n=t.receiver.visit(this);return""+(n?n+".":n)+e+"("+this._handleMethodArgs(this.visitAll(t.args))+")"},e.prototype.visitPrefixNot=function(t){return t.expression.visit(this)},e.prototype.visitPropertyRead=function(t){var e=t.name,n=t.receiver.visit(this);return""+(n?n+".":n)+e},e.prototype.visitPropertyWrite=function(t){return null},e.prototype.visitSafePropertyRead=function(t){var e=t.name,n=t.receiver.visit(this);return""+(n?n+".":n)+e},e.prototype.visitSafeMethodCall=function(t){var e=t.name,n=t.receiver.visit(this);return""+(n?n+".":n)+e+"("+this._handleMethodArgs(this.visitAll(t.args))+")"},e.prototype.visitAll=function(t){var e=this;return t.map(function(t){return t.visit(e)})},e.prototype.visitQuote=function(t){return null},e}(P),nt=function(){function t(){this._parser=new X(new F),this._cache=new Map}return t.prototype.map=function(t){var e=null,n=new et;if(this._cache.has(t))e=this._cache.get(t);else{if(e=this._parser.parseInterpolation(t,"JsonMapper"))throw new Error("JsonMapperVisitor ERROR: given expression must be json expression.");if(!((e=this._parser.parseBinding(t,"Parse")).ast instanceof C))throw new Error("JsonMapper ERROR: given expression must be json expression.");this._cache.set(t,e)}for(var i=new Map,r=e.visit(n,!0),o=Object.keys(r),s=0,a=o.length;s<a;s++)i.set(o[s],r[o[s]]);return i},t}();t.JsonStringMapper=nt,Object.defineProperty(t,"__esModule",{value:!0})}(e)},Cg5X:function(t,e,n){"use strict";if(t.exports)var i=n("Y1mi");function r(t,e){if(!(this instanceof r))return new r(t,e);this.easting=Number(t),this.northing=Number(e)}r.latLonToOsGrid=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");t.datum!=i.datum.OSGB36&&(t=t.convertDatum(i.datum.OSGB36));var e=t.lat.toRadians(),n=t.lon.toRadians(),o=6377563.396,s=6356256.909,a=.9996012717,u=49..toRadians(),c=(-2).toRadians(),l=1-s*s/(o*o),h=(o-s)/(o+s),f=h*h,d=h*h*h,p=Math.cos(e),v=Math.sin(e),y=o*a/Math.sqrt(1-l*v*v),m=o*a*(1-l)/Math.pow(1-l*v*v,1.5),g=y/m-1,_=s*a*((1+h+5/4*f+5/4*d)*(e-u)-(3*h+3*h*h+21/8*d)*Math.sin(e-u)*Math.cos(e+u)+(15/8*f+15/8*d)*Math.sin(2*(e-u))*Math.cos(2*(e+u))-35/24*d*Math.sin(3*(e-u))*Math.cos(3*(e+u))),w=p*p*p,k=w*p*p,b=Math.tan(e)*Math.tan(e),C=b*b,E=n-c,S=E*E,x=S*E,T=x*E,M=T*E,A=_+-1e5+y/2*v*p*S+y/24*v*w*(5-b+9*g)*T+y/720*v*k*(61-58*b+C)*(M*E),R=4e5+y*p*E+y/6*w*(y/m-b)*x+y/120*k*(5-18*b+C+14*g-58*b*g)*M;return A=Number(A.toFixed(3)),new r(R=Number(R.toFixed(3)),A)},r.osGridToLatLon=function(t,e){if(!(t instanceof r))throw new TypeError("gridref is not OsGridRef object");void 0===e&&(e=i.datum.WGS84);var n=t.easting,o=t.northing,s=6377563.396,a=6356256.909,u=.9996012717,c=49..toRadians(),l=(-2).toRadians(),h=1-a*a/(s*s),f=(s-a)/(s+a),d=f*f,p=f*f*f,v=c,y=0;do{y=a*u*((1+f+5/4*d+5/4*p)*((v=(o- -1e5-y)/(s*u)+v)-c)-(3*f+3*f*f+21/8*p)*Math.sin(v-c)*Math.cos(v+c)+(15/8*d+15/8*p)*Math.sin(2*(v-c))*Math.cos(2*(v+c))-35/24*p*Math.sin(3*(v-c))*Math.cos(3*(v+c)))}while(o- -1e5-y>=1e-5);var m=Math.cos(v),g=Math.sin(v),_=s*u/Math.sqrt(1-h*g*g),w=s*u*(1-h)/Math.pow(1-h*g*g,1.5),k=_/w-1,b=Math.tan(v),C=b*b,E=C*C,S=1/m,x=_*_*_,T=x*_*_,M=n-4e5,A=M*M,R=A*M,O=A*A,P=R*A,I=l+S/_*M-S/(6*x)*(_/w+2*C)*R+S/(120*T)*(5+28*C+24*E)*P-S/(T*_*_*5040)*(61+662*C+1320*E+E*C*720)*(P*A),D=new i((v=v-b/(2*w*_)*A+b/(24*w*x)*(5+3*C+k-9*C*k)*O-b/(720*w*T)*(61+90*C+45*E)*(O*A)).toDegrees(),I.toDegrees(),i.datum.OSGB36);return e!=i.datum.OSGB36&&(D=D.convertDatum(e)),D},r.parse=function(t){var e=(t=String(t).trim()).match(/^(\d+),\s*(\d+)$/);if(e)return new r(e[1],e[2]);if(!(e=t.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference");var n=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0),i=t.toUpperCase().charCodeAt(1)-"A".charCodeAt(0);n>7&&n--,i>7&&i--;var o=(n-2)%5*5+i%5,s=19-5*Math.floor(n/5)-Math.floor(i/5),a=t.slice(2).trim().split(/\s+/);if(1==a.length&&(a=[a[0].slice(0,a[0].length/2),a[0].slice(a[0].length/2)]),o<0||o>6||s<0||s>12)throw new Error("Invalid grid reference");if(2!=a.length)throw new Error("Invalid grid reference");if(a[0].length!=a[1].length)throw new Error("Invalid grid reference");return a[0]=(a[0]+"00000").slice(0,5),a[1]=(a[1]+"00000").slice(0,5),new r(o+a[0],s+a[1])},r.prototype.toString=function(t){if(t=void 0===t?10:Number(t),isNaN(t)||t%2!=0||t>16)throw new RangeError("Invalid precision \u2018"+t+"\u2019");var e=this.easting,n=this.northing;if(isNaN(e)||isNaN(n))throw new Error("Invalid grid reference");if(0==t){var i=Math.floor(e),r=e-i,o=Math.floor(n),s=n-o;return("000000"+i).slice(-6)+(r>0?r.toFixed(3).slice(1):"")+","+((o<1e6?("000000"+o).slice(-6):o)+(s>0?s.toFixed(3).slice(1):""))}var a=Math.floor(e/1e5),u=Math.floor(n/1e5);if(a<0||a>6||u<0||u>12)return"";var c=19-u-(19-u)%5+Math.floor((a+10)/5),l=5*(19-u)%25+a%5;c>7&&c++,l>7&&l++;var h=String.fromCharCode(c+"A".charCodeAt(0),l+"A".charCodeAt(0));return e=Math.floor(e%1e5/Math.pow(10,5-t/2)),n=Math.floor(n%1e5/Math.pow(10,5-t/2)),h+" "+(e=("00000000"+e).slice(-t/2))+" "+("00000000"+n).slice(-t/2)},t.exports&&(t.exports=r)},EO7G:function(t,e,n){"use strict";if(t.exports)var i=n("nXlo");if(t.exports)var r=n("Y1mi");function o(t,e,n,i,s,a,u){if(!(this instanceof o))return new o(t,e,n,i,s,a,u);if(void 0===u&&(u=r.datum.WGS84),!(1<=t&&t<=60))throw new Error("Invalid MGRS grid reference (zone \u2018"+t+"\u2019)");if(1!=e.length)throw new Error("Invalid MGRS grid reference (band \u2018"+e+"\u2019)");if(-1==o.latBands.indexOf(e))throw new Error("Invalid MGRS grid reference (band \u2018"+e+"\u2019)");if(1!=n.length)throw new Error("Invalid MGRS grid reference (e100k \u2018"+n+"\u2019)");if(1!=i.length)throw new Error("Invalid MGRS grid reference (n100k \u2018"+i+"\u2019)");this.zone=Number(t),this.band=e,this.e100k=n,this.n100k=i,this.easting=Number(s),this.northing=Number(a),this.datum=u}o.latBands="CDEFGHJKLMNPQRSTUVWXX",o.e100kLetters=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],o.n100kLetters=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"],i.prototype.toMgrs=function(){if(isNaN(this.zone+this.easting+this.northing))throw new Error("Invalid UTM coordinate \u2018"+this.toString()+"\u2019");var t=this.zone,e=this.toLatLonE(),n=o.latBands.charAt(Math.floor(e.lat/8+10)),i=Math.floor(this.easting/1e5),r=o.e100kLetters[(t-1)%3].charAt(i-1),s=Math.floor(this.northing/1e5)%20,a=o.n100kLetters[(t-1)%2].charAt(s),u=this.easting%1e5,c=this.northing%1e5;return new o(t,n,r,a,u=Number(u.toFixed(6)),c=Number(c.toFixed(6)))},o.prototype.toUtm=function(){for(var t=this.zone,e=this.band,n=this.n100k,s=this.easting,a=this.northing,u=e>="N"?"N":"S",c=1e5*(o.e100kLetters[(t-1)%3].indexOf(this.e100k)+1),l=1e5*o.n100kLetters[(t-1)%2].indexOf(n),h=8*(o.latBands.indexOf(e)-10),f=1e5*Math.floor(new r(h,0).toUtm().northing/1e5),d=0;d+l+a<f;)d+=2e6;return new i(t,u,c+s,d+l+a,this.datum)},o.parse=function(t){if(!(t=t.trim()).match(/\s/)){var e=t.slice(5);e=e.slice(0,e.length/2)+" "+e.slice(-e.length/2),t=t.slice(0,3)+" "+t.slice(3,5)+" "+e}if(null==(t=t.match(/\S+/g))||4!=t.length)throw new Error("Invalid MGRS grid reference \u2018"+t+"\u2019");var n=t[0],i=n.slice(0,2),r=n.slice(2,3),s=t[1],a=s.slice(0,1),u=s.slice(1,2),c=t[2],l=t[3];return new o(i,r,a,u,c=c.length>=5?c:(c+"00000").slice(0,5),l=l.length>=5?l:(l+"00000").slice(0,5))},o.prototype.toString=function(t){if(t=void 0===t?10:Number(t),-1==[2,4,6,8,10].indexOf(t))throw new Error("Invalid precision \u2018"+t+"\u2019");var e=("00"+this.zone).slice(-2),n=this.band,i=this.e100k,r=this.n100k,o=Math.floor(this.easting/Math.pow(10,5-t/2)),s=Math.floor(this.northing/Math.pow(10,5-t/2));return e+n+" "+i+r+" "+("00000"+o).slice(-t/2)+" "+("00000"+s).slice(-t/2)},t.exports&&(t.exports=o)},KKCa:function(t,e){t.exports="function"==typeof Object.create?function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},LnQ2:function(t,e,n){"use strict";if(t.exports)var i=n("Y1mi");i.prototype.distanceTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).distance.toFixed(3))}catch(e){return NaN}},i.prototype.initialBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).initialBearing.toFixed(9))}catch(e){return NaN}},i.prototype.finalBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).finalBearing.toFixed(9))}catch(e){return NaN}},i.prototype.destinationPoint=function(t,e){return this.direct(Number(t),Number(e)).point},i.prototype.finalBearingOn=function(t,e){return Number(this.direct(Number(t),Number(e)).finalBearing.toFixed(9))},i.prototype.direct=function(t,e){var n,r,o,s,a=this.lat.toRadians(),u=this.lon.toRadians(),c=e.toRadians(),l=t,h=this.datum.ellipsoid.a,f=this.datum.ellipsoid.b,d=this.datum.ellipsoid.f,p=Math.sin(c),v=Math.cos(c),y=(1-d)*Math.tan(a),m=1/Math.sqrt(1+y*y),g=y*m,_=Math.atan2(y,v),w=m*p,k=1-w*w,b=k*(h*h-f*f)/(f*f),C=1+b/16384*(4096+b*(b*(320-175*b)-768)),E=b/1024*(256+b*(b*(74-47*b)-128)),S=l/(f*C),x=0;do{n=Math.cos(2*_+S),s=S,S=l/(f*C)+E*(r=Math.sin(S))*(n+E/4*((o=Math.cos(S))*(2*n*n-1)-E/6*n*(4*r*r-3)*(4*n*n-3)))}while(Math.abs(S-s)>1e-12&&++x<100);if(x>=100)throw new Error("Formula failed to converge");var T=g*r-m*o*v,M=Math.atan2(g*o+m*r*v,(1-d)*Math.sqrt(w*w+T*T)),A=d/16*k*(4+d*(4-3*k)),R=(u+(Math.atan2(r*p,m*o-g*r*v)-(1-A)*d*w*(S+A*r*(n+A*o*(2*n*n-1))))+3*Math.PI)%(2*Math.PI)-Math.PI,O=Math.atan2(w,-T);return O=(O+2*Math.PI)%(2*Math.PI),{point:new i(M.toDegrees(),R.toDegrees(),this.datum),finalBearing:O.toDegrees(),iterations:x}},i.prototype.inverse=function(t){var e=t;-180==this.lon&&(this.lon=180);var n,i,r,o,s,a,u=this.lat.toRadians(),c=this.lon.toRadians(),l=e.lat.toRadians(),h=e.lon.toRadians(),f=this.datum.ellipsoid.a,d=this.datum.ellipsoid.b,p=this.datum.ellipsoid.f,v=h-c,y=(1-p)*Math.tan(u),m=1/Math.sqrt(1+y*y),g=y*m,_=(1-p)*Math.tan(l),w=1/Math.sqrt(1+_*_),k=_*w,b=0,C=0,E=0,S=0,x=0,T=v,M=0,A=Math.abs(v)>Math.PI;do{if(0==(r=w*(n=Math.sin(T))*(w*n)+(m*k-g*w*(i=Math.cos(T)))*(m*k-g*w*i)))break;if(C=g*k+m*w*i,a=T,T=v+(1-(s=p/16*(S=1-(o=m*w*n/(b=Math.sqrt(r)))*o)*(4+p*(4-3*S))))*p*o*((E=Math.atan2(b,C))+s*b*((x=0!=S?C-2*g*k/S:0)+s*C*(2*x*x-1))),(A?Math.abs(T)-Math.PI:Math.abs(T))>Math.PI)throw new Error("\u03bb > \u03c0")}while(Math.abs(T-a)>1e-12&&++M<1e3);if(M>=1e3)throw new Error("Formula failed to converge");var R=S*(f*f-d*d)/(d*d),O=R/1024*(256+R*(R*(74-47*R)-128)),P=d*(1+R/16384*(4096+R*(R*(320-175*R)-768)))*(E-O*b*(x+O/4*(C*(2*x*x-1)-O/6*x*(4*b*b-3)*(4*x*x-3)))),I=Math.atan2(w*n,m*k-g*w*i),D=Math.atan2(m*n,-g*w+m*k*i);return I=(I+2*Math.PI)%(2*Math.PI),D=(D+2*Math.PI)%(2*Math.PI),{distance:P,initialBearing:0==P?NaN:I.toDegrees(),finalBearing:0==P?NaN:D.toDegrees(),iterations:M}},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=i)},MCLT:function(t,e,n){var i=Object.getOwnPropertyDescriptors||function(t){for(var e=Object.keys(t),n={},i=0;i<e.length;i++)n[e[i]]=Object.getOwnPropertyDescriptor(t,e[i]);return n},r=/%[sdj%]/g;e.format=function(t){if(!m(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(a(arguments[n]));return e.join(" ")}n=1;for(var i=arguments,o=i.length,s=String(t).replace(r,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(e){return"[Circular]"}default:return t}}),u=i[n];n<o;u=i[++n])v(u)||!w(u)?s+=" "+u:s+=" "+a(u);return s},e.deprecate=function(t,n){if("undefined"!=typeof process&&!0===process.noDeprecation)return t;if("undefined"==typeof process)return function(){return e.deprecate(t,n).apply(this,arguments)};var i=!1;return function(){if(!i){if(process.throwDeprecation)throw new Error(n);process.traceDeprecation?console.trace(n):console.error(n),i=!0}return t.apply(this,arguments)}};var o,s={};function a(t,n){var i={seen:[],stylize:c};return arguments.length>=3&&(i.depth=arguments[2]),arguments.length>=4&&(i.colors=arguments[3]),p(n)?i.showHidden=n:n&&e._extend(i,n),g(i.showHidden)&&(i.showHidden=!1),g(i.depth)&&(i.depth=2),g(i.colors)&&(i.colors=!1),g(i.customInspect)&&(i.customInspect=!0),i.colors&&(i.stylize=u),l(i,t,i.depth)}function u(t,e){var n=a.styles[e];return n?"\x1b["+a.colors[n][0]+"m"+t+"\x1b["+a.colors[n][1]+"m":t}function c(t,e){return t}function l(t,n,i){if(t.customInspect&&n&&C(n.inspect)&&n.inspect!==e.inspect&&(!n.constructor||n.constructor.prototype!==n)){var r=n.inspect(i,t);return m(r)||(r=l(t,r,i)),r}var o=function(t,e){if(g(e))return t.stylize("undefined","undefined");if(m(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):p(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}(t,n);if(o)return o;var s=Object.keys(n),a=function(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(n)),b(n)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return h(n);if(0===s.length){if(C(n))return t.stylize("[Function"+(n.name?": "+n.name:"")+"]","special");if(_(n))return t.stylize(RegExp.prototype.toString.call(n),"regexp");if(k(n))return t.stylize(Date.prototype.toString.call(n),"date");if(b(n))return h(n)}var u,c="",w=!1,E=["{","}"];return d(n)&&(w=!0,E=["[","]"]),C(n)&&(c=" [Function"+(n.name?": "+n.name:"")+"]"),_(n)&&(c=" "+RegExp.prototype.toString.call(n)),k(n)&&(c=" "+Date.prototype.toUTCString.call(n)),b(n)&&(c=" "+h(n)),0!==s.length||w&&0!=n.length?i<0?_(n)?t.stylize(RegExp.prototype.toString.call(n),"regexp"):t.stylize("[Object]","special"):(t.seen.push(n),u=w?function(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)M(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))}),o}(t,n,i,a,s):s.map(function(e){return f(t,n,i,a,e,w)}),t.seen.pop(),function(t,e,n){return t.reduce(function(t,e){return e.indexOf("\n"),t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}(u,c,E)):E[0]+c+E[1]}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function f(t,e,n,i,r,o){var s,a,u;if((u=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]}).get?a=t.stylize(u.set?"[Getter/Setter]":"[Getter]","special"):u.set&&(a=t.stylize("[Setter]","special")),M(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(u.value)<0?(a=v(n)?l(t,u.value,null):l(t,u.value,n-1)).indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n")):a=t.stylize("[Circular]","special")),g(s)){if(o&&r.match(/^\d+$/))return a;(s=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function d(t){return Array.isArray(t)}function p(t){return"boolean"==typeof t}function v(t){return null===t}function y(t){return"number"==typeof t}function m(t){return"string"==typeof t}function g(t){return void 0===t}function _(t){return w(t)&&"[object RegExp]"===E(t)}function w(t){return"object"==typeof t&&null!==t}function k(t){return w(t)&&"[object Date]"===E(t)}function b(t){return w(t)&&("[object Error]"===E(t)||t instanceof Error)}function C(t){return"function"==typeof t}function E(t){return Object.prototype.toString.call(t)}function S(t){return t<10?"0"+t.toString(10):t.toString(10)}e.debuglog=function(t){if(g(o)&&(o=process.env.NODE_DEBUG||""),t=t.toUpperCase(),!s[t])if(new RegExp("\\b"+t+"\\b","i").test(o)){var n=process.pid;s[t]=function(){var i=e.format.apply(e,arguments);console.error("%s %d: %s",t,n,i)}}else s[t]=function(){};return s[t]},e.inspect=a,a.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},a.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=d,e.isBoolean=p,e.isNull=v,e.isNullOrUndefined=function(t){return null==t},e.isNumber=y,e.isString=m,e.isSymbol=function(t){return"symbol"==typeof t},e.isUndefined=g,e.isRegExp=_,e.isObject=w,e.isDate=k,e.isError=b,e.isFunction=C,e.isPrimitive=function(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||void 0===t},e.isBuffer=n("1gqn");var x=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function T(){var t=new Date,e=[S(t.getHours()),S(t.getMinutes()),S(t.getSeconds())].join(":");return[t.getDate(),x[t.getMonth()],e].join(" ")}function M(t,e){return Object.prototype.hasOwnProperty.call(t,e)}e.log=function(){console.log("%s - %s",T(),e.format.apply(e,arguments))},e.inherits=n("KKCa"),e._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t};var A="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function R(t,e){if(!t){var n=new Error("Promise was rejected with a falsy value");n.reason=t,t=n}return e(t)}e.promisify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');if(A&&t[A]){var e;if("function"!=typeof(e=t[A]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),e}function e(){for(var e,n,i=new Promise(function(t,i){e=t,n=i}),r=[],o=0;o<arguments.length;o++)r.push(arguments[o]);r.push(function(t,i){t?n(t):e(i)});try{t.apply(this,r)}catch(s){n(s)}return i}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),A&&Object.defineProperty(e,A,{value:e,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(e,i(t))},e.promisify.custom=A,e.callbackify=function(t){if("function"!=typeof t)throw new TypeError('The "original" argument must be of type Function');function e(){for(var e=[],n=0;n<arguments.length;n++)e.push(arguments[n]);var i=e.pop();if("function"!=typeof i)throw new TypeError("The last argument must be of type Function");var r=this,o=function(){return i.apply(r,arguments)};t.apply(this,e).then(function(t){process.nextTick(o,null,t)},function(t){process.nextTick(R,t,o)})}return Object.setPrototypeOf(e,Object.getPrototypeOf(t)),Object.defineProperties(e,i(t)),e}},Vws6:function(t,e,n){"use strict";e.LatLonSpherical=n("1CWa"),e.LatLonEllipsoidal=n("Y1mi");var i=n("LnQ2");for(var r in i)e.LatLonEllipsoidal[r]=i[r];e.LatLonVectors=n("rgRP"),e.Vector3d=n("k5WX"),e.Utm=n("nXlo"),e.Mgrs=n("EO7G"),e.OsGridRef=n("Cg5X"),e.Dms=n("wiYu")},Y1mi:function(t,e,n){"use strict";if(t.exports)var i=n("k5WX");if(t.exports)var r=n("wiYu");function o(t,e,n){if(!(this instanceof o))return new o(t,e,n);void 0===n&&(n=o.datum.WGS84),this.lat=Number(t),this.lon=Number(e),this.datum=n}o.datum={ED50:{ellipsoid:(o.ellipsoid={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}}).Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},Irl1975:{ellipsoid:o.ellipsoid.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,-1.042,-.214,-.631]},NAD27:{ellipsoid:o.ellipsoid.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:o.ellipsoid.GRS80,transform:[1.004,-1.91,-.515,-.0015,.0267,34e-5,.011]},NTF:{ellipsoid:o.ellipsoid.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:o.ellipsoid.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:o.ellipsoid.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:o.ellipsoid.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:o.ellipsoid.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:o.ellipsoid.WGS84,transform:[0,0,0,0,0,0,0]}},o.prototype.convertDatum=function(t){var e=this,n=null;if(e.datum==o.datum.WGS84&&(n=t.transform),t==o.datum.WGS84){n=[];for(var i=0;i<7;i++)n[i]=-e.datum.transform[i]}return null==n&&(e=this.convertDatum(o.datum.WGS84),n=t.transform),e.toCartesian().applyTransform(n).toLatLonE(t)},o.prototype.toCartesian=function(){var t=this.lat.toRadians(),e=this.lon.toRadians(),n=this.datum.ellipsoid.a,r=this.datum.ellipsoid.f,o=Math.sin(t),s=Math.cos(t),a=Math.sin(e),u=Math.cos(e),c=2*r-r*r,l=n/Math.sqrt(1-c*o*o);return new i((l+0)*s*u,(l+0)*s*a,(l*(1-c)+0)*o)},i.prototype.toLatLonE=function(t){var e=this.x,n=this.y,i=this.z,r=t.ellipsoid.a,s=t.ellipsoid.b,a=t.ellipsoid.f,u=2*a-a*a,c=u/(1-u),l=Math.sqrt(e*e+n*n),h=s*i/(r*l)*(1+c*s/Math.sqrt(l*l+i*i)),f=h/Math.sqrt(1+h*h),d=f/h,p=isNaN(d)?0:Math.atan2(i+c*s*f*f*f,l-u*r*d*d*d),v=Math.atan2(n,e),y=Math.sin(p);return Math.cos(p),Math.sqrt(1-u*y*y),new o(p.toDegrees(),v.toDegrees(),t)},i.prototype.applyTransform=function(t){var e=this.x,n=this.y,r=this.z,o=t[0],s=t[1],a=t[2],u=t[3]/1e6+1,c=(t[4]/3600).toRadians(),l=(t[5]/3600).toRadians(),h=(t[6]/3600).toRadians();return new i(o+e*u-n*h+r*l,s+e*h+n*u-r*c,a-e*l+n*c+r*u)},o.prototype.toString=function(t,e){return r.toLat(this.lat,t,e)+", "+r.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=o,t.exports.Vector3d=i)},k5WX:function(t,e,n){"use strict";function i(t,e,n){if(!(this instanceof i))return new i(t,e,n);this.x=Number(t),this.y=Number(e),this.z=Number(n)}i.prototype.plus=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x+t.x,this.y+t.y,this.z+t.z)},i.prototype.minus=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.x-t.x,this.y-t.y,this.z-t.z)},i.prototype.times=function(t){return t=Number(t),new i(this.x*t,this.y*t,this.z*t)},i.prototype.dividedBy=function(t){return t=Number(t),new i(this.x/t,this.y/t,this.z/t)},i.prototype.dot=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return this.x*t.x+this.y*t.y+this.z*t.z},i.prototype.cross=function(t){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");return new i(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},i.prototype.negate=function(){return new i(-this.x,-this.y,-this.z)},i.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},i.prototype.unit=function(){var t=this.length();return 1==t||0==t?this:new i(this.x/t,this.y/t,this.z/t)},i.prototype.angleTo=function(t,e){if(!(t instanceof i))throw new TypeError("v is not Vector3d object");if(!(e instanceof i||null==e))throw new TypeError("n is not Vector3d object");var n=null==e?1:Math.sign(this.cross(t).dot(e)),r=this.cross(t).length()*n,o=this.dot(t);return Math.atan2(r,o)},i.prototype.rotateAround=function(t,e){if(!(t instanceof i))throw new TypeError("axis is not Vector3d object");for(var n=this.unit(),r=[n.x,n.y,n.z],o=t.unit(),s=Math.sin(e),a=Math.cos(e),u=[[o.x*o.x*(1-a)+a,o.x*o.y*(1-a)-o.z*s,o.x*o.z*(1-a)+o.y*s],[o.y*o.x*(1-a)+o.z*s,o.y*o.y*(1-a)+a,o.y*o.z*(1-a)-o.x*s],[o.z*o.x*(1-a)-o.y*s,o.z*o.y*(1-a)+o.x*s,o.z*o.z*(1-a)+a]],c=[0,0,0],l=0;l<3;l++)for(var h=0;h<3;h++)c[l]+=u[l][h]*r[h];return new i(c[0],c[1],c[2])},i.prototype.toString=function(t){var e=void 0===t?3:Number(t);return"["+this.x.toFixed(e)+","+this.y.toFixed(e)+","+this.z.toFixed(e)+"]"},void 0===Math.sign&&(Math.sign=function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=i)},mVnp:function(t,e,n){var i;i=function(){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var r=e[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.i=function(t){return t},n.d=function(t,e,n){Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=6)}([function(t,e){"use strict";e.to2D=function(t,e){var n=[],i=[];return Cesium.Cartesian3.unpackArray(e,n),Cesium.Cartesian3.packArray(n.map(function(e){return Cesium.SceneTransforms.computeActualWgs84Position(t,e)}),i),i},e.createSimpleIndicesArray=function(t){for(var e=[],n=0;n<t;n++)e.push(n);return new Uint16Array(e)},e.isTranslucent=function(t){return t[3]<1}},function(t,e,n){"use strict";var i=n(2);e.EllipsePrimitive=i.EllipsePrimitive},function(t,e,n){"use strict";var i=this&&this.__extends||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);function i(){this.constructor=t}t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},r=n(0),o=n(3),s=n(5),a=n(4),u=function(t){function e(e){t.call(this,e),this._center=Cesium.Cartesian3.clone(e.center),this._semiMajor=e.semiMajorAxis,this._semiMinor=e.semiMinorAxis,this._rotation=e.rotation||0,this._border=Cesium.defaultValue(e.border,{show:!0,style:"solid"}),this._showFill=Cesium.defaultValue(e.fill,!0),this._borderColor=e.borderColor||[0,0,0,1],this._granularity=e.granularity||.3,this._borderDrawCommand=new Cesium.DrawCommand({owner:this}),this.calculatePoints()}return i(e,t),Object.defineProperty(e.prototype,"center",{get:function(){return this._center},set:function(t){this._center!==t&&(this._center=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"semiMajor",{get:function(){return this._semiMajor},set:function(t){this._semiMajor!==t&&(this._semiMajor=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"semiMinor",{get:function(){return this._semiMinor},set:function(t){this._semiMinor!==t&&(this._semiMinor=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(t){this._rotation!==t&&(this._rotation=t,this._dirty=!0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderColor",{get:function(){return this._borderColor},set:function(t){this._borderColor=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"show",{get:function(){return this._show},set:function(t){this._show=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"border",{get:function(){return this._border},set:function(t){this._border=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"showFill",{get:function(){return this._showFill},set:function(t){this._showFill=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"points",{set:function(t){(!this._borderIndicesArray||this._points&&this._points.outerPositions&&this._points.outerPositions.length!==t.outerPositions.length)&&(this._borderIndicesArray=e.createBorderIndicesArray(t.outerPositions.length/3)),(!this._indicesArray||this._points&&this._points.positions&&this._points.positions.length!==t.positions.length)&&(this._indicesArray=e.createIndicesArray(t.innerPoints.length/3)),this._points=t},enumerable:!0,configurable:!0}),e.prototype.updateLocationData=function(t){this.center=t.center||this._center,this.semiMajor=t.semiMajorAxis||this._semiMajor,this.semiMinor=t.semiMinorAxis||this._semiMinor,this._rotation=t.rotation||this._rotation,this.calculatePoints(),this.createBoundingVolume()},e.prototype.update=function(t){if(this.shouldRender()){t.mode!==this._lastMode&&(this._dirty=!0);var n=t.context;this.setupRenderState(),this.setupShaderProgram(n),this._border&&(this._borderVertexArray=this._dirty||!this._borderVertexArray?this.createBorderVertexArray(n,t):this._borderVertexArray,this.setupDrawCommand(this._borderDrawCommand,this._borderVertexArray,e.borderStyleToPrimitiveType[this._border.style],r.isTranslucent(this._borderColor)),t.commandList.push(this._borderDrawCommand)),this._showFill&&(this._vertexArray=this._dirty||!this._vertexArray?this.createVertexArray(n,t):this._vertexArray,this.setupDrawCommand(this._drawCommand,this._vertexArray,Cesium.PrimitiveType.TRIANGLE_FAN,this.isTranslucent()),t.commandList.push(this._drawCommand)),this._dirty=!1,this._lastMode=t.mode}},e.prototype.destroy=function(){this._shaderProgram.destroy(),this._vertexArray.destroy(),this._borderVertexArray.destroy()},e.prototype.shouldRender=function(){return t.prototype.shouldRender.call(this)&&(this._showFill||this._border.show)},e.prototype.createBorderVertexArray=function(t,e){var n=e.mode===Cesium.SceneMode.SCENE_3D?this._points.outerPositions:r.to2D(e,this._points.outerPositions),i=[{index:0,enabled:!0,vertexBuffer:Cesium.Buffer.createVertexBuffer({context:t,typedArray:new Float32Array(n),usage:Cesium.BufferUsage.STATIC_DRAW}),componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:0},{index:1,enabled:!0,value:this._borderColor,componentsPerAttribute:4,componentDatatype:Cesium.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:0}];return new Cesium.VertexArray({context:t,attributes:i,indexBuffer:this.createBorderIndexBuffer(t)})},e.prototype.createVertexArray=function(t,e){var n=e.mode===Cesium.SceneMode.SCENE_3D?this._points.innerPoints:r.to2D(e,this._points.innerPoints),i=[{index:0,enabled:!0,vertexBuffer:Cesium.Buffer.createVertexBuffer({context:t,typedArray:new Float32Array(n),usage:Cesium.BufferUsage.STATIC_DRAW}),componentsPerAttribute:3,componentDatatype:Cesium.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:0},{index:1,enabled:!0,value:this._color,componentsPerAttribute:4,componentDatatype:Cesium.ComponentDatatype.FLOAT,normalize:!1,offsetInBytes:0,strideInBytes:0}];return new Cesium.VertexArray({context:t,attributes:i,indexBuffer:this.createIndexBuffer(t)})},e.prototype.setupShaderProgram=function(t){this._shaderProgram=this._shaderProgram||Cesium.ShaderProgram.replaceCache({context:t,shaderProgram:this._shaderProgram,vertexShaderSource:s,fragmentShaderSource:a})},e.prototype.setupRenderState=function(){this._renderState=Cesium.RenderState.fromCache({cull:{enabled:!0,face:Cesium.CullFace.BACK},depthTest:{enabled:!1},depthMask:!0,blending:this.isTranslucent()||r.isTranslucent(this._borderColor)?{enabled:!0}:void 0})},e.prototype.calculatePoints=function(){var t=Cesium.EllipseGeometryLibrary.computeEllipsePositions({center:this._center,rotation:this._rotation,semiMajorAxis:this._semiMajor,semiMinorAxis:this._semiMinor,granularity:this._granularity},!1,!0);t.innerPoints=Cesium.Cartesian3.pack(this._center,[]).concat(t.outerPositions),this.points=t},e.prototype.createBorderIndexBuffer=function(t){return Cesium.Buffer.createIndexBuffer({context:t,typedArray:this._borderIndicesArray,usage:Cesium.BufferUsage.STATIC_DRAW,indexDatatype:Cesium.IndexDatatype.UNSIGNED_SHORT})},e.prototype.createBoundingVolume=function(){this._boundingVolume=new Cesium.BoundingSphere(this._center,this._semiMajor)},e.prototype.createIndexBuffer=function(t){return Cesium.Buffer.createIndexBuffer({context:t,typedArray:new Uint16Array(this._indicesArray),usage:Cesium.BufferUsage.STATIC_DRAW,indexDatatype:Cesium.IndexDatatype.UNSIGNED_SHORT})},e.createBorderIndicesArray=function(t){return r.createSimpleIndicesArray(t)},e.createIndicesArray=function(t){for(var e=[],n=2;n<t;n++)e.push(0,n-1,n);return e.push(0,t-1,1),e},e.borderStyleToPrimitiveType={solid:Cesium.PrimitiveType.LINE_LOOP,dashed:Cesium.PrimitiveType.LINES},e}(o.Primitive);e.EllipsePrimitive=u},function(t,e,n){"use strict";var i=n(0),r=function(){function t(t){this._dirty=!0,this._show=Cesium.defaultValue(t.show,!0),this._color=t.color||[0,0,0,1],this._modelMatrix=Cesium.Matrix4.clone(Cesium.Matrix4.IDENTITY),this._drawCommand=new Cesium.DrawCommand({owner:this})}return Object.defineProperty(t.prototype,"color",{get:function(){return this._color},set:function(t){this._color=t,this._dirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"show",{get:function(){return this._show},set:function(t){this._show=t},enumerable:!0,configurable:!0}),t.prototype.isTranslucent=function(){return i.isTranslucent(this._color)},t.prototype.shouldRender=function(){return this._show},t.prototype.setupDrawCommand=function(t,e,n,i,r){void 0===i&&(i=!1),void 0===r&&(r=!1),t.modelMatrix=this._modelMatrix,t.renderState=this._renderState,t.shaderProgram=this._shaderProgram,t.boundingVolume=this._boundingVolume,t.pass=i?Cesium.Pass.TRANSLUCENT:Cesium.Pass.OPAQUE,t.debugShowBoundingVolume=r,t.primitiveType=n,t.vertexArray=e},t}();e.Primitive=r},function(t,e){t.exports="varying vec4 v_color;\r\nvoid main()\r\n{\r\n    gl_FragColor = v_color;\r\n}\r\n"},function(t,e){t.exports="attribute vec3 position;\r\nattribute vec4 color;\r\nvarying vec4 v_color;\r\n\r\nvoid main() {\r\n    gl_Position = czm_modelViewProjection * vec4(position, 1.0);\r\n    v_color = color;\r\n}"},function(t,e,n){"use strict";!function(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}(n(1))}])},t.exports=i()},nXlo:function(t,e,n){"use strict";if(t.exports)var i=n("Y1mi");function r(t,e,n,o,s,a,u){if(!(this instanceof r))return new r(t,e,n,o,s,a,u);if(void 0===s&&(s=i.datum.WGS84),void 0===a&&(a=null),void 0===u&&(u=null),!(1<=t&&t<=60))throw new Error("Invalid UTM zone "+t);if(!e.match(/[NS]/i))throw new Error("Invalid UTM hemisphere "+e);this.zone=Number(t),this.hemisphere=e.toUpperCase(),this.easting=Number(n),this.northing=Number(o),this.datum=s,this.convergence=null===a?null:Number(a),this.scale=null===u?null:Number(u)}i.prototype.toUtm=function(){if(isNaN(this.lat)||isNaN(this.lon))throw new Error("Invalid point");if(!(-80<=this.lat&&this.lat<=84))throw new Error("Outside UTM limits");var t=Math.floor((this.lon+180)/6)+1,e=(6*(t-1)-180+3).toRadians(),n="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(this.lat/8+10));31==t&&"V"==n&&this.lon>=3&&(t++,e+=6..toRadians()),32==t&&"X"==n&&this.lon<9&&(t--,e-=6..toRadians()),32==t&&"X"==n&&this.lon>=9&&(t++,e+=6..toRadians()),34==t&&"X"==n&&this.lon<21&&(t--,e-=6..toRadians()),34==t&&"X"==n&&this.lon>=21&&(t++,e+=6..toRadians()),36==t&&"X"==n&&this.lon<33&&(t--,e-=6..toRadians()),36==t&&"X"==n&&this.lon>=33&&(t++,e+=6..toRadians());for(var i=this.lat.toRadians(),o=this.lon.toRadians()-e,s=this.datum.ellipsoid.a,a=this.datum.ellipsoid.f,u=.9996,c=Math.sqrt(a*(2-a)),l=a/(2-a),h=l*l,f=l*h,d=l*f,p=l*d,v=l*p,y=Math.cos(o),m=Math.sin(o),g=Math.tan(o),_=Math.tan(i),w=Math.sinh(c*Math.atanh(c*_/Math.sqrt(1+_*_))),k=_*Math.sqrt(1+w*w)-w*Math.sqrt(1+_*_),b=Math.atan2(k,y),C=Math.asinh(m/Math.sqrt(k*k+y*y)),E=s/(1+l)*(1+1/4*h+1/64*d+1/256*v),S=[null,.5*l-2/3*h+5/16*f+41/180*d-127/288*p+7891/37800*v,13/48*h-.6*f+557/1440*d+281/630*p-1983433/1935360*v,61/240*f-103/140*d+15061/26880*p+167603/181440*v,49561/161280*d-179/168*p+6601661/7257600*v,34729/80640*p-3418889/1995840*v,.6650675310896665*v],x=b,T=1;T<=6;T++)x+=S[T]*Math.sin(2*T*b)*Math.cosh(2*T*C);var M=C;for(T=1;T<=6;T++)M+=S[T]*Math.cos(2*T*b)*Math.sinh(2*T*C);var A=u*E*M,R=u*E*x,O=1;for(T=1;T<=6;T++)O+=2*T*S[T]*Math.cos(2*T*b)*Math.cosh(2*T*C);var P=0;for(T=1;T<=6;T++)P+=2*T*S[T]*Math.sin(2*T*b)*Math.sinh(2*T*C);var I=Math.atan(k/Math.sqrt(1+k*k)*g)+Math.atan2(P,O),D=Math.sin(i),N=u*(Math.sqrt(1-c*c*D*D)*Math.sqrt(1+_*_)/Math.sqrt(k*k+y*y))*(E/s*Math.sqrt(O*O+P*P));A+=5e5,R<0&&(R+=1e7),A=Number(A.toFixed(6)),R=Number(R.toFixed(6));var L=Number(I.toDegrees().toFixed(9)),F=Number(N.toFixed(12));return new r(t,this.lat>=0?"N":"S",A,R,this.datum,L,F)},r.prototype.toLatLonE=function(){var t=this.zone,e=this.hemisphere,n=this.easting,r=this.northing;if(isNaN(t)||isNaN(n)||isNaN(r))throw new Error("Invalid coordinate");var o=this.datum.ellipsoid.a,s=this.datum.ellipsoid.f,a=.9996;n-=5e5,r="S"==e?r-1e7:r;for(var u=Math.sqrt(s*(2-s)),c=s/(2-s),l=c*c,h=c*l,f=c*h,d=c*f,p=c*d,v=o/(1+c)*(1+1/4*l+1/64*f+1/256*p),y=n/(a*v),m=r/(a*v),g=[null,.5*c-2/3*l+37/96*h-1/360*f-81/512*d+96199/604800*p,1/48*l+1/15*h-437/1440*f+46/105*d-1118711/3870720*p,17/480*h-37/840*f-209/4480*d+5569/90720*p,4397/161280*f-11/504*d-830251/7257600*p,4583/161280*d-108847/3991680*p,20648693/638668800*p],_=m,w=1;w<=6;w++)_-=g[w]*Math.sin(2*w*m)*Math.cosh(2*w*y);var k=y;for(w=1;w<=6;w++)k-=g[w]*Math.cos(2*w*m)*Math.sinh(2*w*y);var b=Math.sinh(k),C=Math.sin(_),E=Math.cos(_),S=C/Math.sqrt(b*b+E*E),x=S;do{var T=Math.sinh(u*Math.atanh(u*x/Math.sqrt(1+x*x))),M=x*Math.sqrt(1+T*T)-T*Math.sqrt(1+x*x),A=(S-M)/Math.sqrt(1+M*M)*(1+(1-u*u)*x*x)/((1-u*u)*Math.sqrt(1+x*x));x+=A}while(Math.abs(A)>1e-12);var R=x,O=Math.atan(R),P=Math.atan2(b,E),I=1;for(w=1;w<=6;w++)I-=2*w*g[w]*Math.cos(2*w*m)*Math.cosh(2*w*y);var D=0;for(w=1;w<=6;w++)D+=2*w*g[w]*Math.sin(2*w*m)*Math.sinh(2*w*y);var N=Math.atan(Math.tan(_)*Math.tanh(k))+Math.atan2(D,I),L=Math.sin(O),F=a*(Math.sqrt(1-u*u*L*L)*Math.sqrt(1+R*R)*Math.sqrt(b*b+E*E))*(v/o/Math.sqrt(I*I+D*D));P+=(6*(t-1)-180+3).toRadians();var j=Number(O.toDegrees().toFixed(11)),V=Number(P.toDegrees().toFixed(11)),B=Number(N.toDegrees().toFixed(9)),H=Number(F.toFixed(12)),z=new i(j,V,this.datum);return z.convergence=B,z.scale=H,z},r.parse=function(t,e){if(void 0===e&&(e=i.datum.WGS84),null==(t=t.trim().match(/\S+/g))||4!=t.length)throw new Error("Invalid UTM coordinate \u2018"+t+"\u2019");return new r(t[0],t[1],t[2],t[3],e)},r.prototype.toString=function(t){t=Number(t||0);var e=this.zone<10?"0"+this.zone:this.zone,n=this.hemisphere,i=this.easting,r=this.northing;return isNaN(e)||!n.match(/[NS]/)||isNaN(i)||isNaN(r)?"":e+" "+n+" "+i.toFixed(t)+" "+r.toFixed(t)},void 0===Math.sinh&&(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),void 0===Math.cosh&&(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),void 0===Math.tanh&&(Math.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void 0===Math.asinh&&(Math.asinh=function(t){return Math.log(t+Math.sqrt(1+t*t))}),void 0===Math.atanh&&(Math.atanh=function(t){return Math.log((1+t)/(1-t))/2}),t.exports&&(t.exports=r)},rgRP:function(t,e,n){"use strict";if(t.exports)var i=n("k5WX");if(t.exports)var r=n("wiYu");function o(t,e){if(!(this instanceof o))return new o(t,e);this.lat=Number(t),this.lon=Number(e)}o.prototype.toVector=function(){var t=this.lat.toRadians(),e=this.lon.toRadians(),n=Math.cos(t)*Math.cos(e),r=Math.cos(t)*Math.sin(e),o=Math.sin(t);return new i(n,r,o)},i.prototype.toLatLonS=function(){var t=Math.atan2(this.z,Math.sqrt(this.x*this.x+this.y*this.y)),e=Math.atan2(this.y,this.x);return new o(t.toDegrees(),e.toDegrees())},o.prototype.greatCircle=function(t){var e=this.lat.toRadians(),n=this.lon.toRadians(),r=Number(t).toRadians(),o=Math.sin(n)*Math.cos(r)-Math.sin(e)*Math.cos(n)*Math.sin(r),s=-Math.cos(n)*Math.cos(r)-Math.sin(e)*Math.sin(n)*Math.sin(r),a=Math.cos(e)*Math.sin(r);return new i(o,s,a)},i.prototype.greatCircle=function(t){var e=Number(t).toRadians(),n=new i(0,0,1).cross(this),r=this.cross(n),o=n.times(Math.cos(e)/n.length());return r.times(Math.sin(e)/r.length()).minus(o)},o.prototype.distanceTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");e=void 0===e?6371e3:Number(e);var n=this.toVector(),i=t.toVector();return n.angleTo(i)*e},o.prototype.bearingTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),n=t.toVector(),r=new i(0,0,1),s=e.cross(n),a=e.cross(r);return(s.angleTo(a,e).toDegrees()+360)%360},o.prototype.midpointTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),n=t.toVector();return e.plus(n).unit().toLatLonS()},o.prototype.intermediatePointTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),r=t.toVector(),s=n.cross(r).length(),a=n.dot(r),u=Math.atan2(s,a)*Number(e),c=Math.sin(u),l=Math.cos(u),h=n.cross(r).unit().cross(n),f=n.times(l).plus(h.times(c));return new i(f.x,f.y,f.z).toLatLonS()},o.prototype.intermediatePointOnChordTo=function(t,e){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),r=t.toVector(),s=n.plus(r.minus(n).times(Number(e)));return new i(s.x,s.y,s.z).toLatLonS()},o.prototype.destinationPoint=function(t,e,n){n=void 0===n?6371e3:Number(n);var r=this.toVector(),o=Number(t)/n,s=Number(e).toRadians(),a=new i(0,0,1).cross(r).unit(),u=r.cross(a),c=a.times(Math.sin(s)),l=u.times(Math.cos(s)).plus(c),h=r.times(Math.cos(o)),f=l.times(Math.sin(o));return h.plus(f).toLatLonS()},o.intersection=function(t,e,n,i){if(!(t instanceof o))throw new TypeError("path1start is not LatLon object");if(!(n instanceof o))throw new TypeError("path2start is not LatLon object");if(!(e instanceof o)&&isNaN(e))throw new TypeError("path1brngEnd is not LatLon object or bearing");if(!(i instanceof o)&&isNaN(i))throw new TypeError("path2brngEnd is not LatLon object or bearing");var r,s,a,u,c=t.toVector(),l=n.toVector();e instanceof o?(r=c.cross(e.toVector()),a="endpoint"):(r=t.greatCircle(Number(e)),a="bearing"),i instanceof o?(s=l.cross(i.toVector()),u="endpoint"):(s=n.greatCircle(Number(i)),u="bearing");var h=r.cross(s),f=s.cross(r),d=null;switch(a+"+"+u){case"bearing+bearing":switch(Math.sign(r.cross(c).dot(h))+Math.sign(s.cross(l).dot(h))){case 2:d=h;break;case-2:d=f;break;case 0:d=c.plus(l).dot(h)>0?f:h}break;case"bearing+endpoint":d=Math.sign(r.cross(c).dot(h))>0?h:f;break;case"endpoint+bearing":d=Math.sign(s.cross(l).dot(h))>0?h:f;break;case"endpoint+endpoint":d=c.plus(l).plus(e.toVector()).plus(i.toVector()).dot(h)>0?h:f}return d.toLatLonS()},o.prototype.crossTrackDistanceTo=function(t,e,n){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var i=void 0===n?6371e3:Number(n),r=this.toVector();return((e instanceof o?t.toVector().cross(e.toVector()):t.greatCircle(Number(e))).angleTo(r)-Math.PI/2)*i},o.prototype.alongTrackDistanceTo=function(t,e,n){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var i=void 0===n?6371e3:Number(n),r=this.toVector(),s=e instanceof o?t.toVector().cross(e.toVector()):t.greatCircle(Number(e)),a=s.cross(r).cross(s);return t.toVector().angleTo(a,s)*i},o.prototype.nearestPointOnSegment=function(t,e){var n=null;if(this.isBetween(t,e)){var i=this.toVector(),r=t.toVector(),o=e.toVector(),s=r.cross(o),a=i.cross(s);n=s.cross(a).toLatLonS()}else n=this.distanceTo(t)<this.distanceTo(e)?t:e;return n},o.prototype.isBetween=function(t,e){var n=this.toVector(),i=t.toVector(),r=e.toVector(),o=n.minus(i),s=r.minus(i),a=n.minus(r),u=i.minus(r),c=o.dot(s),l=a.dot(u),h=c>=0&&l>=0,f=n.dot(i)>=0&&n.dot(r)>=0;return h&&f},o.prototype.enclosedBy=function(t){var e=t[0].equals(t[t.length-1]);e||t.push(t[0]);for(var n=t.length-1,i=this.toVector(),r=[],o=0;o<n;o++)r[o]=i.minus(t[o].toVector());r.push(r[0]);var s=0;for(o=0;o<n;o++)s+=r[o].angleTo(r[o+1],i);var a=Math.abs(s)>Math.PI;return e||t.pop(),a},o.areaOf=function(t,e){var n=null==e?6371e3:Number(e),i=t[0].equals(t[t.length-1]);i||t.push(t[0]);for(var r=t.length-1,o=[],s=0;s<r;s++){var a=t[s].toVector(),u=t[s+1].toVector();o[s]=a.cross(u)}o.push(o[0]);var c=t[0].toVector(),l=0;for(s=0;s<r;s++)l+=o[s].angleTo(o[s+1],c);var h=(r*Math.PI-Math.abs(l)-(r-2)*Math.PI)*n*n;return i||t.pop(),h},o.meanOf=function(t){for(var e=new i(0,0,0),n=0;n<t.length;n++)e=e.plus(t[n].toVector());return e.unit().toLatLonS()},o.prototype.equals=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},o.prototype.toString=function(t,e){return r.toLat(this.lat,t,e)+", "+r.toLon(this.lon,t,e)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0===Math.sign&&(Math.sign=function(t){return 0==(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=o,t.exports.Vector3d=i)},wiYu:function(t,e,n){"use strict";var i={parseDMS:function(t){if("number"==typeof t&&isFinite(t))return Number(t);var e,n=String(t).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==n[n.length-1]&&n.splice(n.length-1),""==n)return NaN;switch(n.length){case 3:e=n[0]/1+n[1]/60+n[2]/3600;break;case 2:e=n[0]/1+n[1]/60;break;case 1:e=n[0];break;default:return NaN}return/^-|[WS]$/i.test(t.trim())&&(e=-e),Number(e)},separator:"",toDMS:function(t,e,n){if(isNaN(t))return null;if(void 0===e&&(e="dms"),void 0===n)switch(e){case"d":case"deg":n=4;break;case"dm":case"deg+min":n=2;break;case"dms":case"deg+min+sec":n=0;break;default:e="dms",n=0}var r,o,s,a;switch(t=Math.abs(t),e){default:case"d":case"deg":(o=t.toFixed(n))<100&&(o="0"+o),o<10&&(o="0"+o),r=o+"\xb0";break;case"dm":case"deg+min":o=Math.floor(t),60==(s=(60*t%60).toFixed(n))&&(s=0,o++),s<10&&(s="0"+s),r=(o=("000"+o).slice(-3))+"\xb0"+i.separator+s+"\u2032";break;case"dms":case"deg+min+sec":o=Math.floor(t),s=Math.floor(3600*t/60)%60,60==(a=(3600*t%60).toFixed(n))&&(a=(0).toFixed(n),s++),60==s&&(s=0,o++),o=("000"+o).slice(-3),s=("00"+s).slice(-2),a<10&&(a="0"+a),r=o+"\xb0"+i.separator+s+"\u2032"+i.separator+a+"\u2033"}return r},toLat:function(t,e,n){var r=i.toDMS(t,e,n);return null===r?"\u2013":r.slice(1)+i.separator+(t<0?"S":"N")},toLon:function(t,e,n){var r=i.toDMS(t,e,n);return null===r?"\u2013":r+i.separator+(t<0?"W":"E")},toBrng:function(t,e,n){t=(Number(t)+360)%360;var r=i.toDMS(t,e,n);return null===r?"\u2013":r.replace("360","0")},compassPoint:function(t,e){void 0===e&&(e=3),t=(t%360+360)%360;var n=4*Math.pow(2,e-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t*n/360)%n*16/n]}};t.exports&&(t.exports=i)},yDJ3:function(t,e){var n,i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/,o=/^\./,s=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,a=/\\(\\)?/g,u=/^\[object .+?Constructor\]$/,c="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,h=c||l||Function("return this")(),f=Array.prototype,d=Function.prototype,p=Object.prototype,v=h["__core-js_shared__"],y=(n=/[^.]+$/.exec(v&&v.keys&&v.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",m=d.toString,g=p.hasOwnProperty,_=p.toString,w=RegExp("^"+m.call(g).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),k=h.Symbol,b=f.splice,C=P(h,"Map"),E=P(Object,"create"),S=k?k.prototype:void 0,x=S?S.toString:void 0;function T(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function M(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function A(t){var e=-1,n=t?t.length:0;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function R(t,e){for(var n,i,r=t.length;r--;)if((n=t[r][0])===(i=e)||n!=n&&i!=i)return r;return-1}function O(t,e){var n,i,r=t.__data__;return("string"==(i=typeof(n=e))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof e?"string":"hash"]:r.map}function P(t,e){var n=function(t,e){return null==t?void 0:t[e]}(t,e);return function(t){return!(!F(t)||(e=t,y&&y in e))&&(function(t){var e=F(t)?_.call(t):"";return"[object Function]"==e||"[object GeneratorFunction]"==e}(t)||function(t){var e=!1;if(null!=t&&"function"!=typeof t.toString)try{e=!!(t+"")}catch(n){}return e}(t)?w:u).test(function(t){if(null!=t){try{return m.call(t)}catch(e){}try{return t+""}catch(e){}}return""}(t));var e}(n)?n:void 0}T.prototype.clear=function(){this.__data__=E?E(null):{}},T.prototype.delete=function(t){return this.has(t)&&delete this.__data__[t]},T.prototype.get=function(t){var e=this.__data__;if(E){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return g.call(e,t)?e[t]:void 0},T.prototype.has=function(t){var e=this.__data__;return E?void 0!==e[t]:g.call(e,t)},T.prototype.set=function(t,e){return this.__data__[t]=E&&void 0===e?"__lodash_hash_undefined__":e,this},M.prototype.clear=function(){this.__data__=[]},M.prototype.delete=function(t){var e=this.__data__,n=R(e,t);return!(n<0||(n==e.length-1?e.pop():b.call(e,n,1),0))},M.prototype.get=function(t){var e=this.__data__,n=R(e,t);return n<0?void 0:e[n][1]},M.prototype.has=function(t){return R(this.__data__,t)>-1},M.prototype.set=function(t,e){var n=this.__data__,i=R(n,t);return i<0?n.push([t,e]):n[i][1]=e,this},A.prototype.clear=function(){this.__data__={hash:new T,map:new(C||M),string:new T}},A.prototype.delete=function(t){return O(this,t).delete(t)},A.prototype.get=function(t){return O(this,t).get(t)},A.prototype.has=function(t){return O(this,t).has(t)},A.prototype.set=function(t,e){return O(this,t).set(t,e),this};var I=N(function(t){var e;t=null==(e=t)?"":function(t){if("string"==typeof t)return t;if(j(t))return x?x.call(t):"";var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}(e);var n=[];return o.test(t)&&n.push(""),t.replace(s,function(t,e,i,r){n.push(i?r.replace(a,"$1"):e||t)}),n});function D(t){if("string"==typeof t||j(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}function N(t,e){if("function"!=typeof t||e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var i=arguments,r=e?e.apply(this,i):i[0],o=n.cache;if(o.has(r))return o.get(r);var s=t.apply(this,i);return n.cache=o.set(r,s),s};return n.cache=new(N.Cache||A),n}N.Cache=A;var L=Array.isArray;function F(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function j(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==_.call(t)}t.exports=function(t,e,n){var o=null==t?void 0:function(t,e){for(var n,o=0,s=(e=function(t,e){if(L(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!j(t))||r.test(t)||!i.test(t)||null!=e&&t in Object(e)}(e,t)?[e]:L(n=e)?n:I(n)).length;null!=t&&o<s;)t=t[D(e[o++])];return o&&o==s?t:void 0}(t,e);return void 0===o?n:o}},zUnb:function(r,o,c){"use strict";var h;function v(t){return"function"==typeof t}c.r(o);var g=!1,w={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else g&&console.log("RxJS: Back to a better error behavior. Thank you. <3");g=t},get useDeprecatedSynchronousErrorHandling(){return g}};function k(t){setTimeout(function(){throw t},0)}var b={closed:!0,next:function(t){},error:function(t){if(w.useDeprecatedSynchronousErrorHandling)throw t;k(t)},complete:function(){}},C=Array.isArray||function(t){return t&&"number"==typeof t.length};function E(t){return null!==t&&"object"==typeof t}var S,x=function(){function t(t){return Error.call(this),this.message=t?"".concat(t.length," errors occurred during unsubscription:\n").concat(t.map(function(t,e){return"".concat(e+1,") ").concat(t.toString())}).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),T=((S=function(){function t(e){m(this,t),this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}return _(t,[{key:"unsubscribe",value:function(){var e;if(!this.closed){var n=this._parentOrParents,i=this._ctorUnsubscribe,r=this._unsubscribe,o=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var s=0;s<n.length;++s)n[s].remove(this);if(v(r)){i&&(this._unsubscribe=void 0);try{r.call(this)}catch(l){e=l instanceof x?M(l.errors):[l]}}if(C(o))for(var a=-1,u=o.length;++a<u;){var c=o[a];if(E(c))try{c.unsubscribe()}catch(l){e=e||[],l instanceof x?e=e.concat(M(l.errors)):e.push(l)}}if(e)throw new x(e)}}},{key:"add",value:function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var i=n;(n=new t)._subscriptions=[i]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var r=n._parentOrParents;if(null===r)n._parentOrParents=this;else if(r instanceof t){if(r===this)return n;n._parentOrParents=[r,this]}else{if(-1!==r.indexOf(this))return n;r.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n}},{key:"remove",value:function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}]),t}()).EMPTY=function(t){return t.closed=!0,t}(new S),S);function M(t){return t.reduce(function(t,e){return t.concat(e instanceof x?e.errors:e)},[])}var A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),R=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;switch(m(this,n),(o=e.call(this)).syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=b;break;case 1:if(!t){o.destination=b;break}if("object"==typeof t){t instanceof n?(o.syncErrorThrowable=t.syncErrorThrowable,o.destination=t,t.add(p(o))):(o.syncErrorThrowable=!0,o.destination=new O(p(o),t));break}default:o.syncErrorThrowable=!0,o.destination=new O(p(o),t,i,r)}return o}return _(n,[{key:A,value:function(){return this}},{key:"next",value:function(t){this.isStopped||this._next(t)}},{key:"error",value:function(t){this.isStopped||(this.isStopped=!0,this._error(t))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,u(y(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(t){this.destination.next(t)}},{key:"_error",value:function(t){this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}],[{key:"create",value:function(t,e,i){var r=new n(t,e,i);return r.syncErrorThrowable=!1,r}}]),n}(T),O=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s,a;m(this,n),(s=e.call(this))._parentSubscriber=t;var u=p(s);return v(i)?a=i:i&&(a=i.next,r=i.error,o=i.complete,i!==b&&(v((u=Object.create(i)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(p(s)))),s._context=u,s._next=a,s._error=r,s._complete=o,s}return _(n,[{key:"next",value:function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;w.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}},{key:"error",value:function(t){if(!this.isStopped){var e=this._parentSubscriber,n=w.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):k(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;k(t)}}}},{key:"complete",value:function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};w.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),w.useDeprecatedSynchronousErrorHandling)throw n;k(n)}}},{key:"__tryOrSetError",value:function(t,e,n){if(!w.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(i){return w.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=i,t.syncErrorThrown=!0,!0):(k(i),!0)}return!1}},{key:"_unsubscribe",value:function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}]),n}(R),P="function"==typeof Symbol&&Symbol.observable||"@@observable";function I(t){return t}var D,N=((D=function(){function t(e){m(this,t),this._isScalar=!1,e&&(this._subscribe=e)}return _(t,[{key:"lift",value:function(e){var n=new t;return n.source=this,n.operator=e,n}},{key:"subscribe",value:function(t,e,n){var i=this.operator,r=function(t,e,n){if(t){if(t instanceof R)return t;if(t[A])return t[A]()}return t||e||n?new R(t,e,n):new R(b)}(t,e,n);if(r.add(i?i.call(r,this.source):this.source||w.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),w.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}},{key:"_trySubscribe",value:function(t){try{return this._subscribe(t)}catch(e){w.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,i=e.destination,r=e.isStopped;if(n||r)return!1;t=i&&i instanceof R?i:null}return!0}(t)?t.error(e):console.warn(e)}}},{key:"forEach",value:function(t,e){var n=this;return new(e=L(e))(function(e,i){var r;r=n.subscribe(function(e){try{t(e)}catch(n){i(n),r&&r.unsubscribe()}},i,e)})}},{key:"_subscribe",value:function(t){var e=this.source;return e&&e.subscribe(t)}},{key:P,value:function(){return this}},{key:"pipe",value:function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?this:(0===(i=e).length?I:1===i.length?i[0]:function(t){return i.reduce(function(t,e){return e(t)},t)})(this);var i}},{key:"toPromise",value:function(t){var e=this;return new(t=L(t))(function(t,n){var i;e.subscribe(function(t){return i=t},function(t){return n(t)},function(){return t(i)})})}}]),t}()).create=function(t){return new D(t)},D);function L(t){if(t||(t=w.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var F,j=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),V=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).subject=t,r.subscriber=i,r.closed=!1,r}return _(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}}}]),n}(T),B=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,t)).destination=t,i}return _(n)}(R),H=((F=function(t){l(n,t);var e=f(n);function n(){var t;return m(this,n),(t=e.call(this)).observers=[],t.closed=!1,t.isStopped=!1,t.hasError=!1,t.thrownError=null,t}return _(n,[{key:A,value:function(){return new B(this)}},{key:"lift",value:function(t){var e=new z(this,this);return e.operator=t,e}},{key:"next",value:function(t){if(this.closed)throw new j;if(!this.isStopped)for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].next(t)}},{key:"error",value:function(t){if(this.closed)throw new j;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,i=e.slice(),r=0;r<n;r++)i[r].error(t);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new j;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),i=0;i<e;i++)n[i].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(t){if(this.closed)throw new j;return u(y(n.prototype),"_trySubscribe",this).call(this,t)}},{key:"_subscribe",value:function(t){if(this.closed)throw new j;return this.hasError?(t.error(this.thrownError),T.EMPTY):this.isStopped?(t.complete(),T.EMPTY):(this.observers.push(t),new V(this,t))}},{key:"asObservable",value:function(){var t=new N;return t.source=this,t}}]),n}(N)).create=function(t,e){return new z(t,e)},F),z=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).destination=t,r.source=i,r}return _(n,[{key:"next",value:function(t){var e=this.destination;e&&e.next&&e.next(t)}},{key:"error",value:function(t){var e=this.destination;e&&e.error&&this.destination.error(t)}},{key:"complete",value:function(){var t=this.destination;t&&t.complete&&this.destination.complete()}},{key:"_subscribe",value:function(t){return this.source?this.source.subscribe(t):T.EMPTY}}]),n}(H);function q(t){return t&&"function"==typeof t.schedule}function U(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new K(t,e))}}var K=function(){function t(e,n){m(this,t),this.project=e,this.thisArg=n}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new W(t,this.project,this.thisArg))}}]),t}(),W=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).project=i,o.count=0,o.thisArg=r||p(o),o}return _(n,[{key:"_next",value:function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(R),G=function(t){return function(e){for(var n=0,i=t.length;n<i&&!e.closed;n++)e.next(t[n]);e.complete()}};var Z="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",Q=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function X(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var Y=function(t){if(t&&"function"==typeof t[P])return i=t,function(t){var e=i[P]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(Q(t))return G(t);if(X(t))return n=t,function(t){return n.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,k),t};if(t&&"function"==typeof t[Z])return e=t,function(t){for(var n=e[Z]();;){var i=void 0;try{i=n.next()}catch(r){return t.error(r),t}if(i.done){t.complete();break}if(t.next(i.value),t.closed)break}return"function"==typeof n.return&&t.add(function(){n.return&&n.return()}),t};var e,n,i,r=E(t)?"an invalid object":"'".concat(t,"'");throw new TypeError("You provided ".concat(r," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function $(t,e){return new N(function(n){var i=new T,r=0;return i.add(e.schedule(function(){r!==t.length?(n.next(t[r++]),n.closed||i.add(this.schedule())):n.complete()})),i})}function J(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[P]}(t))return function(t,e){return new N(function(n){var i=new T;return i.add(e.schedule(function(){var r=t[P]();i.add(r.subscribe({next:function(t){i.add(e.schedule(function(){return n.next(t)}))},error:function(t){i.add(e.schedule(function(){return n.error(t)}))},complete:function(){i.add(e.schedule(function(){return n.complete()}))}}))})),i})}(t,e);if(X(t))return function(t,e){return new N(function(n){var i=new T;return i.add(e.schedule(function(){return t.then(function(t){i.add(e.schedule(function(){n.next(t),i.add(e.schedule(function(){return n.complete()}))}))},function(t){i.add(e.schedule(function(){return n.error(t)}))})})),i})}(t,e);if(Q(t))return $(t,e);if(function(t){return t&&"function"==typeof t[Z]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new N(function(n){var i,r=new T;return r.add(function(){i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(function(){i=t[Z](),r.add(e.schedule(function(){if(!n.closed){var t,e;try{var r=i.next();t=r.value,e=r.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof N?t:new N(Y(t))}var tt=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).parent=t,i}return _(n,[{key:"_next",value:function(t){this.parent.notifyNext(t)}},{key:"_error",value:function(t){this.parent.notifyError(t),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(),this.unsubscribe()}}]),n}(R),et=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyError",value:function(t){this.destination.error(t)}},{key:"notifyComplete",value:function(){this.destination.complete()}}]),n}(R);function nt(t,e){if(!e.closed)return t instanceof N?t.subscribe(e):Y(t)(e)}function it(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof e?function(i){return i.pipe(it(function(n,i){return J(t(n,i)).pipe(U(function(t,r){return e(n,t,i,r)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new rt(t,n))})}var rt=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;m(this,t),this.project=e,this.concurrent=n}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new ot(t,this.project,this.concurrent))}}]),t}(),ot=function(t){l(n,t);var e=f(n);function n(t,i){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return m(this,n),(r=e.call(this,t)).project=i,r.concurrent=o,r.hasCompleted=!1,r.buffer=[],r.active=0,r.index=0,r}return _(n,[{key:"_next",value:function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}},{key:"_tryNext",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=new tt(this),n=this.destination;n.add(e);var i=nt(t,e);i!==e&&n.add(i)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(t){this.destination.next(t)}},{key:"notifyComplete",value:function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(et);function st(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return it(I,t)}function at(t,e){return e?$(t,e):new N(G(t))}function ut(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Number.POSITIVE_INFINITY,r=null,o=e[e.length-1];return q(o)?(r=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(i=e.pop())):"number"==typeof o&&(i=e.pop()),null===r&&1===e.length&&e[0]instanceof N?e[0]:st(i)(at(e,r))}function ct(){return function(t){return t.lift(new ht(t))}}var lt,ht=function(){function t(e){m(this,t),this.connectable=e}return _(t,[{key:"call",value:function(t,e){var n=this.connectable;n._refCount++;var i=new ft(t,n),r=e.subscribe(i);return i.closed||(i.connection=n.connect()),r}}]),t}(),ft=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).connectable=i,r}return _(n,[{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,i=t._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}else this.connection=null}}]),n}(R),dt={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:(lt=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).source=t,r.subjectFactory=i,r._refCount=0,r._isComplete=!1,r}return _(n,[{key:"_subscribe",value:function(t){return this.getSubject().subscribe(t)}},{key:"getSubject",value:function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new T).add(this.source.subscribe(new pt(this.getSubject(),this))),t.closed&&(this._connection=null,t=T.EMPTY)),t}},{key:"refCount",value:function(){return ct()(this)}}]),n}(N).prototype)._subscribe},_isComplete:{value:lt._isComplete,writable:!0},getSubject:{value:lt.getSubject},connect:{value:lt.connect},refCount:{value:lt.refCount}},pt=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).connectable=i,r}return _(n,[{key:"_error",value:function(t){this._unsubscribe(),u(y(n.prototype),"_error",this).call(this,t)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),u(y(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}]),n}(B);function vt(t,e){return function(n){var i;if(i="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new yt(i,e));var r=Object.create(n,dt);return r.source=n,r.subjectFactory=i,r}}var yt=function(){function t(e,n){m(this,t),this.subjectFactory=e,this.selector=n}return _(t,[{key:"call",value:function(t,e){var n=this.selector,i=this.subjectFactory(),r=n(i).subscribe(t);return r.add(e.subscribe(i)),r}}]),t}();function mt(){return new H}function gt(t){for(var e in t)if(t[e]===gt)return e;throw Error("Could not find renamed property on target object.")}function _t(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return"".concat(t.overriddenName);if(t.name)return"".concat(t.name);var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function kt(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var bt=gt({__forward_ref__:gt});function Ct(t){return t.__forward_ref__=Ct,t.toString=function(){return wt(this())},t}function Et(t){return"function"==typeof(e=t)&&e.hasOwnProperty(bt)&&e.__forward_ref__===Ct?t():t;var e}var St=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,function(t,e){return"".concat(t?"NG0".concat(t,": "):"").concat(e)}(t,i))).code=t,r}return _(n)}(s(Error));function xt(t){return"string"==typeof t?t:null==t?"":String(t)}function Tt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():xt(t)}function Mt(t,e){var n=e?" in ".concat(e):"";throw new St("201","No provider for ".concat(Tt(t)," found").concat(n))}function At(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ot(t){return Pt(t,Nt)||Pt(t,Ft)}function Pt(t,e){return t.hasOwnProperty(e)?t[e]:null}function It(t){return t&&(t.hasOwnProperty(Lt)||t.hasOwnProperty(jt))?t[Lt]:null}var Dt,Nt=gt({"\u0275prov":gt}),Lt=gt({"\u0275inj":gt}),Ft=gt({ngInjectableDef:gt}),jt=gt({ngInjectorDef:gt}),Vt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function Bt(t){var e=Dt;return Dt=t,e}function Ht(t,e,n){var i=Ot(t);return i&&"root"==i.providedIn?void 0===i.value?i.value=i.factory():i.value:n&Vt.Optional?null:void 0!==e?e:void Mt(wt(t),"Injector")}function zt(t){return{toString:t}.toString()}var qt=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),Ut=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),Kt="undefined"!=typeof globalThis&&globalThis,Wt="undefined"!=typeof window&&window,Gt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Zt="undefined"!=typeof global&&global,Qt=Kt||Zt||Wt||Gt,Xt={},Yt=[],$t=[],Jt=gt({"\u0275cmp":gt}),te=gt({"\u0275dir":gt}),ee=gt({"\u0275pipe":gt}),ne=gt({"\u0275mod":gt}),ie=gt({"\u0275loc":gt}),re=gt({"\u0275fac":gt}),oe=gt({__NG_ELEMENT_ID__:gt}),se=0;function ae(t){return zt(function(){var e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===qt.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$t,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||Ut.Emulated,id:"c",styles:t.styles||$t,_:null,setInput:null,schemas:t.schemas||null,tView:null},i=t.directives,r=t.features,o=t.pipes;return n.id+=se++,n.inputs=fe(t.inputs,e),n.outputs=fe(t.outputs),r&&r.forEach(function(t){return t(n)}),n.directiveDefs=i?function(){return("function"==typeof i?i():i).map(ue)}:null,n.pipeDefs=o?function(){return("function"==typeof o?o():o).map(ce)}:null,n})}function ue(t){return ve(t)||function(t){return t[te]||null}(t)}function ce(t){return function(t){return t[ee]||null}(t)}var le={};function he(t){var e={type:t.type,bootstrap:t.bootstrap||$t,declarations:t.declarations||$t,imports:t.imports||$t,exports:t.exports||$t,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&zt(function(){le[t.id]=t.type}),e}function fe(t,e){if(null==t)return Xt;var n={};for(var i in t)if(t.hasOwnProperty(i)){var r=t[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,e&&(e[r]=o)}return n}var de=ae;function pe(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ve(t){return t[Jt]||null}function ye(t,e){var n=t[ne]||null;if(!n&&!0===e)throw new Error("Type ".concat(wt(t)," does not have '\u0275mod' property."));return n}function me(t){return Array.isArray(t)&&"object"==typeof t[1]}function ge(t){return Array.isArray(t)&&!0===t[1]}function _e(t){return 0!=(8&t.flags)}function we(t){return 2==(2&t.flags)}function ke(t){return 1==(1&t.flags)}function be(t){return null!==t.template}function Ce(t,e){return t.hasOwnProperty(re)?t[re]:null}var Ee,Se=function(){function t(e,n,i){m(this,t),this.previousValue=e,this.currentValue=n,this.firstChange=i}return _(t,[{key:"isFirstChange",value:function(){return this.firstChange}}]),t}();function xe(){return Te}function Te(t){return t.type.prototype.ngOnChanges&&(t.setInput=Ae),Me}function Me(){var t=Re(this),e=null==t?void 0:t.current;if(e){var n=t.previous;if(n===Xt)t.previous=e;else for(var i in e)n[i]=e[i];t.current=null,this.ngOnChanges(e)}}function Ae(t,e,n,i){var r=Re(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:Xt,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],u=s[a];o[a]=new Se(u&&u.currentValue,e,s===Xt),t[i]=e}function Re(t){return t.__ngSimpleChanges__||null}function Oe(t){return!!t.listen}xe.ngInherit=!0;var Pe={createRenderer:function(t,e){return void 0!==Ee?Ee:"undefined"!=typeof document?document:void 0}};function Ie(t){for(;Array.isArray(t);)t=t[0];return t}function De(t,e){return Ie(e[t])}function Ne(t,e){return Ie(e[t.index])}function Le(t,e){return t.data[e]}function Fe(t,e){var n=e[t];return me(n)?n:n[0]}function je(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Ve(t){return 4==(4&t[2])}function Be(t){return 128==(128&t[2])}function He(t,e){return null==e?null:t[e]}function ze(t){t[18]=0}function qe(t,e){t[5]+=e;for(var n=t,i=t[3];null!==i&&(1===e&&1===n[5]||-1===e&&0===n[5]);)i[5]+=e,n=i,i=i[3]}var Ue={lFrame:dn(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ke(){return Ue.bindingsEnabled}function We(){return Ue.lFrame.lView}function Ge(){return Ue.lFrame.tView}function Ze(t){Ue.lFrame.contextLView=t}function Qe(){for(var t=Xe();null!==t&&64===t.type;)t=t.parent;return t}function Xe(){return Ue.lFrame.currentTNode}function Ye(t,e){var n=Ue.lFrame;n.currentTNode=t,n.isParent=e}function $e(){return Ue.lFrame.isParent}function Je(){Ue.lFrame.isParent=!1}function tn(){return Ue.isInCheckNoChangesMode}function en(t){Ue.isInCheckNoChangesMode=t}function nn(){var t=Ue.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function rn(){return Ue.lFrame.bindingIndex++}function on(t){Ue.lFrame.currentDirectiveIndex=t}function sn(t){var e=Ue.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function an(){return Ue.lFrame.currentQueryIndex}function un(t){Ue.lFrame.currentQueryIndex=t}function cn(t){var e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ln(t,e,n){if(n&Vt.SkipSelf){for(var i=e,r=t;!(null!==(i=i.parent)||n&Vt.Host||(i=cn(r),null===i)||(r=r[15],10&i.type)););if(null===i)return!1;e=i,t=r}var o=Ue.lFrame=fn();return o.currentTNode=e,o.lView=t,!0}function hn(t){var e=fn(),n=t[1];Ue.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fn(){var t=Ue.lFrame,e=null===t?null:t.child;return null===e?dn(t):e}function dn(t){var e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function pn(){var t=Ue.lFrame;return Ue.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var vn=pn;function yn(){var t=pn();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function mn(){return Ue.lFrame.selectedIndex}function gn(t){Ue.lFrame.selectedIndex=t}function _n(){var t=Ue.lFrame;return Le(t.tView,t.selectedIndex)}function wn(){Ue.lFrame.currentNamespace="http://www.w3.org/2000/svg"}function kn(t,e){for(var n=e.directiveStart,i=e.directiveEnd;n<i;n++){var r=t.data[n].type.prototype,o=r.ngAfterContentInit,s=r.ngAfterContentChecked,a=r.ngAfterViewInit,u=r.ngAfterViewChecked,c=r.ngOnDestroy;o&&(t.contentHooks||(t.contentHooks=[])).push(-n,o),s&&((t.contentHooks||(t.contentHooks=[])).push(n,s),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,s)),a&&(t.viewHooks||(t.viewHooks=[])).push(-n,a),u&&((t.viewHooks||(t.viewHooks=[])).push(n,u),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,u)),null!=c&&(t.destroyHooks||(t.destroyHooks=[])).push(n,c)}}function bn(t,e,n){Sn(t,e,3,n)}function Cn(t,e,n,i){(3&t[2])===n&&Sn(t,e,n,i)}function En(t,e){var n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function Sn(t,e,n,i){for(var r=null!=i?i:-1,o=e.length-1,s=0,a=void 0!==i?65535&t[18]:0;a<o;a++)if("number"==typeof e[a+1]){if(s=e[a],null!=i&&s>=i)break}else e[a]<0&&(t[18]+=65536),(s<r||-1==r)&&(xn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function xn(t,e,n,i){var r=n[i]<0,o=n[i+1],s=t[r?-n[i]:n[i]];if(r){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}var Tn=_(function t(e,n,i){m(this,t),this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=i});function Mn(t,e,n){for(var i=Oe(t),r=0;r<n.length;){var o=n[r];if("number"==typeof o){if(0!==o)break;r++;var s=n[r++],a=n[r++],u=n[r++];i?t.setAttribute(e,a,u,s):e.setAttributeNS(s,a,u)}else{var c=o,l=n[++r];An(c)?i&&t.setProperty(e,c,l):i?t.setAttribute(e,c,l):e.setAttribute(c,l),r++}}return r}function An(t){return 64===t.charCodeAt(0)}function Rn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,i=0;i<e.length;i++){var r=e[i];"number"==typeof r?n=r:0===n||On(t,n,r,null,-1===n||2===n?e[++i]:null)}return t}function On(t,e,n,i,r){var o=0,s=t.length;if(-1===e)s=-1;else for(;o<t.length;){var a=t[o++];if("number"==typeof a){if(a===e){s=-1;break}if(a>e){s=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===i)return void(null!==r&&(t[o+1]=r));if(i===t[o+1])return void(t[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),null!==i&&t.splice(o++,0,i),null!==r&&t.splice(o++,0,r)}function Pn(t){return-1!==t}function In(t){return 32767&t}function Dn(t,e){for(var n=t>>16,i=e;n>0;)i=i[15],n--;return i}var Nn=!0;function Ln(t){var e=Nn;return Nn=t,e}var Fn=0;function jn(t,e){var n=Bn(t,e);if(-1!==n)return n;var i=e[1];i.firstCreatePass&&(t.injectorIndex=e.length,Vn(i.data,t),Vn(e,null),Vn(i.blueprint,null));var r=Hn(t,e),o=t.injectorIndex;if(Pn(r))for(var s=In(r),a=Dn(r,e),u=a[1].data,c=0;c<8;c++)e[o+c]=a[s+c]|u[s+c];return e[o+8]=r,o}function Vn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Bn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Hn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=0,i=null,r=e;null!==r;){var o=r[1],s=o.type;if(null===(i=2===s?o.declTNode:1===s?r[6]:null))return-1;if(n++,r=r[15],-1!==i.injectorIndex)return i.injectorIndex|n<<16}return-1}function zn(t,e,n){!function(t,e,n){var i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(oe)&&(i=n[oe]),null==i&&(i=n[oe]=Fn++);var r=255&i;e.data[t+(r>>5)]|=1<<r}(t,e,n)}function qn(t,e,n){if(n&Vt.Optional)return t;Mt(e,"NodeInjector")}function Un(t,e,n,i){if(n&Vt.Optional&&void 0===i&&(i=null),0==(n&(Vt.Self|Vt.Host))){var r=t[9],o=Bt(void 0);try{return r?r.get(e,i,n&Vt.Optional):Ht(e,i,n&Vt.Optional)}finally{Bt(o)}}return qn(i,e,n)}function Kn(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Vt.Default,r=arguments.length>4?arguments[4]:void 0;if(null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t.hasOwnProperty(oe)?t[oe]:void 0;return"number"==typeof e?e>=0?255&e:Gn:e}(n);if("function"==typeof o){if(!ln(e,t,i))return i&Vt.Host?qn(r,n,i):Un(e,n,i,r);try{var s=o();if(null!=s||i&Vt.Optional)return s;Mt(n)}finally{vn()}}else if("number"==typeof o){var a=null,u=Bn(t,e),c=-1,l=i&Vt.Host?e[16][6]:null;for((-1===u||i&Vt.SkipSelf)&&(-1!==(c=-1===u?Hn(t,e):e[u+8])&&$n(i,!1)?(a=e[1],u=In(c),e=Dn(c,e)):u=-1);-1!==u;){var h=e[1];if(Yn(o,u,h.data)){var f=Zn(u,e,n,a,i,l);if(f!==Wn)return f}-1!==(c=e[u+8])&&$n(i,e[1].data[u+8]===l)&&Yn(o,u,e)?(a=h,u=In(c),e=Dn(c,e)):u=-1}}}return Un(e,n,i,r)}var Wn={};function Gn(){return new Jn(Qe(),We())}function Zn(t,e,n,i,r,o){var s=e[1],a=s.data[t+8],u=Qn(a,s,n,null==i?we(a)&&Nn:i!=s&&0!=(3&a.type),r&Vt.Host&&o===a);return null!==u?Xn(e,s,u,a):Wn}function Qn(t,e,n,i,r){for(var o=t.providerIndexes,s=e.data,a=1048575&o,u=t.directiveStart,c=o>>20,l=r?a+c:t.directiveEnd,h=i?a:a+c;h<l;h++){var f=s[h];if(h<u&&n===f||h>=u&&f.type===n)return h}if(r){var d=s[u];if(d&&be(d)&&d.type===n)return u}return null}function Xn(t,e,n,i){var r=t[n],o=e.data;if(r instanceof Tn){var s=r;s.resolving&&function(t,e){throw new St("200","Circular dependency in DI detected for ".concat(t))}(Tt(o[n]));var a=Ln(s.canSeeViewProviders);s.resolving=!0;var u=s.injectImpl?Bt(s.injectImpl):null;ln(t,i,Vt.Default);try{r=t[n]=s.factory(void 0,o,t,i),e.firstCreatePass&&n>=i.directiveStart&&function(t,e,n){var i=e.type.prototype,r=i.ngOnChanges,o=i.ngOnInit,s=i.ngDoCheck;if(r){var a=Te(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,a),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,a)}o&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,o),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,o[n],e)}finally{null!==u&&Bt(u),Ln(a),s.resolving=!1,vn()}}return r}function Yn(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function $n(t,e){return!(t&Vt.Self||t&Vt.Host&&e)}var Jn=function(){function t(e,n){m(this,t),this._tNode=e,this._lView=n}return _(t,[{key:"get",value:function(t,e){return Kn(this._tNode,this._lView,t,void 0,e)}}]),t}();function ti(t,e,n){return zt(function(){var i=function(t){return function(){if(t){var e=t.apply(void 0,arguments);for(var n in e)this[n]=e[n]}}}(e);function r(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];if(this instanceof r)return i.apply(this,e),this;var o=a(r,e);return s.annotation=o,s;function s(t,e,n){for(var i=t.hasOwnProperty("__parameters__")?t.__parameters__:Object.defineProperty(t,"__parameters__",{value:[]}).__parameters__;i.length<=n;)i.push(null);return(i[n]=i[n]||[]).push(o),t}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}var ei=function(){function t(e,n){m(this,t),this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=At({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _(t,[{key:"toString",value:function(){return"InjectionToken ".concat(this._desc)}}]),t}();function ni(t,e){void 0===e&&(e=t);for(var n=0;n<t.length;n++){var i=t[n];Array.isArray(i)?(e===t&&(e=t.slice(0,n)),ni(i,e)):e!==t&&e.push(i)}return e}function ii(t,e){t.forEach(function(t){return Array.isArray(t)?ii(t,e):e(t)})}function ri(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function oi(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function si(t,e){for(var n=[],i=0;i<t;i++)n.push(e);return n}function ai(t,e){var n=ui(t,e);if(n>=0)return t[1|n]}function ui(t,e){return function(t,e,n){for(var i=0,r=t.length>>1;r!==i;){var o=i+(r-i>>1),s=t[o<<1];if(e===s)return o<<1;s>e?r=o:i=o+1}return~(r<<1)}(t,e)}var ci,li={},hi=/\n/gm,fi=gt({provide:String,useValue:gt});function di(t){var e=ci;return ci=t,e}function pi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt.Default;if(void 0===ci)throw new Error("inject() must be called from an injection context");return null===ci?Ht(t,void 0,e):ci.get(t,e&Vt.Optional?null:void 0,e)}function vi(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt.Default;return(Dt||pi)(Et(t),e)}var yi=vi;function mi(t){for(var e=[],n=0;n<t.length;n++){var i=Et(t[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");for(var r=void 0,o=Vt.Default,s=0;s<i.length;s++){var a=i[s],u=a.__NG_DI_FLAG__;"number"==typeof u?-1===u?r=a.token:o|=u:r=a}e.push(vi(r,o))}else e.push(vi(i))}return e}function gi(t,e){return t.__NG_DI_FLAG__=e,t.prototype.__NG_DI_FLAG__=e,t}var _i=gi(ti("Inject",function(t){return{token:t}}),-1),wi=gi(ti("Optional"),8),ki=gi(ti("SkipSelf"),4);function bi(t){return t.ngDebugContext}function Ci(t){return t.ngOriginalError}function Ei(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];t.error.apply(t,n)}var Si=function(){function t(){m(this,t),this._console=console}return _(t,[{key:"handleError",value:function(t){var e=this._findOriginalError(t),n=this._findContext(t),i=function(t){return t.ngErrorLogger||Ei}(t);i(this._console,"ERROR",t),e&&i(this._console,"ORIGINAL ERROR",e),n&&i(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(t){return t?bi(t)?bi(t):this._findContext(Ci(t)):null}},{key:"_findOriginalError",value:function(t){for(var e=Ci(t);e&&Ci(e);)e=Ci(e);return e}}]),t}();function xi(t,e){t.__ngContext__=e}var Ti=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Qt);function Mi(t){return t instanceof Function?t():t}var Ai=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({});function Ri(t,e){return(void 0)(t,e)}function Oi(t){var e=t[3];return ge(e)?e[3]:e}function Pi(t){return Di(t[13])}function Ii(t){return Di(t[4])}function Di(t){for(;null!==t&&!ge(t);)t=t[4];return t}function Ni(t,e,n,i,r){if(null!=i){var o,s=!1;ge(i)?o=i:me(i)&&(s=!0,i=i[0]);var a=Ie(i);0===t&&null!==n?null==r?qi(e,n,a):zi(e,n,a,r||null,!0):1===t&&null!==n?zi(e,n,a,r||null,!0):2===t?function(t,e,n){var i=Ki(t,e);i&&function(t,e,n,i){Oe(t)?t.removeChild(e,n,i):e.removeChild(n)}(t,i,e,n)}(e,a,s):3===t&&e.destroyNode(a),null!=o&&function(t,e,n,i,r){var o=n[7];o!==Ie(n)&&Ni(e,t,i,o,r);for(var s=10;s<n.length;s++){var a=n[s];Ji(a[1],a,t,e,i,o)}}(e,t,o,n,r)}}function Li(t,e,n){return Oe(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fi(t,e){var n=t[9],i=n.indexOf(e),r=e[3];1024&e[2]&&(e[2]&=-1025,qe(r,-1)),n.splice(i,1)}function ji(t,e){if(!(t.length<=10)){var n,i=10+e,r=t[i];if(r){var o=r[17];null!==o&&o!==t&&Fi(o,r),e>0&&(t[i-1][4]=r[4]);var s=oi(t,10+e);Ji(r[1],n=r,n[11],2,null,null),n[0]=null,n[6]=null;var a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Vi(t,e){if(!(256&e[2])){var n=e[11];Oe(n)&&n.destroyNode&&Ji(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return Bi(t[1],t);for(;e;){var n=null;if(me(e))n=e[13];else{var i=e[10];i&&(n=i)}if(!n){for(;e&&!e[4]&&e!==t;)me(e)&&Bi(e[1],e),e=e[3];null===e&&(e=t),me(e)&&Bi(e[1],e),n=e&&e[4]}e=n}}(e)}}function Bi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var i=0;i<n.length;i+=2){var r=e[n[i]];if(!(r instanceof Tn)){var o=n[i+1];if(Array.isArray(o))for(var s=0;s<o.length;s+=2){var a=r[o[s]],u=o[s+1];try{u.call(a)}finally{}}else try{o.call(r)}finally{}}}}(t,e),function(t,e){var n=t.cleanup,i=e[7],r=-1;if(null!==n)for(var o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){var s=n[o+1],a="function"==typeof s?s(e):Ie(e[s]),u=i[r=n[o+2]],c=n[o+3];"boolean"==typeof c?a.removeEventListener(n[o],u,c):c>=0?i[r=c]():i[r=-c].unsubscribe(),o+=2}else{var l=i[r=n[o+1]];n[o].call(l)}if(null!==i){for(var h=r+1;h<i.length;h++)(0,i[h])();e[7]=null}}(t,e),1===e[1].type&&Oe(e[11])&&e[11].destroy();var n=e[17];if(null!==n&&ge(e[3])){n!==e[3]&&Fi(n,e);var i=e[19];null!==i&&i.detachView(t)}}}function Hi(t,e,n){return function(t,e,n){for(var i=e;null!==i&&40&i.type;)i=(e=i).parent;if(null===i)return n[0];if(2&i.flags){var r=t.data[i.directiveStart].encapsulation;if(r===Ut.None||r===Ut.Emulated)return null}return Ne(i,n)}(t,e.parent,n)}function zi(t,e,n,i,r){Oe(t)?t.insertBefore(e,n,i,r):e.insertBefore(n,i,r)}function qi(t,e,n){Oe(t)?t.appendChild(e,n):e.appendChild(n)}function Ui(t,e,n,i,r){null!==i?zi(t,e,n,i,r):qi(t,e,n)}function Ki(t,e){return Oe(t)?t.parentNode(e):e.parentNode}function Wi(t,e,n){return Gi(t,e,n)}var Gi=function(t,e,n){return 40&t.type?Ne(t,n):null};function Zi(t,e,n,i){var r=Hi(t,i,e),o=e[11],s=Wi(i.parent||e[6],i,e);if(null!=r)if(Array.isArray(n))for(var a=0;a<n.length;a++)Ui(o,r,n[a],s,!1);else Ui(o,r,n,s,!1)}function Qi(t,e){if(null!==e){var n=e.type;if(3&n)return Ne(e,t);if(4&n)return Yi(-1,t[e.index]);if(8&n){var i=e.child;if(null!==i)return Qi(t,i);var r=t[e.index];return ge(r)?Yi(-1,r):Ie(r)}if(32&n)return Ri(e,t)()||Ie(t[e.index]);var o=Xi(t,e);return null!==o?Array.isArray(o)?o[0]:Qi(Oi(t[16]),o):Qi(t,e.next)}return null}function Xi(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Yi(t,e){var n=10+t+1;if(n<e.length){var i=e[n],r=i[1].firstChild;if(null!==r)return Qi(i,r)}return e[7]}function $i(t,e,n,i,r,o,s){for(;null!=n;){var a=i[n.index],u=n.type;if(s&&0===e&&(a&&xi(Ie(a),i),n.flags|=4),64!=(64&n.flags))if(8&u)$i(t,e,n.child,i,r,o,!1),Ni(e,t,r,a,o);else if(32&u){for(var c=Ri(n,i),l=void 0;l=c();)Ni(e,t,r,l,o);Ni(e,t,r,a,o)}else 16&u?tr(t,e,i,n,r,o):Ni(e,t,r,a,o);n=s?n.projectionNext:n.next}}function Ji(t,e,n,i,r,o){$i(n,i,t.firstChild,e,r,o,!1)}function tr(t,e,n,i,r,o){var s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(var u=0;u<a.length;u++)Ni(e,t,r,a[u],o);else $i(t,e,a,s[3],r,o,!0)}function er(t,e,n){Oe(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function nr(t,e,n){Oe(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ir(t,e,n){for(var i=t.length;;){var r=t.indexOf(e,n);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){var o=e.length;if(r+o===i||t.charCodeAt(r+o)<=32)return r}n=r+1}}function rr(t,e,n){for(var i=0;i<t.length;){var r=t[i++];if(n&&"class"===r){if(-1!==ir((r=t[i]).toLowerCase(),e,0))return!0}else if(1===r){for(;i<t.length&&"string"==typeof(r=t[i++]);)if(r.toLowerCase()===e)return!0;return!1}}return!1}function or(t){return 4===t.type&&"ng-template"!==t.value}function sr(t,e,n){return e===(4!==t.type||n?t.value:"ng-template")}function ar(t,e,n){for(var i=4,r=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(3===(n=t[e])||4===n||6===n)return e;var n;return t.length}(r),s=!1,a=0;a<e.length;a++){var u=e[a];if("number"!=typeof u){if(!s)if(4&i){if(i=2|1&i,""!==u&&!sr(t,u,n)||""===u&&1===e.length){if(ur(i))return!1;s=!0}}else{var c=8&i?u:e[++a];if(8&i&&null!==t.attrs){if(!rr(t.attrs,c,n)){if(ur(i))return!1;s=!0}continue}var l=cr(8&i?"class":u,r,or(t),n);if(-1===l){if(ur(i))return!1;s=!0;continue}if(""!==c){var h;h=l>o?"":r[l+1].toLowerCase();var f=8&i?h:null;if(f&&-1!==ir(f,c,0)||2&i&&c!==h){if(ur(i))return!1;s=!0}}}}else{if(!s&&!ur(i)&&!ur(u))return!1;if(s&&ur(u))continue;s=!1,i=u|1&i}}return ur(i)||s}function ur(t){return 0==(1&t)}function cr(t,e,n,i){if(null===e)return-1;var r=0;if(i||!n){for(var o=!1;r<e.length;){var s=e[r];if(s===t)return r;if(3===s||6===s)o=!0;else{if(1===s||2===s){for(var a=e[++r];"string"==typeof a;)a=e[++r];continue}if(4===s)break;if(0===s){r+=4;continue}}r+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var i=t[n];if("number"==typeof i)return-1;if(i===e)return n;n++}return-1}(e,t)}function lr(t,e){for(var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=0;i<e.length;i++)if(ar(t,e[i],n))return!0;return!1}function hr(t,e){t:for(var n=0;n<e.length;n++){var i=e[n];if(t.length===i.length){for(var r=0;r<t.length;r++)if(t[r]!==i[r])continue t;return!0}}return!1}function fr(t,e){return t?":not("+e.trim()+")":e}function dr(t){for(var e=t[0],n=1,i=2,r="",o=!1;n<t.length;){var s=t[n];if("string"==typeof s)if(2&i){var a=t[++n];r+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||ur(s)||(e+=fr(o,r),r=""),i=s,o=o||!ur(i);n++}return""!==r&&(e+=fr(o,r)),e}var pr={};function vr(t){yr(Ge(),We(),mn()+t,tn())}function yr(t,e,n,i){if(!i)if(3==(3&e[2])){var r=t.preOrderCheckHooks;null!==r&&bn(e,r,n)}else{var o=t.preOrderHooks;null!==o&&Cn(e,o,0,n)}gn(n)}function mr(t,e){return t<<17|e<<2}function gr(t){return t>>17&32767}function _r(t){return 2|t}function wr(t){return(131068&t)>>2}function kr(t,e){return-131069&t|e<<2}function br(t){return 1|t}function Cr(t,e){var n=t.contentQueries;if(null!==n)for(var i=0;i<n.length;i+=2){var r=n[i],o=n[i+1];if(-1!==o){var s=t.data[o];un(r),s.contentQueries(2,e[o],o)}}}function Er(t,e,n,i,r,o,s,a,u,c){var l=e.blueprint.slice();return l[0]=r,l[2]=140|i,ze(l),l[3]=l[15]=t,l[8]=n,l[10]=s||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Sr(t,e,n,i,r){var o,s,a=t.data[e];if(null===a)a=function(t,e,n,i,r){var o=Xe(),s=$e(),a=t.data[e]=function(t,e,n,i,r,o){return{type:n,index:i,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,e,i,r);return null===t.firstChild&&(t.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(t,e,n,i,r),Ue.lFrame.inI18n&&(a.flags|=64);else if(64&a.type){a.type=n,a.value=i,a.attrs=r;var u=(o=Ue.lFrame,s=o.currentTNode,o.isParent?s:s.parent);a.injectorIndex=null===u?-1:u.injectorIndex}return Ye(a,!0),a}function xr(t,e,n,i){if(0===n)return-1;for(var r=e.length,o=0;o<n;o++)e.push(i),t.blueprint.push(i),t.data.push(null);return r}function Tr(t,e,n){hn(e);try{var i=t.viewQuery;null!==i&&no(1,i,n);var r=t.template;null!==r&&Rr(t,e,r,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Cr(t,e),t.staticViewQueries&&no(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Yr(t,e[n])}(e,o)}catch(s){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),s}finally{e[2]&=-5,yn()}}function Mr(t,e,n,i){var r=e[2];if(256!=(256&r)){hn(e);var o=tn();try{ze(e),Ue.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&Rr(t,e,n,2,i);var s=3==(3&r);if(!o)if(s){var a=t.preOrderCheckHooks;null!==a&&bn(e,a,null)}else{var u=t.preOrderHooks;null!==u&&Cn(e,u,0,null),En(e,0)}if(function(t){for(var e=Pi(t);null!==e;e=Ii(e))if(e[2])for(var n=e[9],i=0;i<n.length;i++){var r=n[i],o=r[3];0==(1024&r[2])&&qe(o,1),r[2]|=1024}}(e),function(t){for(var e=Pi(t);null!==e;e=Ii(e))for(var n=10;n<e.length;n++){var i=e[n],r=i[1];Be(i)&&Mr(r,i,r.template,i[8])}}(e),null!==t.contentQueries&&Cr(t,e),!o)if(s){var c=t.contentCheckHooks;null!==c&&bn(e,c)}else{var l=t.contentHooks;null!==l&&Cn(e,l,1),En(e,1)}!function(t,e){var n,i,r,o=t.hostBindingOpCodes;if(null!==o)try{for(var s=0;s<o.length;s++){var a=o[s];if(a<0)gn(~a);else{var u=a,c=o[++s],l=o[++s];n=c,i=u,r=void 0,(r=Ue.lFrame).bindingIndex=r.bindingRootIndex=n,on(i),l(2,e[u])}}}finally{gn(-1)}}(t,e);var h=t.components;null!==h&&function(t,e){for(var n=0;n<e.length;n++)Qr(t,e[n])}(e,h);var f=t.viewQuery;if(null!==f&&no(2,f,i),!o)if(s){var d=t.viewCheckHooks;null!==d&&bn(e,d)}else{var p=t.viewHooks;null!==p&&Cn(e,p,2),En(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,qe(e[3],-1))}finally{yn()}}}function Ar(t,e,n,i){var r=e[10],o=!tn(),s=Ve(e);try{o&&!s&&r.begin&&r.begin(),s&&Tr(t,e,i),Mr(t,e,n,i)}finally{o&&!s&&r.end&&r.end()}}function Rr(t,e,n,i,r){var o=mn(),s=2&i;try{gn(-1),s&&e.length>20&&yr(t,e,20,tn()),n(i,r)}finally{gn(o)}}function Or(t,e,n){Ke()&&(function(t,e,n,i){var r=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||jn(n,e),xi(i,e);for(var s=n.initialInputs,a=r;a<o;a++){var u=t.data[a],c=be(u);c&&Kr(e,n,u);var l=Xn(e,t,a,n);xi(l,e),null!==s&&Wr(0,a-r,l,u,0,s),c&&(Fe(n.index,e)[8]=l)}}(t,e,n,Ne(n,e)),128==(128&n.flags)&&function(t,e,n){var i=n.directiveStart,r=n.directiveEnd,o=n.index,s=Ue.lFrame.currentDirectiveIndex;try{gn(o);for(var a=i;a<r;a++){var u=t.data[a],c=e[a];on(a),null===u.hostBindings&&0===u.hostVars&&null===u.hostAttrs||Br(u,c)}}finally{gn(-1),on(s)}}(t,e,n))}function Pr(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ne,i=e.localNames;if(null!==i)for(var r=e.index+1,o=0;o<i.length;o+=2){var s=i[o+1],a=-1===s?n(e,t):t[s];t[r++]=a}}function Ir(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Dr(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Dr(t,e,n,i,r,o,s,a,u,c){var l=20+i,h=l+r,f=function(t,e){for(var n=[],i=0;i<e;i++)n.push(i<t?null:pr);return n}(l,h),d="function"==typeof c?c():c;return f[1]={type:t,blueprint:f,template:n,queries:null,viewQuery:a,declTNode:e,data:f.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:u,consts:d,incompleteFirstPass:!1}}function Nr(t,e,n,i){var r=ro(e);null===n?r.push(i):(r.push(n),t.firstCreatePass&&oo(t).push(i,r.length-1))}function Lr(t,e,n){for(var i in t)if(t.hasOwnProperty(i)){var r=t[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(e,r):n[i]=[e,r]}return n}function Fr(t,e,n,i,r,o,s,a){var u,c,l=Ne(e,n),h=e.inputs;!a&&null!=h&&(u=h[i])?(uo(t,n,u,i,r),we(e)&&function(t,e){var n=Fe(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(i="class"===(c=i)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,r=null!=s?s(r,e.value||"",i):r,Oe(o)?o.setProperty(l,i,r):An(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function jr(t,e,n,i){var r=!1;if(Ke()){var o=function(t,e,n){var i=t.directiveRegistry,r=null;if(i)for(var o=0;o<i.length;o++){var s=i[o];lr(n,s.selectors,!1)&&(r||(r=[]),zn(jn(n,e),t,s.type),be(s)?(Hr(t,n),r.unshift(s)):r.push(s))}return r}(t,e,n),s=null===i?null:{"":-1};if(null!==o){r=!0,qr(n,t.data.length,o.length);for(var a=0;a<o.length;a++){var u=o[a];u.providersResolver&&u.providersResolver(u)}for(var c=!1,l=!1,h=xr(t,e,o.length,null),f=0;f<o.length;f++){var d=o[f];n.mergedAttrs=Rn(n.mergedAttrs,d.hostAttrs),Ur(t,n,e,h,d),zr(h,d,s),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128);var p=d.type.prototype;!c&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),c=!0),l||!p.ngOnChanges&&!p.ngDoCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),l=!0),h++}!function(t,e){for(var n=e.directiveEnd,i=t.data,r=e.attrs,o=[],s=null,a=null,u=e.directiveStart;u<n;u++){var c=i[u],l=c.inputs,h=null===r||or(e)?null:Gr(l,r);o.push(h),s=Lr(l,u,s),a=Lr(c.outputs,u,a)}null!==s&&(s.hasOwnProperty("class")&&(e.flags|=16),s.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=s,e.outputs=a}(t,n)}s&&function(t,e,n){if(e)for(var i=t.localNames=[],r=0;r<e.length;r+=2){var o=n[e[r+1]];if(null==o)throw new St("301","Export of name '".concat(e[r+1],"' not found!"));i.push(e[r],o)}}(n,i,s)}return n.mergedAttrs=Rn(n.mergedAttrs,n.attrs),r}function Vr(t,e,n,i,r,o){var s=o.hostBindings;if(s){var a=t.hostBindingOpCodes;null===a&&(a=t.hostBindingOpCodes=[]);var u=~e.index;(function(t){for(var e=t.length;e>0;){var n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(a)!=u&&a.push(u),a.push(i,r,s)}}function Br(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function Hr(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function zr(t,e,n){if(n){if(e.exportAs)for(var i=0;i<e.exportAs.length;i++)n[e.exportAs[i]]=t;be(e)&&(n[""]=t)}}function qr(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Ur(t,e,n,i,r){t.data[i]=r;var o=r.factory||(r.factory=Ce(r.type)),s=new Tn(o,be(r),null);t.blueprint[i]=s,n[i]=s,Vr(t,e,0,i,xr(t,n,r.hostVars,pr),r)}function Kr(t,e,n){var i=Ne(e,t),r=Ir(n),o=t[10],s=$r(t,Er(t,r,null,n.onPush?64:16,i,e,o,o.createRenderer(i,n),null,null));t[e.index]=s}function Wr(t,e,n,i,r,o){var s=o[e];if(null!==s)for(var a=i.setInput,u=0;u<s.length;){var c=s[u++],l=s[u++],h=s[u++];null!==a?i.setInput(n,h,c,l):n[l]=h}}function Gr(t,e){for(var n=null,i=0;i<e.length;){var r=e[i];if(0!==r)if(5!==r){if("number"==typeof r)break;t.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,t[r],e[i+1])),i+=2}else i+=2;else i+=4}return n}function Zr(t,e,n,i){return new Array(t,!0,!1,e,null,0,i,n,null,null)}function Qr(t,e){var n=Fe(e,t);if(Be(n)){var i=n[1];80&n[2]?Mr(i,n,i.template,n[8]):n[5]>0&&Xr(n)}}function Xr(t){for(var e=Pi(t);null!==e;e=Ii(e))for(var n=10;n<e.length;n++){var i=e[n];if(1024&i[2]){var r=i[1];Mr(r,i,r.template,i[8])}else i[5]>0&&Xr(i)}var o=t[1].components;if(null!==o)for(var s=0;s<o.length;s++){var a=Fe(o[s],t);Be(a)&&a[5]>0&&Xr(a)}}function Yr(t,e){var n=Fe(e,t),i=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(i,n),Tr(i,n,n[8])}function $r(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Jr(t){for(;t;){t[2]|=64;var e=Oi(t);if(0!=(512&t[2])&&!e)return t;t=e}return null}function to(t,e,n){var i=e[10];i.begin&&i.begin();try{Mr(t,e,t.template,n)}catch(r){throw ao(e,r),r}finally{i.end&&i.end()}}function eo(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],i=je(n),r=i[1];Ar(r,i,r.template,n)}}(t[8])}function no(t,e,n){un(0),e(t,n)}var io=Promise.resolve(null);function ro(t){return t[7]||(t[7]=[])}function oo(t){return t.cleanup||(t.cleanup=[])}function so(t,e,n){return(null===t||be(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}function ao(t,e){var n=t[9],i=n?n.get(Si,null):null;i&&i.handleError(e)}function uo(t,e,n,i,r){for(var o=0;o<n.length;){var s=n[o++],a=n[o++],u=e[s],c=t.data[s];null!==c.setInput?c.setInput(u,r,i,a):u[a]=r}}function co(t,e,n){var i=n?t.styles:null,r=n?t.classes:null,o=0;if(null!==e)for(var s=0;s<e.length;s++){var a=e[s];"number"==typeof a?o=a:1==o?r=kt(r,a):2==o&&(i=kt(i,a+": "+e[++s]+";"))}n?t.styles=i:t.stylesWithoutHost=i,n?t.classes=r:t.classesWithoutHost=r}var lo,ho=new ei("INJECTOR",-1),fo=function(){function t(){m(this,t)}return _(t,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li;if(e===li){var n=new Error("NullInjectorError: No provider for ".concat(wt(t),"!"));throw n.name="NullInjectorError",n}return e}}]),t}(),po=new ei("Set Injector scope."),vo={},yo={},mo=[];function go(){return void 0===lo&&(lo=new fo),lo}function _o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0;return new wo(t,n,e||go(),i)}var wo=function(){function t(e,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,t),this.parent=i,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var s=[];n&&ii(n,function(t){return r.processProvider(t,e,n)}),ii([e],function(t){return r.processInjectorType(t,[],s)}),this.records.set(ho,Co(void 0,this));var a=this.records.get(po);this.scope=null!=a?a.value:null,this.source=o||("object"==typeof e?null:wt(e))}return _(t,[{key:"destroyed",get:function(){return this._destroyed}},{key:"destroy",value:function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(function(t){return t.ngOnDestroy()})}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:li,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt.Default;this.assertNotDestroyed();var i,r=di(this);try{if(!(n&Vt.SkipSelf)){var o=this.records.get(t);if(void 0===o){var s=("function"==typeof(i=t)||"object"==typeof i&&i instanceof ei)&&Ot(t);o=s&&this.injectableDefInScope(s)?Co(ko(t),vo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&Vt.Self?go():this.parent).get(t,e=n&Vt.Optional&&e===li?null:e)}catch(a){if("NullInjectorError"===a.name){if((a.ngTempTokenPath=a.ngTempTokenPath||[]).unshift(wt(t)),r)throw a;return function(t,e,n,i){var r=t.ngTempTokenPath;throw e.__source&&r.unshift(e.__source),t.message=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var r=wt(e);if(Array.isArray(e))r=e.map(wt).join(" -> ");else if("object"==typeof e){var o=[];for(var s in e)if(e.hasOwnProperty(s)){var a=e[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):wt(a)))}r="{".concat(o.join(", "),"}")}return"".concat(n).concat(i?"("+i+")":"","[").concat(r,"]: ").concat(t.replace(hi,"\n  "))}("\n"+t.message,r,"R3InjectorError",i),t.ngTokenPath=r,t.ngTempTokenPath=null,t}(a,t,0,this.source)}throw a}finally{di(r)}}},{key:"_resolveInjectorDefTypes",value:function(){var t=this;this.injectorDefTypes.forEach(function(e){return t.get(e)})}},{key:"toString",value:function(){var t=[];return this.records.forEach(function(e,n){return t.push(wt(n))}),"R3Injector[".concat(t.join(", "),"]")}},{key:"assertNotDestroyed",value:function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}},{key:"processInjectorType",value:function(t,e,n){var i=this;if(!(t=Et(t)))return!1;var r=It(t),o=null==r&&t.ngModule||void 0,s=void 0===o?t:o,a=-1!==n.indexOf(s);if(void 0!==o&&(r=It(o)),null==r)return!1;if(null!=r.imports&&!a){var u;n.push(s);try{ii(r.imports,function(t){i.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))})}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,r=e.providers;ii(r,function(t){return i.processProvider(t,n,r||mo)})},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(s);var h=Ce(s)||function(){return new s};this.records.set(s,Co(h,vo));var f=r.providers;if(null!=f&&!a){var d=t;ii(f,function(t){return i.processProvider(t,d,f)})}return void 0!==o&&void 0!==t.providers}},{key:"processProvider",value:function(t,e,n){var i=So(t=Et(t))?t:Et(t&&t.provide),r=function(t,e,n){return Eo(t)?Co(void 0,t.useValue):Co(bo(t),vo)}(t);if(So(t)||!0!==t.multi)this.records.get(i);else{var o=this.records.get(i);o||((o=Co(void 0,vo,!0)).factory=function(){return mi(o.multi)},this.records.set(i,o)),i=t,o.multi.push(t)}this.records.set(i,r)}},{key:"hydrate",value:function(t,e){var n;return e.value===vo&&(e.value=yo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value}},{key:"injectableDefInScope",value:function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))}}]),t}();function ko(t){var e=Ot(t),n=null!==e?e.factory:Ce(t);if(null!==n)return n;if(t instanceof ei)throw new Error("Token ".concat(wt(t)," is missing a \u0275prov definition."));if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=si(e,"?");throw new Error("Can't resolve all parameters for ".concat(wt(t),": (").concat(n.join(", "),")."))}var i=function(t){var e=t&&(t[Nt]||t[Ft]);if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'.concat(n,'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "').concat(n,'" class.')),e}return null}(t);return null!==i?function(){return i.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function bo(t,e,n){var r,o;if(So(t)){var s=Et(t);return Ce(s)||ko(s)}if(Eo(t))r=function(){return Et(t.useValue)};else if((o=t)&&o.useFactory)r=function(){return t.useFactory.apply(t,i(mi(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))r=function(){return vi(Et(t.useExisting))};else{var u=Et(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return Ce(u)||ko(u);r=function(){return a(u,i(mi(t.deps)))}}return r}function Co(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{factory:t,value:e,multi:n?[]:void 0}}function Eo(t){return null!==t&&"object"==typeof t&&fi in t}function So(t){return"function"==typeof t}var xo=function(t,e,n){return function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3?arguments[3]:void 0,r=_o(t,e,n,i);return r._resolveInjectorDefTypes(),r}({name:n},e,t,n)},To=function(){var t=function(){function t(){m(this,t)}return _(t,null,[{key:"create",value:function(t,e){return Array.isArray(t)?xo(t,e,""):xo(t.providers,t.parent,t.name||"")}}]),t}();return t.THROW_IF_NOT_FOUND=li,t.NULL=new fo,t.\u0275prov=At({token:t,providedIn:"any",factory:function(){return vi(ho)}}),t.__NG_ELEMENT_ID__=-1,t}();function Mo(t,e){kn(je(t)[1],Qe())}function Ao(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,i=[t];e;){var r=void 0;if(be(t))r=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");r=e.\u0275dir}if(r){if(n){i.push(r);var o=t;o.inputs=Ro(t.inputs),o.declaredInputs=Ro(t.declaredInputs),o.outputs=Ro(t.outputs);var s=r.hostBindings;s&&Io(t,s);var a=r.viewQuery,u=r.contentQueries;if(a&&Oo(t,a),u&&Po(t,u),_t(t.inputs,r.inputs),_t(t.declaredInputs,r.declaredInputs),_t(t.outputs,r.outputs),be(r)&&r.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(r.data.animation)}}var l=r.features;if(l)for(var h=0;h<l.length;h++){var f=l[h];f&&f.ngInherit&&f(t),f===Ao&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,i=t.length-1;i>=0;i--){var r=t[i];r.hostVars=e+=r.hostVars,r.hostAttrs=Rn(r.hostAttrs,n=Rn(n,r.hostAttrs))}}(i)}function Ro(t){return t===Xt?{}:t===$t?[]:t}function Oo(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,i){e(t,i),n(t,i)}:e}function Po(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,i,r){e(t,i,r),n(t,i,r)}:e}function Io(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,i){e(t,i),n(t,i)}:e}var Do=null;function No(){if(!Do){var t=Qt.Symbol;if(t&&t.iterator)Do=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var i=e[n];"entries"!==i&&"size"!==i&&Map.prototype[i]===Map.prototype.entries&&(Do=i)}}return Do}var Lo=function(){function t(e){m(this,t),this.wrapped=e}return _(t,null,[{key:"wrap",value:function(e){return new t(e)}},{key:"unwrap",value:function(e){return t.isWrapped(e)?e.wrapped:e}},{key:"isWrapped",value:function(e){return e instanceof t}}]),t}();function Fo(t){return!!jo(t)&&(Array.isArray(t)||!(t instanceof Map)&&No()in t)}function jo(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Vo(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Bo(t,e,n,i){var r=We();return Vo(r,rn(),e)&&(Ge(),function(t,e,n,i,r,o){var s=Ne(t,e);!function(t,e,n,i,r,o,s){if(null==o)Oe(t)?t.removeAttribute(e,r,n):e.removeAttribute(r);else{var a=null==s?xt(o):s(o,i||"",r);Oe(t)?t.setAttribute(e,r,a,n):n?e.setAttributeNS(n,r,a):e.setAttribute(r,a)}}(e[11],s,o,t.value,n,i,r)}(_n(),r,t,e,n,i)),Bo}function Ho(t,e,n,i,r,o,s,a){var u=We(),c=Ge(),l=t+20,h=c.firstCreatePass?function(t,e,n,i,r,o,s,a,u){var c=e.consts,l=Sr(e,t,4,s||null,He(c,a));jr(e,n,l,He(c,u)),kn(e,l);var h=l.tViews=Dr(2,l,i,r,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,i,r,o,s):c.data[l];Ye(h,!1);var f=u[11].createComment("");Zi(c,u,f,h),xi(f,u),$r(u,u[l]=Zr(f,u,f,h)),ke(h)&&Or(c,u,h),null!=s&&Pr(u,h,a)}function zo(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Vt.Default,n=We();return null===n?vi(t,e):Kn(Qe(),n,Et(t),e)}function qo(t,e,n){var i=We();return Vo(i,rn(),e)&&Fr(Ge(),_n(),i,t,e,i[11],n,!1),qo}function Uo(t,e,n,i,r){var o=r?"class":"style";uo(t,n,e.inputs[o],o,i)}function Ko(t,e,n,i){var r=We(),o=Ge(),s=20+t,a=r[11],u=r[s]=Li(a,e,Ue.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,i,r,o,s){var a=e.consts,u=Sr(e,t,2,r,He(a,o));return jr(e,n,u,He(a,s)),null!==u.attrs&&co(u,u.attrs,!1),null!==u.mergedAttrs&&co(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(s,o,r,0,e,n,i):o.data[s];Ye(c,!0);var l=c.mergedAttrs;null!==l&&Mn(a,u,l);var h=c.classes;null!==h&&nr(a,u,h);var f=c.styles;null!==f&&er(a,u,f),64!=(64&c.flags)&&Zi(o,r,u,c),0===Ue.lFrame.elementDepthCount&&xi(u,r),Ue.lFrame.elementDepthCount++,ke(c)&&(Or(o,r,c),function(t,e,n){if(_e(e))for(var i=e.directiveEnd,r=e.directiveStart;r<i;r++){var o=t.data[r];o.contentQueries&&o.contentQueries(1,n[r],r)}}(o,c,r)),null!==i&&Pr(r,c)}function Wo(){var t=Qe();$e()?Je():Ye(t=t.parent,!1);var e=t;Ue.lFrame.elementDepthCount--;var n=Ge();n.firstCreatePass&&(kn(n,t),_e(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Uo(n,e,We(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Uo(n,e,We(),e.stylesWithoutHost,!1)}function Go(t,e,n,i){Ko(t,e,n,i),Wo()}function Zo(){return We()}function Qo(t){return!!t&&"function"==typeof t.then}function Xo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=We(),o=Ge(),s=Qe();return $o(o,r,r[11],s,t,e,n,i),Xo}function Yo(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=arguments.length>3?arguments[3]:void 0,r=Qe(),o=We(),s=Ge();return $o(s,o,so(sn(s.data),r,o),r,t,e,n,i),Yo}function $o(t,e,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7?arguments[7]:void 0,u=ke(i),c=t.firstCreatePass&&oo(t),l=ro(e),h=!0;if(3&i.type){var f=Ne(i,e),d=a?a(f):Xt,p=d.target||f,v=l.length,y=a?function(t){return a(Ie(t[i.index])).target}:i.index;if(Oe(n)){var m=null;if(!a&&u&&(m=function(t,e,n,i){var r=t.cleanup;if(null!=r)for(var o=0;o<r.length-1;o+=2){var s=r[o];if(s===n&&r[o+1]===i){var a=e[7],u=r[o+2];return a.length>u?a[u]:null}"string"==typeof s&&(o+=2)}return null}(t,e,r,i.index)),null!==m)(m.__ngLastListenerFn__||m).__ngNextListenerFn__=o,m.__ngLastListenerFn__=o,h=!1;else{o=ts(i,e,0,o,!1);var g=n.listen(d.name||p,r,o);l.push(o,g),c&&c.push(r,y,v,v+1)}}else o=ts(i,e,0,o,!0),p.addEventListener(r,o,s),l.push(o),c&&c.push(r,y,v,s)}else o=ts(i,e,0,o,!1);var _,w=i.outputs;if(h&&null!==w&&(_=w[r])){var k=_.length;if(k)for(var b=0;b<k;b+=2){var C=e[_[b]][_[b+1]].subscribe(o),E=l.length;l.push(o,C),c&&c.push(r,i.index,E,-(E+1))}}}function Jo(t,e,n,i){try{return!1!==n(i)}catch(r){return ao(t,r),!1}}function ts(t,e,n,i,r){return function n(o){if(o===Function)return i;var s=2&t.flags?Fe(t.index,e):e;0==(32&e[2])&&Jr(s);for(var a=Jo(e,0,i,o),u=n.__ngNextListenerFn__;u;)a=Jo(e,0,u,o)&&a,u=u.__ngNextListenerFn__;return r&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function es(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return function(t){return(Ue.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Ue.lFrame.contextLView))[8]}(t)}function ns(t,e){for(var n=null,i=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),r=0;r<e.length;r++){var o=e[r];if("*"!==o){if(null===i?lr(t,o,!0):hr(i,o))return r}else n=r}return n}function is(t){var e=We()[16][6];if(!e.projection)for(var n=e.projection=si(t?t.length:1,null),i=n.slice(),r=e.child;null!==r;){var o=t?ns(r,t):0;null!==o&&(i[o]?i[o].projectionNext=r:n[o]=r,i[o]=r),r=r.next}}function rs(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0,i=We(),r=Ge(),o=Sr(r,20+t,16,null,n||null);null===o.projection&&(o.projection=e),Je(),64!=(64&o.flags)&&function(t,e,n){tr(e[11],0,e,n,Hi(t,n,e),Wi(n.parent||e[6],n,e))}(r,i,o)}function os(t,e,n,i,r){for(var o=t[n+1],s=null===e,a=i?gr(o):wr(o),u=!1;0!==a&&(!1===u||s);){var c=t[a+1];ss(t[a],e)&&(u=!0,t[a+1]=i?br(c):_r(c)),a=i?gr(c):wr(c)}u&&(t[n+1]=i?_r(o):br(o))}function ss(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&ui(t,e)>=0}function as(t,e,n){return cs(t,e,n,!1),as}function us(t,e){return cs(t,e,null,!0),us}function cs(t,e,n,i){var r,o,s=We(),a=Ge(),u=(r=Ue.lFrame,o=r.bindingIndex,r.bindingIndex=r.bindingIndex+2,o);a.firstUpdatePass&&function(t,e,n,i){var r=t.data;if(null===r[n+1]){var o=r[mn()],s=function(t,e){return e>=t.expandoStartIndex}(t,n);(function(t,e){return 0!=(t.flags&(e?16:32))})(o,i)&&null===e&&!s&&(e=!1),e=function(t,e,n,i){var r=sn(t),o=i?e.residualClasses:e.residualStyles;if(null===r)0===(i?e.classBindings:e.styleBindings)&&(n=hs(n=ls(null,t,e,n,i),e.attrs,i),o=null);else{var s=e.directiveStylingLast;if(-1===s||t[s]!==r)if(n=ls(r,t,e,n,i),null===o){var a=function(t,e,n){var i=n?e.classBindings:e.styleBindings;if(0!==wr(i))return t[gr(i)]}(t,e,i);void 0!==a&&Array.isArray(a)&&function(t,e,n,i){t[gr(n?e.classBindings:e.styleBindings)]=i}(t,e,i,a=hs(a=ls(null,t,e,a[1],i),e.attrs,i))}else o=function(t,e,n){for(var i,r=e.directiveEnd,o=1+e.directiveStylingLast;o<r;o++)i=hs(i,t[o].hostAttrs,n);return hs(i,e.attrs,n)}(t,e,i)}return void 0!==o&&(i?e.residualClasses=o:e.residualStyles=o),n}(r,o,e,i),function(t,e,n,i,r,o){var s=o?e.classBindings:e.styleBindings,a=gr(s),u=wr(s);t[i]=n;var c,l=!1;if(Array.isArray(n)){var h=n;(null===(c=h[1])||ui(h,c)>0)&&(l=!0)}else c=n;if(r)if(0!==u){var f=gr(t[a+1]);t[i+1]=mr(f,a),0!==f&&(t[f+1]=kr(t[f+1],i)),t[a+1]=131071&t[a+1]|i<<17}else t[i+1]=mr(a,0),0!==a&&(t[a+1]=kr(t[a+1],i)),a=i;else t[i+1]=mr(u,0),0===a?a=i:t[u+1]=kr(t[u+1],i),u=i;l&&(t[i+1]=_r(t[i+1])),os(t,c,i,!0),os(t,c,i,!1),function(t,e,n,i,r){var o=r?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&ui(o,e)>=0&&(n[i+1]=br(n[i+1]))}(e,c,t,i,o),s=mr(a,u),o?e.classBindings=s:e.styleBindings=s}(r,o,e,n,s,i)}}(a,t,u,i),e!==pr&&Vo(s,u,e)&&function(t,e,n,i,r,o,s,a){if(3&e.type){var u=t.data,c=u[a+1];ds(1==(1&c)?fs(u,e,n,r,wr(c),s):void 0)||(ds(o)||2==(2&c)&&(o=fs(u,null,n,r,a,s)),function(t,e,n,i,r){var o=Oe(t);if(e)r?o?t.addClass(n,i):n.classList.add(i):o?t.removeClass(n,i):n.classList.remove(i);else{var s=-1===i.indexOf("-")?void 0:Ai.DashCase;if(null==r)o?t.removeStyle(n,i,s):n.style.removeProperty(i);else{var a="string"==typeof r&&r.endsWith("!important");a&&(r=r.slice(0,-10),s|=Ai.Important),o?t.setStyle(n,i,r,s):n.style.setProperty(i,r,a?"important":"")}}}(i,s,De(mn(),n),r,o))}}(a,a.data[mn()],s,s[11],t,s[u+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=wt(function(t){return t instanceof function(){function t(e){m(this,t),this.changingThisBreaksApplicationSecurity=e}return _(t,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: ".concat(this.changingThisBreaksApplicationSecurity," (see https://g.co/ng/security#xss)")}}]),t}()?t.changingThisBreaksApplicationSecurity:t}(t)))),t}(e,n),i,u)}function ls(t,e,n,i,r){var o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(i=hs(i,(o=e[a]).hostAttrs,r),o!==t);)a++;return null!==t&&(n.directiveStylingLast=a),i}function hs(t,e,n){var i,r,o,s,a=n?1:2,u=-1;if(null!==e)for(var c=0;c<e.length;c++){var l=e[c];"number"==typeof l?u=l:u===a&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),i=t,r=l,o=!!n||e[++c],s=void 0,(s=ui(i,r))>=0?i[1|s]=o:function(t,e,n,i){var r=t.length;if(r==e)t.push(n,i);else if(1===r)t.push(i,t[0]),t[0]=n;else{for(r--,t.push(t[r-1],t[r]);r>e;)t[r]=t[r-2],r--;t[e]=n,t[e+1]=i}}(i,s=~s,r,o))}return void 0===t?null:t}function fs(t,e,n,i,r,o){for(var s,a=null===e;r>0;){var u=t[r],c=Array.isArray(u),l=c?u[1]:u,h=null===l,f=n[r+1];f===pr&&(f=h?Yt:void 0);var d=h?ai(f,i):l===i?f:void 0;if(c&&!ds(d)&&(d=ai(u,i)),ds(d)&&(s=d,a))return s;var p=t[r+1];r=a?gr(p):wr(p)}if(null!==e){var v=o?e.residualClasses:e.residualStyles;null!=v&&(s=ai(v,i))}return s}function ds(t){return void 0!==t}function ps(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=We(),i=Ge(),r=t+20,o=i.firstCreatePass?Sr(i,r,1,e,null):i.data[r],s=n[r]=function(t,e){return Oe(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Zi(i,n,s,o),Ye(o,!1)}function vs(t){return ys("",t,""),vs}function ys(t,e,n){var i=We(),r=function(t,e,n,i){return Vo(t,rn(),n)?e+xt(n)+i:pr}(i,t,e,n);return r!==pr&&function(t,e,n){var i=De(e,t);!function(t,e,n){Oe(t)?t.setValue(e,n):e.textContent=n}(t[11],i,n)}(i,mn(),r),ys}function ms(t,e,n){var i=We();if(Vo(i,rn(),e)){var r=Ge(),o=_n();Fr(r,o,i,t,e,so(sn(r.data),o,i),n,!0)}return ms}var gs=void 0,_s=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],ws={};function ks(t){return t in ws||(ws[t]=Qt.ng&&Qt.ng.common&&Qt.ng.common.locales&&Qt.ng.common.locales[t]),ws[t]}var bs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Cs(t){var e;null==(e=t)&&function(t,e,n,i){throw new Error("ASSERTION ERROR: ".concat("Expected localeId to be defined"," [Expected=> null != ").concat(e," <=Actual]"))}(0,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}function Es(t,e,n,i,r){if(t=Et(t),Array.isArray(t))for(var o=0;o<t.length;o++)Es(t[o],e,n,i,r);else{var s=Ge(),a=We(),u=So(t)?t:Et(t.provide),c=bo(t),l=Qe(),h=1048575&l.providerIndexes,f=l.directiveStart,d=l.providerIndexes>>20;if(So(t)||!t.multi){var p=new Tn(c,r,zo),v=Ts(u,e,r?h:h+d,f);-1===v?(zn(jn(l,a),s,u),Ss(s,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(p),a.push(p)):(n[v]=p,a[v]=p)}else{var y=Ts(u,e,h+d,f),m=Ts(u,e,h,h+d),g=y>=0&&n[y],_=m>=0&&n[m];if(r&&!_||!r&&!g){zn(jn(l,a),s,u);var w=function(t,e,n,i,r){var o=new Tn(t,n,zo);return o.multi=[],o.index=e,o.componentProviders=0,xs(o,r,i&&!n),o}(r?As:Ms,n.length,r,i,c);!r&&_&&(n[m].providerFactory=w),Ss(s,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),n.push(w),a.push(w)}else Ss(s,t,y>-1?y:m,xs(n[r?m:y],c,!r&&i));!r&&i&&_&&n[m].componentProviders++}}}function Ss(t,e,n,i){var r=So(e);if(r||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var s=t.destroyHooks||(t.destroyHooks=[]);if(!r&&e.multi){var a=s.indexOf(n);-1===a?s.push(n,[i,o]):s[a+1].push(i,o)}else s.push(n,o)}}}function xs(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ts(t,e,n,i){for(var r=n;r<i;r++)if(e[r]===t)return r;return-1}function Ms(t,e,n,i){return Rs(this.multi,[])}function As(t,e,n,i){var r,o=this.multi;if(this.providerFactory){var s=this.providerFactory.componentProviders,a=Xn(n,n[1],this.providerFactory.index,i);Rs(o,r=a.slice(0,s));for(var u=s;u<a.length;u++)r.push(a[u])}else Rs(o,r=[]);return r}function Rs(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function Os(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return function(n){n.providersResolver=function(n,i){return function(t,e,n){var i=Ge();if(i.firstCreatePass){var r=be(t);Es(n,i.data,i.blueprint,r,!0),Es(e,i.data,i.blueprint,r,!1)}}(n,i?i(t):t,e)}}}var Ps=_(function t(){m(this,t)}),Is=function(){function t(){m(this,t)}return _(t,[{key:"resolveComponentFactory",value:function(t){throw function(t){var e=Error("No component factory found for ".concat(wt(t),". Did you add it to @NgModule.entryComponents?"));return e.ngComponent=t,e}(t)}}]),t}(),Ds=function(){var t=_(function t(){m(this,t)});return t.NULL=new Is,t}();function Ns(){}function Ls(t,e){return new js(Ne(t,e))}var Fs=function(){return Ls(Qe(),We())},js=function(){var t=_(function t(e){m(this,t),this.nativeElement=e});return t.__NG_ELEMENT_ID__=Fs,t}();function Vs(t){return t instanceof js?t.nativeElement:t}var Bs=_(function t(){m(this,t)}),Hs=function(){var t=_(function t(){m(this,t)});return t.__NG_ELEMENT_ID__=function(){return zs()},t}(),zs=function(){var t=We(),e=Fe(Qe().index,t);return function(t){return t[11]}(me(e)?e:t)},qs=function(){var t=_(function t(){m(this,t)});return t.\u0275prov=At({token:t,providedIn:"root",factory:function(){return null}}),t}(),Us=_(function t(e){m(this,t),this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}),Ks=new Us("11.2.14"),Ws=function(){function t(){m(this,t)}return _(t,[{key:"supports",value:function(t){return Fo(t)}},{key:"create",value:function(t){return new Zs(t)}}]),t}(),Gs=function(t,e){return e},Zs=function(){function t(e){m(this,t),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Gs}return _(t,[{key:"forEachItem",value:function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)}},{key:"forEachOperation",value:function(t){for(var e=this._itHead,n=this._removalsHead,i=0,r=null;e||n;){var o=!n||e&&e.currentIndex<$s(n,i,r)?e:n,s=$s(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)i++;else{r||(r=[]);var u=s-i,c=a-i;if(u!=c){for(var l=0;l<u;l++){var h=l<r.length?r[l]:r[l]=0,f=h+l;c<=f&&f<u&&(r[l]=h+1)}r[o.previousIndex]=c-u}}s!==a&&t(o,s,a)}}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachMovedItem",value:function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"forEachIdentityChange",value:function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}},{key:"diff",value:function(t){if(null==t&&(t=[]),!Fo(t))throw new Error("Error trying to diff '".concat(wt(t),"'. Only arrays and iterables are allowed"));return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n,i,r,o=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(var a=0;a<this.length;a++)i=t[a],r=this._trackByFn(a,i),null!==o&&Object.is(o.trackById,r)?(s&&(o=this._verifyReinsertion(o,i,r,a)),Object.is(o.item,i)||this._addIdentityChange(o,i)):(o=this._mismatch(o,i,r,a),s=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var i,r=t[No()]();!(i=r.next()).done;)e(i.value)}(t,function(t){r=e._trackByFn(n,t),null!==o&&Object.is(o.trackById,r)?(s&&(o=e._verifyReinsertion(o,t,r,n)),Object.is(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,r,n),s=!0),o=o._next,n++}),this.length=n;return this._truncate(o),this.collection=t,this.isDirty}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}},{key:"_reset",value:function(){if(this.isDirty){var t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(t,e,n,i){var r;return null===t?r=this._itTail:(r=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,r,i)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,r,i)):t=this._addAfter(new Qs(e,n),r,i),t}},{key:"_verifyReinsertion",value:function(t,e,n,i){var r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?t=this._reinsertAfter(r,t._prev,i):t.currentIndex!=i&&(t.currentIndex=i,this._addToMoves(t,i)),t}},{key:"_truncate",value:function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var i=t._prevRemoved,r=t._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_moveAfter",value:function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}},{key:"_addAfter",value:function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}},{key:"_insertAfter",value:function(t,e,n){var i=null===e?this._itHead:e._next;return t._next=i,t._prev=e,null===i?this._itTail=t:i._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ys),this._linkedRecords.put(t),t.currentIndex=n,t}},{key:"_remove",value:function(t){return this._addToRemovals(this._unlink(t))}},{key:"_unlink",value:function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}},{key:"_addToMoves",value:function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}},{key:"_addToRemovals",value:function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ys),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}},{key:"_addIdentityChange",value:function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}]),t}(),Qs=_(function t(e,n){m(this,t),this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}),Xs=function(){function t(){m(this,t),this._head=null,this._tail=null}return _(t,[{key:"add",value:function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}},{key:"get",value:function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}},{key:"remove",value:function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}]),t}(),Ys=function(){function t(){m(this,t),this.map=new Map}return _(t,[{key:"put",value:function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Xs,this.map.set(e,n)),n.add(t)}},{key:"get",value:function(t,e){var n=this.map.get(t);return n?n.get(t,e):null}},{key:"remove",value:function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}},{key:"isEmpty",get:function(){return 0===this.map.size}},{key:"clear",value:function(){this.map.clear()}}]),t}();function $s(t,e,n){var i=t.previousIndex;if(null===i)return i;var r=0;return n&&i<n.length&&(r=n[i]),i+e+r}var Js=function(){function t(){m(this,t)}return _(t,[{key:"supports",value:function(t){return t instanceof Map||jo(t)}},{key:"create",value:function(){return new ta}}]),t}(),ta=function(){function t(){m(this,t),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _(t,[{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}},{key:"forEachItem",value:function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)}},{key:"forEachPreviousItem",value:function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}},{key:"forEachChangedItem",value:function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}},{key:"forEachAddedItem",value:function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}},{key:"forEachRemovedItem",value:function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}},{key:"diff",value:function(t){if(t){if(!(t instanceof Map||jo(t)))throw new Error("Error trying to diff '".concat(wt(t),"'. Only maps and objects are allowed"))}else t=new Map;return this.check(t)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,function(t,i){if(n&&n.key===i)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var r=e._getOrCreateRecordForKey(i,t);n=e._insertBeforeOrAppend(n,r)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var i=n;null!==i;i=i._nextRemoved)i===this._mapHead&&(this._mapHead=null),this._records.delete(i.key),i._nextRemoved=i._next,i.previousValue=i.currentValue,i.currentValue=null,i._prev=null,i._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}},{key:"_getOrCreateRecordForKey",value:function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}var o=new ea(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o}},{key:"_reset",value:function(){if(this.isDirty){var t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}},{key:"_addToAdditions",value:function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}},{key:"_addToChanges",value:function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}},{key:"_forEach",value:function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(function(n){return e(t[n],n)})}}]),t}(),ea=_(function t(e){m(this,t),this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null});function na(){return new ia([new Ws])}var ia=function(){var t=function(){function t(e){m(this,t),this.factories=e}return _(t,[{key:"find",value:function(t){var e,n=this.factories.find(function(e){return e.supports(t)});if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'"))}}],[{key:"create",value:function(e,n){if(null!=n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||na())},deps:[[t,new ki,new wi]]}}}]),t}();return t.\u0275prov=At({token:t,providedIn:"root",factory:na}),t}();function ra(){return new oa([new Js])}var oa=function(){var t=function(){function t(e){m(this,t),this.factories=e}return _(t,[{key:"find",value:function(t){var e=this.factories.find(function(e){return e.supports(t)});if(e)return e;throw new Error("Cannot find a differ supporting object '".concat(t,"'"))}}],[{key:"create",value:function(e,n){if(n){var i=n.factories.slice();e=e.concat(i)}return new t(e)}},{key:"extend",value:function(e){return{provide:t,useFactory:function(n){return t.create(e,n||ra())},deps:[[t,new ki,new wi]]}}}]),t}();return t.\u0275prov=At({token:t,providedIn:"root",factory:ra}),t}();function sa(t,e,n,r){for(var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];null!==n;){var s=e[n.index];if(null!==s&&r.push(Ie(s)),ge(s))for(var a=10;a<s.length;a++){var u=s[a],c=u[1].firstChild;null!==c&&sa(u[1],u,c,r)}var l=n.type;if(8&l)sa(t,e,n.child,r);else if(32&l)for(var h=Ri(n,e),f=void 0;f=h();)r.push(f);else if(16&l){var d=Xi(e,n);if(Array.isArray(d))r.push.apply(r,i(d));else{var p=Oi(e[16]);sa(p[1],p,d,r,!0)}}n=o?n.projectionNext:n.next}return r}var aa=function(){function t(e,n){m(this,t),this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}return _(t,[{key:"rootNodes",get:function(){var t=this._lView,e=t[1];return sa(e,t,e.firstChild,[])}},{key:"context",get:function(){return this._lView[8]}},{key:"destroyed",get:function(){return 256==(256&this._lView[2])}},{key:"destroy",value:function(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){var t=this._lView[3];if(ge(t)){var e=t[8],n=e?e.indexOf(this):-1;n>-1&&(ji(t,n),oi(e,n))}this._attachedToViewContainer=!1}Vi(this._lView[1],this._lView)}},{key:"onDestroy",value:function(t){Nr(this._lView[1],this._lView,null,t)}},{key:"markForCheck",value:function(){Jr(this._cdRefInjectingView||this._lView)}},{key:"detach",value:function(){this._lView[2]&=-129}},{key:"reattach",value:function(){this._lView[2]|=128}},{key:"detectChanges",value:function(){to(this._lView[1],this._lView,this.context)}},{key:"checkNoChanges",value:function(){!function(t,e,n){en(!0);try{to(t,e,n)}finally{en(!1)}}(this._lView[1],this._lView,this.context)}},{key:"attachToViewContainerRef",value:function(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}},{key:"detachFromAppRef",value:function(){var t;this._appRef=null,Ji(this._lView[1],t=this._lView,t[11],2,null,null)}},{key:"attachToAppRef",value:function(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}]),t}(),ua=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,t))._view=t,i}return _(n,[{key:"detectChanges",value:function(){eo(this._view)}},{key:"checkNoChanges",value:function(){!function(t){en(!0);try{eo(t)}finally{en(!1)}}(this._view)}},{key:"context",get:function(){return null}}]),n}(aa),ca=ha,la=function(){var t=_(function t(){m(this,t)});return t.__NG_ELEMENT_ID__=ca,t.__ChangeDetectorRef__=!0,t}();function ha(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return function(t,e,n){if(!n&&we(t)){var i=Fe(t.index,e);return new aa(i,i)}return 47&t.type?new aa(e[16],e):null}(Qe(),We(),t)}var fa=[new Js],da=new ia([new Ws]),pa=new oa(fa),va=function(){return ga(Qe(),We())},ya=function(){var t=_(function t(){m(this,t)});return t.__NG_ELEMENT_ID__=va,t}(),ma=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this))._declarationLView=t,o._declarationTContainer=i,o.elementRef=r,o}return _(n,[{key:"createEmbeddedView",value:function(t){var e=this._declarationTContainer.tViews,n=Er(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];var i=this._declarationLView[19];return null!==i&&(n[19]=i.createEmbeddedView(e)),Tr(e,n,t),new aa(n)}}]),n}(ya);function ga(t,e){return 4&t.type?new ma(e,t,Ls(t,e)):null}var _a=_(function t(){m(this,t)}),wa=function(){return Sa(Qe(),We())},ka=function(){var t=_(function t(){m(this,t)});return t.__NG_ELEMENT_ID__=wa,t}(),ba=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this))._lContainer=t,o._hostTNode=i,o._hostLView=r,o}return _(n,[{key:"element",get:function(){return Ls(this._hostTNode,this._hostLView)}},{key:"injector",get:function(){return new Jn(this._hostTNode,this._hostLView)}},{key:"parentInjector",get:function(){var t=Hn(this._hostTNode,this._hostLView);if(Pn(t)){var e=Dn(t,this._hostLView),n=In(t);return new Jn(e[1].data[n+8],e)}return new Jn(null,this._hostLView)}},{key:"clear",value:function(){for(;this.length>0;)this.remove(this.length-1)}},{key:"get",value:function(t){var e=Ca(this._lContainer);return null!==e&&e[t]||null}},{key:"length",get:function(){return this._lContainer.length-10}},{key:"createEmbeddedView",value:function(t,e,n){var i=t.createEmbeddedView(e||{});return this.insert(i,n),i}},{key:"createComponent",value:function(t,e,n,i,r){var o=n||this.parentInjector;if(!r&&null==t.ngModule&&o){var s=o.get(_a,null);s&&(r=s)}var a=t.create(o,i,void 0,r);return this.insert(a.hostView,e),a}},{key:"insert",value:function(t,e){var i=t._lView,r=i[1];if(ge(i[3])){var o=this.indexOf(t);if(-1!==o)this.detach(o);else{var s=i[3],a=new n(s,s[6],s[3]);a.detach(a.indexOf(t))}}var u=this._adjustIndex(e),c=this._lContainer;!function(t,e,n,i){var r=10+i,o=n.length;i>0&&(n[r-1][4]=e),i<o-10?(e[4]=n[r],ri(n,10+i,e)):(n.push(e),e[4]=null),e[3]=n;var s=e[17];null!==s&&n!==s&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(s,e);var a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,i,c,u);var l=Yi(u,c),h=i[11],f=Ki(h,c[7]);return null!==f&&function(t,e,n,i,r,o){i[0]=r,i[6]=e,Ji(t,i,n,1,r,o)}(r,c[6],h,i,f,l),t.attachToViewContainerRef(),ri(Ea(c),u,t),t}},{key:"move",value:function(t,e){return this.insert(t,e)}},{key:"indexOf",value:function(t){var e=Ca(this._lContainer);return null!==e?e.indexOf(t):-1}},{key:"remove",value:function(t){var e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);n&&(oi(Ea(this._lContainer),e),Vi(n[1],n))}},{key:"detach",value:function(t){var e=this._adjustIndex(t,-1),n=ji(this._lContainer,e);return n&&null!=oi(Ea(this._lContainer),e)?new aa(n):null}},{key:"_adjustIndex",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return null==t?this.length+e:t}}]),n}(ka);function Ca(t){return t[8]}function Ea(t){return t[8]||(t[8]=[])}function Sa(t,e){var n,i=e[t.index];if(ge(i))n=i;else{var r;if(8&t.type)r=Ie(i);else{var o=e[11];r=o.createComment("");var s=Ne(t,e);zi(o,Ki(o,s),r,function(t,e){return Oe(t)?t.nextSibling(e):e.nextSibling}(o,s),!1)}e[t.index]=n=Zr(i,e,r,t),$r(e,n)}return new ba(n,t,e)}var xa={},Ta=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).ngModule=t,i}return _(n,[{key:"resolveComponentFactory",value:function(t){var e=ve(t);return new Ra(e,this.ngModule)}}]),n}(Ds);function Ma(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Aa=new ei("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ti}}),Ra=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).componentDef=t,r.ngModule=i,r.componentType=t.type,r.selector=t.selectors.map(dr).join(","),r.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],r.isBoundToModule=!!i,r}return _(n,[{key:"inputs",get:function(){return Ma(this.componentDef.inputs)}},{key:"outputs",get:function(){return Ma(this.componentDef.outputs)}},{key:"create",value:function(t,e,n,i){var r,o,s=(i=i||this.ngModule)?function(t,e){return{get:function(n,i,r){var o=t.get(n,xa,r);return o!==xa||i===xa?o:e.get(n,i,r)}}}(t,i.injector):t,a=s.get(Bs,Pe),u=s.get(qs,null),c=a.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",h=n?function(t,e,n){if(Oe(t))return t.selectRootElement(e,n===Ut.ShadowDom);var i="string"==typeof e?t.querySelector(e):e;return i.textContent="",i}(c,n,this.componentDef.encapsulation):Li(a.createRenderer(null,this.componentDef),l,function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),f=this.componentDef.onPush?576:528,d={components:[],scheduler:Ti,clean:io,playerHandler:null,flags:0},p=Dr(0,null,null,1,0,null,null,null,null,null),v=Er(null,p,d,f,null,null,a,c,u,s);hn(v);try{var y=function(t,e,n,i,r,o){var s=n[1];n[20]=t;var a=Sr(s,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(co(a,u,!0),null!==t&&(Mn(r,t,u),null!==a.classes&&nr(r,t,a.classes),null!==a.styles&&er(r,t,a.styles)));var c=i.createRenderer(t,e),l=Er(n,Ir(e),null,e.onPush?64:16,n[20],a,i,c,null,null);return s.firstCreatePass&&(zn(jn(a,n),s,e.type),Hr(s,a),qr(a,n.length,1)),$r(n,l),n[20]=l}(h,this.componentDef,v,a,c);if(h)if(n)Mn(c,h,["ng-version",Ks.full]);else{var m=function(t){for(var e=[],n=[],i=1,r=2;i<t.length;){var o=t[i];if("string"==typeof o)2===r?""!==o&&e.push(o,t[++i]):8===r&&n.push(o);else{if(!ur(r))break;r=o}i++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),g=m.attrs,_=m.classes;g&&Mn(c,h,g),_&&_.length>0&&nr(c,h,_.join(" "))}if(o=Le(p,20),void 0!==e)for(var w=o.projection=[],k=0;k<this.ngContentSelectors.length;k++){var b=e[k];w.push(null!=b?Array.from(b):null)}r=function(t,e,n,i,r){var o=n[1],s=function(t,e,n){var i=Qe();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Ur(t,i,e,xr(t,e,1,null),n));var r=Xn(e,t,i.directiveStart,i);xi(r,e);var o=Ne(i,e);return o&&xi(o,e),r}(o,n,e);if(i.components.push(s),t[8]=s,r&&r.forEach(function(t){return t(s,e)}),e.contentQueries){var a=Qe();e.contentQueries(1,s,a.directiveStart)}var u=Qe();return!o.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(gn(u.index),Vr(n[1],u,0,u.directiveStart,u.directiveEnd,e),Br(e,s)),s}(y,this.componentDef,v,d,[Mo]),Tr(p,v,null)}finally{yn()}return new Oa(this.componentType,r,Ls(o,v),v,o)}}]),n}(Ps),Oa=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s){var a;return m(this,n),(a=e.call(this)).location=r,a._rootLView=o,a._tNode=s,a.instance=i,a.hostView=a.changeDetectorRef=new ua(o),a.componentType=t,a}return _(n,[{key:"injector",get:function(){return new Jn(this._tNode,this._rootLView)}},{key:"destroy",value:function(){this.hostView.destroy()}},{key:"onDestroy",value:function(t){this.hostView.onDestroy(t)}}]),n}(function(){return _(function t(){m(this,t)})}()),Pa=new Map,Ia=function(t){l(n,t);var e=f(n);function n(t,i){var r;m(this,n),(r=e.call(this))._parent=i,r._bootstrapComponents=[],r.injector=p(r),r.destroyCbs=[],r.componentFactoryResolver=new Ta(p(r));var o=ye(t),s=t[ie]||null;return s&&Cs(s),r._bootstrapComponents=Mi(o.bootstrap),r._r3Injector=_o(t,i,[{provide:_a,useValue:p(r)},{provide:Ds,useValue:r.componentFactoryResolver}],wt(t)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(t),r}return _(n,[{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:To.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Vt.Default;return t===To||t===_a||t===ho?this:this._r3Injector.get(t,e,n)}},{key:"destroy",value:function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(function(t){return t()}),this.destroyCbs=null}},{key:"onDestroy",value:function(t){this.destroyCbs.push(t)}}]),n}(_a),Da=function(t){l(i,t);var e=f(i);function i(t){var r,o,s;return m(this,i),(r=e.call(this)).moduleType=t,null!==ye(t)&&(o=t,s=new Set,function t(e){var i=ye(e,!0),r=i.id;null!==r&&(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for ".concat(t," - ").concat(wt(e)," vs ").concat(wt(e.name)))}(r,Pa.get(r),e),Pa.set(r,e));var o,a=n(Mi(i.imports));try{for(a.s();!(o=a.n()).done;){var u=o.value;s.has(u)||(s.add(u),t(u))}}catch(c){a.e(c)}finally{a.f()}}(o)),r}return _(i,[{key:"create",value:function(t){return new Ia(this.moduleType,t)}}]),i}(function(){return _(function t(){m(this,t)})}());function Na(t,e,n,i){return La(We(),nn(),t,e,n,i)}function La(t,e,n,i,r,o){var s=e+n;return Vo(t,s,r)?function(t,e,n){return t[e]=n}(t,s+1,o?i.call(o,r):i(r)):function(t,e){var n=t[e];return n===pr?void 0:n}(t,s+1)}function Fa(t){return function(e){setTimeout(t,void 0,e)}}var ja=function(t){l(n,t);var e=f(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,n),(t=e.call(this)).__isAsync=i,t}return _(n,[{key:"emit",value:function(t){u(y(n.prototype),"next",this).call(this,t)}},{key:"subscribe",value:function(t,e,i){var r,o,s,a=t,c=e||function(){return null},l=i;if(t&&"object"==typeof t){var h=t;a=null===(r=h.next)||void 0===r?void 0:r.bind(h),c=null===(o=h.error)||void 0===o?void 0:o.bind(h),l=null===(s=h.complete)||void 0===s?void 0:s.bind(h)}this.__isAsync&&(c=Fa(c),a&&(a=Fa(a)),l&&(l=Fa(l)));var f=u(y(n.prototype),"subscribe",this).call(this,{next:a,error:c,complete:l});return t instanceof T&&t.add(f),f}}]),n}(H);function Va(){return this._results[No()]()}var Ba=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,t),this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;var n=No(),i=t.prototype;i[n]||(i[n]=Va)}return _(t,[{key:"changes",get:function(){return this._changes||(this._changes=new ja)}},{key:"get",value:function(t){return this._results[t]}},{key:"map",value:function(t){return this._results.map(t)}},{key:"filter",value:function(t){return this._results.filter(t)}},{key:"find",value:function(t){return this._results.find(t)}},{key:"reduce",value:function(t,e){return this._results.reduce(t,e)}},{key:"forEach",value:function(t){this._results.forEach(t)}},{key:"some",value:function(t){return this._results.some(t)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(t,e){this.dirty=!1;var n=ni(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(var i=0;i<t.length;i++){var r=t[i],o=e[i];if(n&&(r=n(r),o=n(o)),o!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}},{key:"notifyOnChanges",value:function(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),t}(),Ha=function(){function t(e){m(this,t),this.queryList=e,this.matches=null}return _(t,[{key:"clone",value:function(){return new t(this.queryList)}},{key:"setDirty",value:function(){this.queryList.setDirty()}}]),t}(),za=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=e}return _(t,[{key:"createEmbeddedView",value:function(e){var n=e.queries;if(null!==n){for(var i=null!==e.contentQueries?e.contentQueries[0]:n.length,r=[],o=0;o<i;o++){var s=n.getByIndex(o);r.push(this.queries[s.indexInDeclarationView].clone())}return new t(r)}return null}},{key:"insertView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"detachView",value:function(t){this.dirtyQueriesWithMatches(t)}},{key:"dirtyQueriesWithMatches",value:function(t){for(var e=0;e<this.queries.length;e++)null!==Ja(t,e).matches&&this.queries[e].setDirty()}}]),t}(),qa=_(function t(e,n){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;m(this,t),this.predicate=e,this.flags=n,this.read=i}),Ua=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];m(this,t),this.queries=e}return _(t,[{key:"elementStart",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}},{key:"elementEnd",value:function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}},{key:"embeddedTView",value:function(e){for(var n=null,i=0;i<this.length;i++){var r=null!==n?n.length:0,o=this.getByIndex(i).embeddedTView(e,r);o&&(o.indexInDeclarationView=i,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null}},{key:"template",value:function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}},{key:"getByIndex",value:function(t){return this.queries[t]}},{key:"length",get:function(){return this.queries.length}},{key:"track",value:function(t){this.queries.push(t)}}]),t}(),Ka=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;m(this,t),this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}return _(t,[{key:"elementStart",value:function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}},{key:"elementEnd",value:function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}},{key:"template",value:function(t,e){this.elementStart(t,e)}},{key:"embeddedTView",value:function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}},{key:"isApplyingToNode",value:function(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}},{key:"matchTNode",value:function(t,e){var n=this.metadata.predicate;if(Array.isArray(n))for(var i=0;i<n.length;i++){var r=n[i];this.matchTNodeWithReadOption(t,e,Wa(e,r)),this.matchTNodeWithReadOption(t,e,Qn(e,t,r,!1,!1))}else n===ya?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,Qn(e,t,n,!1,!1))}},{key:"matchTNodeWithReadOption",value:function(t,e,n){if(null!==n){var i=this.metadata.read;if(null!==i)if(i===js||i===ka||i===ya&&4&e.type)this.addMatch(e.index,-2);else{var r=Qn(e,t,i,!1,!1);null!==r&&this.addMatch(e.index,r)}else this.addMatch(e.index,n)}}},{key:"addMatch",value:function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}]),t}();function Wa(t,e){var n=t.localNames;if(null!==n)for(var i=0;i<n.length;i+=2)if(n[i]===e)return n[i+1];return null}function Ga(t,e,n,i){return-1===n?function(t,e){return 11&t.type?Ls(t,e):4&t.type?ga(t,e):null}(e,t):-2===n?function(t,e,n){return n===js?Ls(e,t):n===ya?ga(e,t):n===ka?Sa(e,t):void 0}(t,e,i):Xn(t,t[1],n,e)}function Za(t,e,n,i){var r=e[19].queries[i];if(null===r.matches){for(var o=t.data,s=n.matches,a=[],u=0;u<s.length;u+=2){var c=s[u];a.push(c<0?null:Ga(e,o[c],s[u+1],n.metadata.read))}r.matches=a}return r.matches}function Qa(t,e,n,i){var r=t.queries.getByIndex(n),o=r.matches;if(null!==o)for(var s=Za(t,e,r,n),a=0;a<o.length;a+=2){var u=o[a];if(u>0)i.push(s[a/2]);else{for(var c=o[a+1],l=e[-u],h=10;h<l.length;h++){var f=l[h];f[17]===f[3]&&Qa(f[1],f,c,i)}if(null!==l[9])for(var d=l[9],p=0;p<d.length;p++){var v=d[p];Qa(v[1],v,c,i)}}}return i}function Xa(t){var e=We(),n=Ge(),i=an();un(i+1);var r=Ja(n,i);if(t.dirty&&Ve(e)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{var o=r.crossesNgTemplate?Qa(n,e,i,[]):Za(n,e,r,i);t.reset(o,Vs),t.notifyOnChanges()}return!0}return!1}function Ya(t,e,n){var i=Ge();i.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new Ua),t.queries.track(new Ka(e,-1))}(i,new qa(t,e,n)),2==(2&e)&&(i.staticViewQueries=!0)),function(t,e,n){var i=new Ba(4==(4&n));Nr(t,e,i,i.destroy),null===e[19]&&(e[19]=new za),e[19].queries.push(new Ha(i))}(i,We(),e)}function $a(){return t=We(),e=an(),t[19].queries[e].queryList;var t,e}function Ja(t,e){return t.queries.getByIndex(e)}function tu(t,e){return ga(t,e)}var eu=new ei("Application Initializer"),nu=function(){var t=function(){function t(e){var n=this;m(this,t),this.appInits=e,this.resolve=Ns,this.reject=Ns,this.initialized=!1,this.done=!1,this.donePromise=new Promise(function(t,e){n.resolve=t,n.reject=e})}return _(t,[{key:"runInitializers",value:function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var i=0;i<this.appInits.length;i++){var r=this.appInits[i]();Qo(r)&&e.push(r)}Promise.all(e).then(function(){n()}).catch(function(e){t.reject(e)}),0===e.length&&n(),this.initialized=!0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vi(eu,8))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),iu=new ei("AppId"),ru={provide:iu,useFactory:function(){return"".concat(ou()).concat(ou()).concat(ou())},deps:[]};function ou(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var su=new ei("Platform Initializer"),au=new ei("Platform ID"),uu=new ei("appBootstrapListener"),cu=function(){var t=function(){function t(){m(this,t)}return _(t,[{key:"log",value:function(t){console.log(t)}},{key:"warn",value:function(t){console.warn(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),lu=new ei("LocaleId"),hu=new ei("DefaultCurrencyCode"),fu=_(function t(e,n){m(this,t),this.ngModuleFactory=e,this.componentFactories=n}),du=function(t){return new Da(t)},pu=du,vu=function(t){return Promise.resolve(du(t))},yu=function(t){var e=du(t),n=Mi(ye(t).declarations).reduce(function(t,e){var n=ve(e);return n&&t.push(new Ra(n)),t},[]);return new fu(e,n)},mu=yu,gu=function(t){return Promise.resolve(yu(t))},_u=function(){var t=function(){function t(){m(this,t),this.compileModuleSync=pu,this.compileModuleAsync=vu,this.compileModuleAndAllComponentsSync=mu,this.compileModuleAndAllComponentsAsync=gu}return _(t,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(t){}},{key:"getModuleId",value:function(t){}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),wu=Promise.resolve(0);function ku(t){"undefined"==typeof Zone?wu.then(function(){t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var bu=function(){function t(e){var n,i,r=e.enableLongStackTrace,o=void 0!==r&&r,s=e.shouldCoalesceEventChangeDetection,a=void 0!==s&&s,u=e.shouldCoalesceRunChangeDetection,c=void 0!==u&&u;if(m(this,t),this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ja(!1),this.onMicrotaskEmpty=new ja(!1),this.onStable=new ja(!1),this.onError=new ja(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=!c&&a,this.shouldCoalesceRunChangeDetection=c,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=Qt.requestAnimationFrame,e=Qt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var i=e[Zone.__symbol__("OriginalDelegate")];i&&(e=i)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,i=function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(Qt,function(){t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",function(){t.lastRequestAnimationFrameId=-1,Su(t),Eu(t)},void 0,function(){},function(){})),t.fakeTopEventTask.invoke()}),Su(t))}(n)},(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(t,e,r,o,s,a){try{return xu(n),t.invokeTask(r,o,s,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||n.shouldCoalesceRunChangeDetection)&&i(),Tu(n)}},onInvoke:function(t,e,r,o,s,a,u){try{return xu(n),t.invoke(r,o,s,a,u)}finally{n.shouldCoalesceRunChangeDetection&&i(),Tu(n)}},onHasTask:function(t,e,i,r){t.hasTask(i,r),e===i&&("microTask"==r.change?(n._hasPendingMicrotasks=r.microTask,Su(n),Eu(n)):"macroTask"==r.change&&(n.hasPendingMacrotasks=r.macroTask))},onHandleError:function(t,e,i,r){return t.handleError(i,r),n.runOutsideAngular(function(){return n.onError.emit(r)}),!1}})}return _(t,[{key:"run",value:function(t,e,n){return this._inner.run(t,e,n)}},{key:"runTask",value:function(t,e,n,i){var r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,t,Cu,Ns,Ns);try{return r.runTask(o,e,n)}finally{r.cancelTask(o)}}},{key:"runGuarded",value:function(t,e,n){return this._inner.runGuarded(t,e,n)}},{key:"runOutsideAngular",value:function(t){return this._outer.run(t)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),t}(),Cu={};function Eu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(function(){return t.onStable.emit(null)})}finally{t.isStable=!0}}}function Su(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function xu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Tu(t){t._nesting--,Eu(t)}var Mu,Au=function(){function t(){m(this,t),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ja,this.onMicrotaskEmpty=new ja,this.onStable=new ja,this.onError=new ja}return _(t,[{key:"run",value:function(t,e,n){return t.apply(e,n)}},{key:"runGuarded",value:function(t,e,n){return t.apply(e,n)}},{key:"runOutsideAngular",value:function(t){return t()}},{key:"runTask",value:function(t,e,n,i){return t.apply(e,n)}}]),t}(),Ru=function(){var t=function(){function t(e){var n=this;m(this,t),this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}return _(t,[{key:"_watchAngularEvents",value:function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular(function(){t._ngZone.onStable.subscribe({next:function(){bu.assertNotInAngularZone(),ku(function(){t._isZoneStable=!0,t._runCallbacksIfReady()})}})})}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var t=this;if(this.isStable())ku(function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1});else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter(function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)}),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}}):[]}},{key:"addCallback",value:function(t,e,n){var i=this,r=-1;e&&e>0&&(r=setTimeout(function(){i._callbacks=i._callbacks.filter(function(t){return t.timeoutId!==r}),t(i._didWork,i.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}},{key:"whenStable",value:function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(t,e,n){return[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vi(bu))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),Ou=function(){var t=function(){function t(){m(this,t),this._applications=new Map,Pu.addToWindow(this)}return _(t,[{key:"registerApplication",value:function(t,e){this._applications.set(t,e)}},{key:"unregisterApplication",value:function(t){this._applications.delete(t)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(t){return this._applications.get(t)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Pu.findTestabilityInTree(this,t,e)}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}(),Pu=new(function(){function t(){m(this,t)}return _(t,[{key:"addToWindow",value:function(t){}},{key:"findTestabilityInTree",value:function(t,e,n){return null}}]),t}()),Iu=!0,Du=!1;function Nu(){return Du=!0,Iu}var Lu=new ei("AllowMultipleToken");function Fu(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i="Platform: ".concat(e),r=new ei(i);return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],o=ju();if(!o||o.injector.get(Lu,!1))if(t)t(n.concat(e).concat({provide:r,useValue:!0}));else{var s=n.concat(e).concat({provide:r,useValue:!0},{provide:po,useValue:"platform"});!function(t){if(Mu&&!Mu.destroyed&&!Mu.injector.get(Lu,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Mu=t.get(Vu);var e=t.get(su,null);e&&e.forEach(function(t){return t()})}(To.create({providers:s,name:i}))}return function(t){var e=ju();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(r)}}function ju(){return Mu&&!Mu.destroyed?Mu:null}var Vu=function(){var t=function(){function t(e){m(this,t),this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _(t,[{key:"bootstrapModuleFactory",value:function(t,e){var n,i,r=this,o=(n=e?e.ngZone:void 0,i={ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1},"noop"===n?new Au:("zone.js"===n?void 0:n)||new bu({enableLongStackTrace:Nu(),shouldCoalesceEventChangeDetection:!!(null==i?void 0:i.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==i?void 0:i.ngZoneRunCoalescing)})),s=[{provide:bu,useValue:o}];return o.run(function(){var e=To.create({providers:s,parent:r.injector,name:t.moduleType.name}),n=t.create(e),i=n.injector.get(Si,null);if(!i)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return o.runOutsideAngular(function(){var t=o.onError.subscribe({next:function(t){i.handleError(t)}});n.onDestroy(function(){qu(r._modules,n),t.unsubscribe()})}),function(t,e,i){try{var o=((s=n.injector.get(nu)).runInitializers(),s.donePromise.then(function(){return Cs(n.injector.get(lu,"en-US")||"en-US"),r._moduleDoBootstrap(n),n}));return Qo(o)?o.catch(function(n){throw e.runOutsideAngular(function(){return t.handleError(n)}),n}):o}catch(a){throw e.runOutsideAngular(function(){return t.handleError(a)}),a}var s}(i,o)})}},{key:"bootstrapModule",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=Bu({},n);return function(t,e,n){var i=new Da(n);return Promise.resolve(i)}(0,0,t).then(function(t){return e.bootstrapModuleFactory(t,i)})}},{key:"_moduleDoBootstrap",value:function(t){var e=t.injector.get(zu);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(function(t){return e.bootstrap(t)});else{if(!t.instance.ngDoBootstrap)throw new Error("The module ".concat(wt(t.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));t.instance.ngDoBootstrap(e)}this._modules.push(t)}},{key:"onDestroy",value:function(t){this._destroyListeners.push(t)}},{key:"injector",get:function(){return this._injector}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(function(t){return t.destroy()}),this._destroyListeners.forEach(function(t){return t()}),this._destroyed=!0}},{key:"destroyed",get:function(){return this._destroyed}}]),t}();return t.\u0275fac=function(e){return new(e||t)(vi(To))},t.\u0275prov=At({token:t,factory:t.\u0275fac}),t}();function Bu(t,e){return Array.isArray(e)?e.reduce(Bu,t):Object.assign(Object.assign({},t),e)}var Hu,zu=((Hu=function(){function t(e,n,i,r,o){var s=this;m(this,t),this._zone=e,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run(function(){s.tick()})}});var a=new N(function(t){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular(function(){t.next(s._stable),t.complete()})}),u=new N(function(t){var e;s._zone.runOutsideAngular(function(){e=s._zone.onStable.subscribe(function(){bu.assertNotInAngularZone(),ku(function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,t.next(!0))})})});var n=s._zone.onUnstable.subscribe(function(){bu.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular(function(){t.next(!1)}))});return function(){e.unsubscribe(),n.unsubscribe()}});this.isStable=ut(a,u.pipe(function(t){return ct()(vt(mt)(t))}))}return _(t,[{key:"bootstrap",value:function(t,e){var n,i=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof Ps?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var r=n.isBoundToModule?void 0:this._injector.get(_a),o=n.create(To.NULL,[],e||n.selector,r),s=o.location.nativeElement,a=o.injector.get(Ru,null),u=a&&o.injector.get(Ou);return a&&u&&u.registerApplication(s,a),o.onDestroy(function(){i.detachView(o.hostView),qu(i.components,o),u&&u.unregisterApplication(s)}),this._loadComponent(o),o}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;var e,i=n(this._views);try{for(i.s();!(e=i.n()).done;)e.value.detectChanges()}catch(r){i.e(r)}finally{i.f()}}catch(o){this._zone.runOutsideAngular(function(){return t._exceptionHandler.handleError(o)})}finally{this._runningTick=!1}}},{key:"attachView",value:function(t){var e=t;this._views.push(e),e.attachToAppRef(this)}},{key:"detachView",value:function(t){var e=t;qu(this._views,e),e.detachFromAppRef()}},{key:"_loadComponent",value:function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(uu,[]).concat(this._bootstrapListeners).forEach(function(e){return e(t)})}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach(function(t){return t.destroy()}),this._onMicrotaskEmptySubscription.unsubscribe()}},{key:"viewCount",get:function(){return this._views.length}}]),t}()).\u0275fac=function(t){return new(t||Hu)(vi(bu),vi(To),vi(Si),vi(Ds),vi(nu))},Hu.\u0275prov=At({token:Hu,factory:Hu.\u0275fac}),Hu);function qu(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var Uu=Fu(null,"core",[{provide:au,useValue:"unknown"},{provide:Vu,deps:[To]},{provide:Ou,deps:[]},{provide:cu,deps:[]}]),Ku=[{provide:zu,useClass:zu,deps:[bu,To,Si,Ds,nu]},{provide:Aa,deps:[bu],useFactory:function(t){var e=[];return t.onStable.subscribe(function(){for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:nu,useClass:nu,deps:[[new wi,eu]]},{provide:_u,useClass:_u,deps:[]},ru,{provide:ia,useFactory:function(){return da},deps:[]},{provide:oa,useFactory:function(){return pa},deps:[]},{provide:lu,useFactory:function(t){return Cs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new _i(lu),new wi,new ki]]},{provide:hu,useValue:"USD"}],Wu=function(){var t=_(function t(e){m(this,t)});return t.\u0275fac=function(e){return new(e||t)(vi(zu))},t.\u0275mod=he({type:t}),t.\u0275inj=Rt({providers:Ku}),t}(),Gu=null;function Zu(){return Gu}var Qu,Xu=new ei("DocumentToken"),Yu=((Qu=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Qu)},Qu.\u0275prov=At({factory:$u,token:Qu,providedIn:"platform"}),Qu);function $u(){return vi(tc)}var Ju,tc=((Ju=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this))._doc=t,i._init(),i}return _(n,[{key:"_init",value:function(){this.location=Zu().getLocation(),this._history=Zu().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return Zu().getBaseHref(this._doc)}},{key:"onPopState",value:function(t){Zu().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)}},{key:"onHashChange",value:function(t){Zu().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(t){this.location.pathname=t}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}},{key:"pushState",value:function(t,e,n){ec()?this._history.pushState(t,e,n):this.location.hash=n}},{key:"replaceState",value:function(t,e,n){ec()?this._history.replaceState(t,e,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}}]),n}(Yu)).\u0275fac=function(t){return new(t||Ju)(vi(Xu))},Ju.\u0275prov=At({factory:nc,token:Ju,providedIn:"platform"}),Ju);function ec(){return!!window.history.pushState}function nc(){return new tc(vi(Xu))}function ic(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function rc(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function oc(t){return t&&"?"!==t[0]?"?"+t:t}var sc,ac=((sc=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||sc)},sc.\u0275prov=At({factory:uc,token:sc,providedIn:"root"}),sc);function uc(t){var e=vi(Xu).location;return new fc(vi(Yu),e&&e.origin||"")}var cc,lc,hc=new ei("appBaseHref"),fc=((lc=function(t){l(n,t);var e=f(n);function n(t,i){var r;if(m(this,n),(r=e.call(this))._platformLocation=t,null==i&&(i=r._platformLocation.getBaseHrefFromDOM()),null==i)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=i,d(r)}return _(n,[{key:"onPopState",value:function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(t){return ic(this._baseHref,t)}},{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this._platformLocation.pathname+oc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?"".concat(e).concat(n):e}},{key:"pushState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+oc(i));this._platformLocation.pushState(t,e,r)}},{key:"replaceState",value:function(t,e,n,i){var r=this.prepareExternalUrl(n+oc(i));this._platformLocation.replaceState(t,e,r)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(ac)).\u0275fac=function(t){return new(t||lc)(vi(Yu),vi(hc,8))},lc.\u0275prov=At({token:lc,factory:lc.\u0275fac}),lc),dc=((cc=function(){function t(e,n){var i=this;m(this,t),this._subject=new ja,this._urlChangeListeners=[],this._platformStrategy=e;var r=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=rc(vc(r)),this._platformStrategy.onPopState(function(t){i._subject.emit({url:i.path(!0),pop:!0,state:t.state,type:t.type})})}return _(t,[{key:"path",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(t))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+oc(e))}},{key:"normalize",value:function(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,vc(e)))}},{key:"prepareExternalUrl",value:function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}},{key:"go",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}},{key:"replaceState",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(e)),n)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(t){var e=this;this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(function(t){e._notifyUrlChangeListeners(t.url,t.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach(function(n){return n(t,e)})}},{key:"subscribe",value:function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}]),t}()).\u0275fac=function(t){return new(t||cc)(vi(ac),vi(Yu))},cc.normalizeQueryParams=oc,cc.joinWithSlash=ic,cc.stripTrailingSlash=rc,cc.\u0275prov=At({factory:pc,token:cc,providedIn:"root"}),cc);function pc(){return new dc(vi(ac),vi(Yu))}function vc(t){return t.replace(/\/index.html$/,"")}var yc,mc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),gc=_(function t(){m(this,t)}),_c=((yc=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).locale=t,i}return _(n,[{key:"getPluralCategory",value:function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=ks(e);if(n)return n;var i=e.split("-")[0];if(n=ks(i))return n;if("en"===i)return _s;throw new Error('Missing locale data for the locale "'.concat(t,'".'))}(t)[bs.PluralCase]}(e||this.locale)(t)){case mc.Zero:return"zero";case mc.One:return"one";case mc.Two:return"two";case mc.Few:return"few";case mc.Many:return"many";default:return"other"}}}]),n}(gc)).\u0275fac=function(t){return new(t||yc)(vi(lu))},yc.\u0275prov=At({token:yc,factory:yc.\u0275fac}),yc);function wc(t,i){i=encodeURIComponent(i);var r,o=n(t.split(";"));try{for(o.s();!(r=o.n()).done;){var s=r.value,a=s.indexOf("="),u=e(-1==a?[s,""]:[s.slice(0,a),s.slice(a+1)],2),c=u[0],l=u[1];if(c.trim()===i)return decodeURIComponent(l)}}catch(h){o.e(h)}finally{o.f()}return null}var kc,bc,Cc=function(){function t(e,n,i,r){m(this,t),this.$implicit=e,this.ngForOf=n,this.index=i,this.count=r}return _(t,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),t}(),Ec=((kc=function(){function t(e,n,i){m(this,t),this._viewContainer=e,this._template=n,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return _(t,[{key:"ngForOf",set:function(t){this._ngForOf=t,this._ngForOfDirty=!0}},{key:"ngForTrackBy",get:function(){return this._trackByFn},set:function(t){this._trackByFn=t}},{key:"ngForTemplate",set:function(t){t&&(this._template=t)}},{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(i){throw new Error("Cannot find a differ supporting object '".concat(t,"' of type '").concat((e=t).name||typeof e,"'. NgFor only supports binding to Iterables such as Arrays."))}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(t){var e=this,n=[];t.forEachOperation(function(t,i,r){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new Cc(null,e._ngForOf,-1,-1),null===r?void 0:r),s=new Sc(t,o);n.push(s)}else if(null==r)e._viewContainer.remove(null===i?void 0:i);else if(null!==i){var a=e._viewContainer.get(i);e._viewContainer.move(a,r);var u=new Sc(t,a);n.push(u)}});for(var i=0;i<n.length;i++)this._perViewChange(n[i].view,n[i].record);for(var r=0,o=this._viewContainer.length;r<o;r++){var s=this._viewContainer.get(r);s.context.index=r,s.context.count=o,s.context.ngForOf=this._ngForOf}t.forEachIdentityChange(function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item})}},{key:"_perViewChange",value:function(t,e){t.context.$implicit=e.item}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||kc)(zo(ka),zo(ya),zo(ia))},kc.\u0275dir=de({type:kc,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),kc),Sc=_(function t(e,n){m(this,t),this.record=e,this.view=n}),xc=((bc=function(){function t(e,n){m(this,t),this._viewContainer=e,this._context=new Tc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _(t,[{key:"ngIf",set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}},{key:"ngIfThen",set:function(t){Mc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(t){Mc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}},{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}}],[{key:"ngTemplateContextGuard",value:function(t,e){return!0}}]),t}()).\u0275fac=function(t){return new(t||bc)(zo(ka),zo(ya))},bc.\u0275dir=de({type:bc,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),bc),Tc=_(function t(){m(this,t),this.$implicit=null,this.ngIf=null});function Mc(t,e){if(e&&!e.createEmbeddedView)throw new Error("".concat(t," must be a TemplateRef, but received '").concat(wt(e),"'."))}var Ac,Rc,Oc,Pc,Ic,Dc,Nc,Lc,Fc=function(){function t(e,n){m(this,t),this._viewContainerRef=e,this._templateRef=n,this._created=!1}return _(t,[{key:"create",value:function(){this._created=!0,this._viewContainerRef.createEmbeddedView(this._templateRef)}},{key:"destroy",value:function(){this._created=!1,this._viewContainerRef.clear()}},{key:"enforceState",value:function(t){t&&!this._created?this.create():!t&&this._created&&this.destroy()}}]),t}(),jc=((Rc=function(){function t(){m(this,t),this._defaultUsed=!1,this._caseCount=0,this._lastCaseCheckIndex=0,this._lastCasesMatched=!1}return _(t,[{key:"ngSwitch",set:function(t){this._ngSwitch=t,0===this._caseCount&&this._updateDefaultCases(!0)}},{key:"_addCase",value:function(){return this._caseCount++}},{key:"_addDefault",value:function(t){this._defaultViews||(this._defaultViews=[]),this._defaultViews.push(t)}},{key:"_matchCase",value:function(t){var e=t==this._ngSwitch;return this._lastCasesMatched=this._lastCasesMatched||e,this._lastCaseCheckIndex++,this._lastCaseCheckIndex===this._caseCount&&(this._updateDefaultCases(!this._lastCasesMatched),this._lastCaseCheckIndex=0,this._lastCasesMatched=!1),e}},{key:"_updateDefaultCases",value:function(t){if(this._defaultViews&&t!==this._defaultUsed){this._defaultUsed=t;for(var e=0;e<this._defaultViews.length;e++)this._defaultViews[e].enforceState(t)}}}]),t}()).\u0275fac=function(t){return new(t||Rc)},Rc.\u0275dir=de({type:Rc,selectors:[["","ngSwitch",""]],inputs:{ngSwitch:"ngSwitch"}}),Rc),Vc=((Ac=function(){function t(e,n,i){m(this,t),this.ngSwitch=i,i._addCase(),this._view=new Fc(e,n)}return _(t,[{key:"ngDoCheck",value:function(){this._view.enforceState(this.ngSwitch._matchCase(this.ngSwitchCase))}}]),t}()).\u0275fac=function(t){return new(t||Ac)(zo(ka),zo(ya),zo(jc,9))},Ac.\u0275dir=de({type:Ac,selectors:[["","ngSwitchCase",""]],inputs:{ngSwitchCase:"ngSwitchCase"}}),Ac),Bc=function(){function t(){m(this,t)}return _(t,[{key:"createSubscription",value:function(t,e){return t.subscribe({next:e,error:function(t){throw t}})}},{key:"dispose",value:function(t){t.unsubscribe()}},{key:"onDestroy",value:function(t){t.unsubscribe()}}]),t}(),Hc=new(function(){function t(){m(this,t)}return _(t,[{key:"createSubscription",value:function(t,e){return t.then(e,function(t){throw t})}},{key:"dispose",value:function(t){}},{key:"onDestroy",value:function(t){}}]),t}()),zc=new Bc,qc=((Pc=function(){function t(e){m(this,t),this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}return _(t,[{key:"ngOnDestroy",value:function(){this._subscription&&this._dispose()}},{key:"transform",value:function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}},{key:"_subscribe",value:function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,function(n){return e._updateLatestValue(t,n)})}},{key:"_selectStrategy",value:function(e){if(Qo(e))return Hc;if(function(t){return!!t&&"function"==typeof t.subscribe}(e))return zc;throw Error("InvalidPipeArgument: '".concat(e,"' for pipe '").concat(wt(t),"'"))}},{key:"_dispose",value:function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}},{key:"_updateLatestValue",value:function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}]),t}()).\u0275fac=function(t){return new(t||Pc)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt.Default,e=ha(!0);if(null!=e||t&Vt.Optional)return e;Mt("ChangeDetectorRef")}())},Pc.\u0275pipe=pe({name:"async",type:Pc,pure:!1}),Pc),Uc=((Oc=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Oc)},Oc.\u0275mod=he({type:Oc}),Oc.\u0275inj=Rt({providers:[{provide:gc,useClass:_c}]}),Oc),Kc=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"getProperty",value:function(t,e){return t[e]}},{key:"log",value:function(t){window.console&&window.console.log&&window.console.log(t)}},{key:"logGroup",value:function(t){window.console&&window.console.group&&window.console.group(t)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"onAndCancel",value:function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}}},{key:"dispatchEvent",value:function(t,e){t.dispatchEvent(e)}},{key:"remove",value:function(t){return t.parentNode&&t.parentNode.removeChild(t),t}},{key:"getValue",value:function(t){return t.value}},{key:"createElement",value:function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"isElementNode",value:function(t){return t.nodeType===Node.ELEMENT_NODE}},{key:"isShadowRoot",value:function(t){return t instanceof DocumentFragment}},{key:"getGlobalEventTarget",value:function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(t){var e,n=Wc||(Wc=document.querySelector("base"))?Wc.getAttribute("href"):null;return null==n?null:(e=n,Ic||(Ic=document.createElement("a")),Ic.setAttribute("href",e),"/"===Ic.pathname.charAt(0)?Ic.pathname:"/"+Ic.pathname)}},{key:"resetBaseElement",value:function(){Wc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(t){return wc(document.cookie,t)}}],[{key:"makeCurrent",value:function(){var t;t=new n,Gu||(Gu=t)}}]),n}(function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.call(this)}return _(n,[{key:"supportsDOMEvents",value:function(){return!0}}]),n}(function(){return _(function t(){m(this,t)})}())),Wc=null,Gc=new ei("TRANSITION_ID"),Zc=[{provide:eu,useFactory:function(t,e,n){return function(){n.get(nu).donePromise.then(function(){var n=Zu();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter(function(e){return e.getAttribute("ng-transition")===t}).forEach(function(t){return n.remove(t)})})}},deps:[Gc,Xu,To],multi:!0}],Qc=function(){function t(){m(this,t)}return _(t,[{key:"addToWindow",value:function(t){Qt.getAngularTestability=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=t.findTestabilityInTree(e,n);if(null==i)throw new Error("Could not find testability for element.");return i},Qt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},Qt.getAllAngularRootElements=function(){return t.getAllRootElements()},Qt.frameworkStabilizers||(Qt.frameworkStabilizers=[]),Qt.frameworkStabilizers.push(function(t){var e=Qt.getAllAngularTestabilities(),n=e.length,i=!1,r=function(e){i=i||e,0==--n&&t(i)};e.forEach(function(t){t.whenStable(r)})})}},{key:"findTestabilityInTree",value:function(t,e,n){if(null==e)return null;var i=t.getTestability(e);return null!=i?i:n?Zu().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}],[{key:"init",value:function(){var e;e=new t,Pu=e}}]),t}(),Xc=new ei("EventManagerPlugins"),Yc=((Dc=function(){function t(e,n){var i=this;m(this,t),this._zone=n,this._eventNameToPlugin=new Map,e.forEach(function(t){return t.manager=i}),this._plugins=e.slice().reverse()}return _(t,[{key:"addEventListener",value:function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}},{key:"addGlobalEventListener",value:function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,i=0;i<n.length;i++){var r=n[i];if(r.supports(t))return this._eventNameToPlugin.set(t,r),r}throw new Error("No event manager plugin found for event ".concat(t))}}]),t}()).\u0275fac=function(t){return new(t||Dc)(vi(Xc),vi(bu))},Dc.\u0275prov=At({token:Dc,factory:Dc.\u0275fac}),Dc),$c=function(){function t(e){m(this,t),this._doc=e}return _(t,[{key:"addGlobalEventListener",value:function(t,e,n){var i=Zu().getGlobalEventTarget(this._doc,t);if(!i)throw new Error("Unsupported event target ".concat(i," for event ").concat(e));return this.addEventListener(i,e,n)}}]),t}(),Jc=((Lc=function(){function t(){m(this,t),this._stylesSet=new Set}return _(t,[{key:"addStyles",value:function(t){var e=this,n=new Set;t.forEach(function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))}),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(t){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),t}()).\u0275fac=function(t){return new(t||Lc)},Lc.\u0275prov=At({token:Lc,factory:Lc.\u0275fac}),Lc),tl=((Nc=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this))._doc=t,i._hostNodes=new Map,i._hostNodes.set(t.head,[]),i}return _(n,[{key:"_addStylesToHost",value:function(t,e,n){var i=this;t.forEach(function(t){var r=i._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}},{key:"addHost",value:function(t){var e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}},{key:"removeHost",value:function(t){var e=this._hostNodes.get(t);e&&e.forEach(el),this._hostNodes.delete(t)}},{key:"onStylesAdded",value:function(t){var e=this;this._hostNodes.forEach(function(n,i){e._addStylesToHost(t,i,n)})}},{key:"ngOnDestroy",value:function(){this._hostNodes.forEach(function(t){return t.forEach(el)})}}]),n}(Jc)).\u0275fac=function(t){return new(t||Nc)(vi(Xu))},Nc.\u0275prov=At({token:Nc,factory:Nc.\u0275fac}),Nc);function el(t){Zu().remove(t)}var nl={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},il=/%COMP%/g;function rl(t,e,n){for(var i=0;i<e.length;i++){var r=e[i];Array.isArray(r)?rl(t,r,n):(r=r.replace(il,t),n.push(r))}return n}function ol(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var sl,al,ul,cl,ll=((sl=function(){function t(e,n,i){m(this,t),this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new hl(e)}return _(t,[{key:"createRenderer",value:function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case Ut.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new fl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case 1:case Ut.ShadowDom:return new dl(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var i=rl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||sl)(vi(Yc),vi(tl),vi(iu))},sl.\u0275prov=At({token:sl,factory:sl.\u0275fac}),sl),hl=function(){function t(e){m(this,t),this.eventManager=e,this.data=Object.create(null)}return _(t,[{key:"destroy",value:function(){}},{key:"createElement",value:function(t,e){return e?document.createElementNS(nl[e]||e,t):document.createElement(t)}},{key:"createComment",value:function(t){return document.createComment(t)}},{key:"createText",value:function(t){return document.createTextNode(t)}},{key:"appendChild",value:function(t,e){t.appendChild(e)}},{key:"insertBefore",value:function(t,e,n){t&&t.insertBefore(e,n)}},{key:"removeChild",value:function(t,e){t&&t.removeChild(e)}},{key:"selectRootElement",value:function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'.concat(t,'" did not match any elements'));return e||(n.textContent=""),n}},{key:"parentNode",value:function(t){return t.parentNode}},{key:"nextSibling",value:function(t){return t.nextSibling}},{key:"setAttribute",value:function(t,e,n,i){if(i){e=i+":"+e;var r=nl[i];r?t.setAttributeNS(r,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}},{key:"removeAttribute",value:function(t,e,n){if(n){var i=nl[n];i?t.removeAttributeNS(i,e):t.removeAttribute("".concat(n,":").concat(e))}else t.removeAttribute(e)}},{key:"addClass",value:function(t,e){t.classList.add(e)}},{key:"removeClass",value:function(t,e){t.classList.remove(e)}},{key:"setStyle",value:function(t,e,n,i){i&(Ai.DashCase|Ai.Important)?t.style.setProperty(e,n,i&Ai.Important?"important":""):t.style[e]=n}},{key:"removeStyle",value:function(t,e,n){n&Ai.DashCase?t.style.removeProperty(e):t.style[e]=""}},{key:"setProperty",value:function(t,e,n){t[e]=n}},{key:"setValue",value:function(t,e){t.nodeValue=e}},{key:"listen",value:function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,ol(n)):this.eventManager.addEventListener(t,e,ol(n))}}]),t}(),fl=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;m(this,n),(s=e.call(this,t)).component=r;var a=rl(o+"-"+r.id,r.styles,[]);return i.addStyles(a),s.contentAttr="_ngcontent-%COMP%".replace(il,o+"-"+r.id),s.hostAttr="_nghost-%COMP%".replace(il,o+"-"+r.id),s}return _(n,[{key:"applyToHost",value:function(t){u(y(n.prototype),"setAttribute",this).call(this,t,this.hostAttr,"")}},{key:"createElement",value:function(t,e){var i=u(y(n.prototype),"createElement",this).call(this,t,e);return u(y(n.prototype),"setAttribute",this).call(this,i,this.contentAttr,""),i}}]),n}(hl),dl=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;m(this,n),(s=e.call(this,t)).sharedStylesHost=i,s.hostEl=r,s.shadowRoot=r.attachShadow({mode:"open"}),s.sharedStylesHost.addHost(s.shadowRoot);for(var a=rl(o.id,o.styles,[]),u=0;u<a.length;u++){var c=document.createElement("style");c.textContent=a[u],s.shadowRoot.appendChild(c)}return s}return _(n,[{key:"nodeOrShadowRoot",value:function(t){return t===this.hostEl?this.shadowRoot:t}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(t,e){return u(y(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"insertBefore",value:function(t,e,i){return u(y(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(t),e,i)}},{key:"removeChild",value:function(t,e){return u(y(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(t),e)}},{key:"parentNode",value:function(t){return this.nodeOrShadowRoot(u(y(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(t)))}}]),n}(hl),pl=((al=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t)}return _(n,[{key:"supports",value:function(t){return!0}},{key:"addEventListener",value:function(t,e,n){var i=this;return t.addEventListener(e,n,!1),function(){return i.removeEventListener(t,e,n)}}},{key:"removeEventListener",value:function(t,e,n){return t.removeEventListener(e,n)}}]),n}($c)).\u0275fac=function(t){return new(t||al)(vi(Xu))},al.\u0275prov=At({token:al,factory:al.\u0275fac}),al),vl=["alt","control","meta","shift"],yl={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ml={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},gl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},_l=((ul=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t)}return _(n,[{key:"supports",value:function(t){return null!=n.parseEventName(t)}},{key:"addEventListener",value:function(t,e,i){var r=n.parseEventName(e),o=n.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(function(){return Zu().onAndCancel(t,r.domEventName,o)})}}],[{key:"parseEventName",value:function(t){var e=t.toLowerCase().split("."),i=e.shift();if(0===e.length||"keydown"!==i&&"keyup"!==i)return null;var r=n._normalizeKey(e.pop()),o="";if(vl.forEach(function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")}),o+=r,0!=e.length||0===r.length)return null;var s={};return s.domEventName=i,s.fullKey=o,s}},{key:"getEventFullKey",value:function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&ml.hasOwnProperty(e)&&(e=ml[e]))}return yl[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),vl.forEach(function(i){i!=n&&(0,gl[i])(t)&&(e+=i+".")}),e+=n}},{key:"eventCallback",value:function(t,e,i){return function(r){n.getEventFullKey(r)===t&&i.runGuarded(function(){return e(r)})}}},{key:"_normalizeKey",value:function(t){switch(t){case"esc":return"escape";default:return t}}}]),n}($c)).\u0275fac=function(t){return new(t||ul)(vi(Xu))},ul.\u0275prov=At({token:ul,factory:ul.\u0275fac}),ul),wl=Fu(Uu,"browser",[{provide:au,useValue:"browser"},{provide:su,useValue:function(){Kc.makeCurrent(),Qc.init()},multi:!0},{provide:Xu,useFactory:function(){return function(t){Ee=t}(document),document},deps:[]}]),kl=[[],{provide:po,useValue:"root"},{provide:Si,useFactory:function(){return new Si},deps:[]},{provide:Xc,useClass:pl,multi:!0,deps:[Xu,bu,au]},{provide:Xc,useClass:_l,multi:!0,deps:[Xu]},[],{provide:ll,useClass:ll,deps:[Yc,tl,iu]},{provide:Bs,useExisting:ll},{provide:Jc,useExisting:tl},{provide:tl,useClass:tl,deps:[Xu]},{provide:Ru,useClass:Ru,deps:[bu]},{provide:Yc,useClass:Yc,deps:[Xc,bu]},[]],bl=((cl=function(){function t(e){if(m(this,t),e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _(t,null,[{key:"withServerTransition",value:function(e){return{ngModule:t,providers:[{provide:iu,useValue:e.appId},{provide:Gc,useExisting:iu},Zc]}}}]),t}()).\u0275fac=function(t){return new(t||cl)(vi(cl,12))},cl.\u0275mod=he({type:cl}),cl.\u0275inj=Rt({providers:kl,imports:[Uc,Wu]}),cl);function Cl(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return q(i)?(e.pop(),$(e,i)):at(e)}function El(t,e){return function(n){return n.lift(new Sl(t,e))}}"undefined"!=typeof window&&window;var Sl=function(){function t(e,n){m(this,t),this.predicate=e,this.thisArg=n}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new xl(t,this.predicate,this.thisArg))}}]),t}(),xl=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).predicate=i,o.thisArg=r,o.count=0,o}return _(n,[{key:"_next",value:function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}]),n}(R),Tl=_(function t(){m(this,t)}),Ml=_(function t(){m(this,t)}),Al=function(){function t(e){var n=this;m(this,t),this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?function(){n.headers=new Map,e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),r=i.toLowerCase(),o=t.slice(e+1).trim();n.maybeSetNormalizedName(i,r),n.headers.has(r)?n.headers.get(r).push(o):n.headers.set(r,[o])}})}:function(){n.headers=new Map,Object.keys(e).forEach(function(t){var i=e[t],r=t.toLowerCase();"string"==typeof i&&(i=[i]),i.length>0&&(n.headers.set(r,i),n.maybeSetNormalizedName(t,r))})}:this.headers=new Map}return _(t,[{key:"has",value:function(t){return this.init(),this.headers.has(t.toLowerCase())}},{key:"get",value:function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(t){return this.init(),this.headers.get(t.toLowerCase())||null}},{key:"append",value:function(t,e){return this.clone({name:t,value:e,op:"a"})}},{key:"set",value:function(t,e){return this.clone({name:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({name:t,value:e,op:"d"})}},{key:"maybeSetNormalizedName",value:function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}},{key:"init",value:function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(function(t){return e.applyUpdate(t)}),this.lazyUpdate=null))}},{key:"copyFrom",value:function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach(function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))})}},{key:"clone",value:function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}},{key:"applyUpdate",value:function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,i(n)),this.headers.set(e,r);break;case"d":var o=t.value;if(o){var s=this.headers.get(e);if(!s)return;0===(s=s.filter(function(t){return-1===o.indexOf(t)})).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,s)}else this.headers.delete(e),this.normalizedNames.delete(e)}}},{key:"forEach",value:function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach(function(n){return t(e.normalizedNames.get(n),e.headers.get(n))})}}]),t}(),Rl=function(){function t(){m(this,t)}return _(t,[{key:"encodeKey",value:function(t){return Ol(t)}},{key:"encodeValue",value:function(t){return Ol(t)}},{key:"decodeKey",value:function(t){return decodeURIComponent(t)}},{key:"decodeValue",value:function(t){return decodeURIComponent(t)}}]),t}();function Ol(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Pl=function(){function t(){var n=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(m(this,t),this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new Rl,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(t,n){var i=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(function(t){var r=t.indexOf("="),o=e(-1==r?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,r)),n.decodeValue(t.slice(r+1))],2),s=o[0],a=o[1],u=i.get(s)||[];u.push(a),i.set(s,u)}),i}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(function(t){var e=i.fromObject[t];n.map.set(t,Array.isArray(e)?e:[e])})):this.map=null}return _(t,[{key:"has",value:function(t){return this.init(),this.map.has(t)}},{key:"get",value:function(t){this.init();var e=this.map.get(t);return e?e[0]:null}},{key:"getAll",value:function(t){return this.init(),this.map.get(t)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(t,e){return this.clone({param:t,value:e,op:"a"})}},{key:"appendAll",value:function(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n];Array.isArray(i)?i.forEach(function(t){e.push({param:n,value:t,op:"a"})}):e.push({param:n,value:i,op:"a"})}),this.clone(e)}},{key:"set",value:function(t,e){return this.clone({param:t,value:e,op:"s"})}},{key:"delete",value:function(t,e){return this.clone({param:t,value:e,op:"d"})}},{key:"toString",value:function(){var t=this;return this.init(),this.keys().map(function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map(function(e){return n+"="+t.encoder.encodeValue(e)}).join("&")}).filter(function(t){return""!==t}).join("&")}},{key:"clone",value:function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}},{key:"init",value:function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(function(e){return t.map.set(e,t.cloneFrom.map.get(e))}),this.updates.forEach(function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var i=t.map.get(e.param)||[],r=i.indexOf(e.value);-1!==r&&i.splice(r,1),i.length>0?t.map.set(e.param,i):t.map.delete(e.param)}}),this.cloneFrom=this.updates=null)}}]),t}();function Il(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Dl(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Nl(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Ll=function(){function t(e,n,i,r){var o;if(m(this,t),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==i?i:null,o=r):o=i,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.params&&(this.params=o.params)),this.headers||(this.headers=new Al),this.params){var s=this.params.toString();if(0===s.length)this.urlWithParams=n;else{var a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+s}}else this.params=new Pl,this.urlWithParams=n}return _(t,[{key:"serializeBody",value:function(){return null===this.body?null:Il(this.body)||Dl(this.body)||Nl(this.body)||"string"==typeof this.body?this.body:this.body instanceof Pl?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||Nl(this.body)?null:Dl(this.body)?this.body.type||null:Il(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Pl?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}},{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.method||this.method,i=e.url||this.url,r=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce(function(t,n){return t.set(n,e.setHeaders[n])},u)),e.setParams&&(c=Object.keys(e.setParams).reduce(function(t,n){return t.set(n,e.setParams[n])},c)),new t(n,i,o,{params:c,headers:u,reportProgress:a,responseType:r,withCredentials:s})}}]),t}(),Fl=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),jl=_(function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";m(this,t),this.headers=e.headers||new Al,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||i,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}),Vl=function(t){l(n,t);var e=f(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,n),(t=e.call(this,i)).type=Fl.ResponseHeader,t}return _(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jl),Bl=function(t){l(n,t);var e=f(n);function n(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return m(this,n),(t=e.call(this,i)).type=Fl.Response,t.body=void 0!==i.body?i.body:null,t}return _(n,[{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}]),n}(jl),Hl=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,t,0,"Unknown Error")).name="HttpErrorResponse",i.ok=!1,i.message=i.status>=200&&i.status<300?"Http failure during parsing for ".concat(t.url||"(unknown url)"):"Http failure response for ".concat(t.url||"(unknown url)",": ").concat(t.status," ").concat(t.statusText),i.error=t.error||null,i}return _(n)}(jl);function zl(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var ql,Ul,Kl,Wl,Gl,Zl,Ql,Xl,Yl,$l=((ql=function(){function t(e){m(this,t),this.handler=e}return _(t,[{key:"request",value:function(t,e){var n,i,r,o=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};t instanceof Ll?n=t:(i=s.headers instanceof Al?s.headers:new Al(s.headers),s.params&&(r=s.params instanceof Pl?s.params:new Pl({fromObject:s.params})),n=new Ll(t,e,void 0!==s.body?s.body:null,{headers:i,params:r,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials}));var a=Cl(n).pipe(it(function(t){return o.handler.handle(t)},void 0,1));if(t instanceof Ll||"events"===s.observe)return a;var u=a.pipe(El(function(t){return t instanceof Bl}));switch(s.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return u.pipe(U(function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body}));case"blob":return u.pipe(U(function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body}));case"text":return u.pipe(U(function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body}));case"json":default:return u.pipe(U(function(t){return t.body}))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type ".concat(s.observe,"}"))}}},{key:"delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",t,e)}},{key:"get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",t,e)}},{key:"head",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",t,e)}},{key:"jsonp",value:function(t,e){return this.request("JSONP",t,{params:(new Pl).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",t,e)}},{key:"patch",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",t,zl(n,e))}},{key:"post",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",t,zl(n,e))}},{key:"put",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",t,zl(n,e))}}]),t}()).\u0275fac=function(t){return new(t||ql)(vi(Tl))},ql.\u0275prov=At({token:ql,factory:ql.\u0275fac}),ql),Jl=function(){function t(e,n){m(this,t),this.next=e,this.interceptor=n}return _(t,[{key:"handle",value:function(t){return this.interceptor.intercept(t,this.next)}}]),t}(),th=new ei("HTTP_INTERCEPTORS"),eh=((Ul=function(){function t(){m(this,t)}return _(t,[{key:"intercept",value:function(t,e){return e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ul)},Ul.\u0275prov=At({token:Ul,factory:Ul.\u0275fac}),Ul),nh=/^\)\]\}',?\n/,ih=_(function t(){m(this,t)}),rh=((Wl=function(){function t(){m(this,t)}return _(t,[{key:"build",value:function(){return new XMLHttpRequest}}]),t}()).\u0275fac=function(t){return new(t||Wl)},Wl.\u0275prov=At({token:Wl,factory:Wl.\u0275fac}),Wl),oh=((Kl=function(){function t(e){m(this,t),this.xhrFactory=e}return _(t,[{key:"handle",value:function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new N(function(n){var i=e.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach(function(t,e){return i.setRequestHeader(t,e.join(","))}),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var r=t.detectContentTypeHeader();null!==r&&i.setRequestHeader("Content-Type",r)}if(t.responseType){var o=t.responseType.toLowerCase();i.responseType="json"!==o?o:"text"}var s=t.serializeBody(),a=null,u=function(){if(null!==a)return a;var e=1223===i.status?204:i.status,n=i.statusText||"OK",r=new Al(i.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(i)||t.url;return a=new Vl({headers:r,status:e,statusText:n,url:o})},c=function(){var e=u(),r=e.headers,o=e.status,s=e.statusText,a=e.url,c=null;204!==o&&(c=void 0===i.response?i.responseText:i.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var h=c;c=c.replace(nh,"");try{c=""!==c?JSON.parse(c):null}catch(f){c=h,l&&(l=!1,c={error:f,text:c})}}l?(n.next(new Bl({body:c,headers:r,status:o,statusText:s,url:a||void 0})),n.complete()):n.error(new Hl({error:c,headers:r,status:o,statusText:s,url:a||void 0}))},l=function(t){var e=u().url,r=new Hl({error:t,status:i.status||0,statusText:i.statusText||"Unknown Error",url:e||void 0});n.error(r)},h=!1,f=function(e){h||(n.next(u()),h=!0);var r={type:Fl.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(r.total=e.total),"text"===t.responseType&&i.responseText&&(r.partialText=i.responseText),n.next(r)},d=function(t){var e={type:Fl.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return i.addEventListener("load",c),i.addEventListener("error",l),i.addEventListener("timeout",l),i.addEventListener("abort",l),t.reportProgress&&(i.addEventListener("progress",f),null!==s&&i.upload&&i.upload.addEventListener("progress",d)),i.send(s),n.next({type:Fl.Sent}),function(){i.removeEventListener("error",l),i.removeEventListener("abort",l),i.removeEventListener("load",c),i.removeEventListener("timeout",l),t.reportProgress&&(i.removeEventListener("progress",f),null!==s&&i.upload&&i.upload.removeEventListener("progress",d)),i.readyState!==i.DONE&&i.abort()}})}}]),t}()).\u0275fac=function(t){return new(t||Kl)(vi(ih))},Kl.\u0275prov=At({token:Kl,factory:Kl.\u0275fac}),Kl),sh=new ei("XSRF_COOKIE_NAME"),ah=new ei("XSRF_HEADER_NAME"),uh=_(function t(){m(this,t)}),ch=((Yl=function(){function t(e,n,i){m(this,t),this.doc=e,this.platform=n,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _(t,[{key:"getToken",value:function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wc(t,this.cookieName),this.lastCookieString=t),this.lastToken}}]),t}()).\u0275fac=function(t){return new(t||Yl)(vi(Xu),vi(au),vi(sh))},Yl.\u0275prov=At({token:Yl,factory:Yl.\u0275fac}),Yl),lh=((Xl=function(){function t(e,n){m(this,t),this.tokenService=e,this.headerName=n}return _(t,[{key:"intercept",value:function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var i=this.tokenService.getToken();return null===i||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,i)})),e.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Xl)(vi(uh),vi(ah))},Xl.\u0275prov=At({token:Xl,factory:Xl.\u0275fac}),Xl),hh=((Ql=function(){function t(e,n){m(this,t),this.backend=e,this.injector=n,this.chain=null}return _(t,[{key:"handle",value:function(t){if(null===this.chain){var e=this.injector.get(th,[]);this.chain=e.reduceRight(function(t,e){return new Jl(t,e)},this.backend)}return this.chain.handle(t)}}]),t}()).\u0275fac=function(t){return new(t||Ql)(vi(Ml),vi(To))},Ql.\u0275prov=At({token:Ql,factory:Ql.\u0275fac}),Ql),fh=((Zl=function(){function t(){m(this,t)}return _(t,null,[{key:"disable",value:function(){return{ngModule:t,providers:[{provide:lh,useClass:eh}]}}},{key:"withOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:t,providers:[e.cookieName?{provide:sh,useValue:e.cookieName}:[],e.headerName?{provide:ah,useValue:e.headerName}:[]]}}}]),t}()).\u0275fac=function(t){return new(t||Zl)},Zl.\u0275mod=he({type:Zl}),Zl.\u0275inj=Rt({providers:[lh,{provide:th,useExisting:lh,multi:!0},{provide:uh,useClass:ch},{provide:sh,useValue:"XSRF-TOKEN"},{provide:ah,useValue:"X-XSRF-TOKEN"}]}),Zl),dh=((Gl=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Gl)},Gl.\u0275mod=he({type:Gl}),Gl.\u0275inj=Rt({providers:[$l,{provide:Tl,useClass:hh},oh,{provide:Ml,useExisting:oh},rh,{provide:ih,useExisting:rh}],imports:[[fh.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),Gl);function ph(){}function vh(t,e,n){return function(i){return i.lift(new mh(t,e,n))}}var yh,mh=function(){function t(e,n,i){m(this,t),this.nextOrObserver=e,this.error=n,this.complete=i}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new gh(t,this.nextOrObserver,this.error,this.complete))}}]),t}(),gh=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t))._tapNext=ph,s._tapError=ph,s._tapComplete=ph,s._tapError=r||ph,s._tapComplete=o||ph,v(i)?(s._context=p(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||ph,s._tapError=i.error||ph,s._tapComplete=i.complete||ph),s}return _(n,[{key:"_next",value:function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}},{key:"_error",value:function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}]),n}(R),_h=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t,i)).scheduler=t,r.work=i,r.pending=!1,r}return _(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=t;var n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(i,this.id,e),this}},{key:"requestAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(t.flush.bind(t,this),n)}},{key:"recycleAsyncId",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}},{key:"execute",value:function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(t,e){var n,i=!1;try{this.work(t)}catch(r){i=!0,n=!!r&&r||new Error(r)}if(i)return this.unsubscribe(),n}},{key:"_unsubscribe",value:function(){var t=this.id,e=this.scheduler,n=e.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}]),n}(function(t){l(n,t);var e=f(n);function n(t,i){return m(this,n),e.call(this)}return _(n,[{key:"schedule",value:function(t){return this}}]),n}(T)),wh=((yh=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.now;m(this,t),this.SchedulerAction=e,this.now=n}return _(t,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,t).schedule(n,e)}}]),t}()).now=function(){return Date.now()},yh),kh=new(function(t){l(n,t);var e=f(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wh.now;return m(this,n),(i=e.call(this,t,function(){return n.delegate&&n.delegate!==p(i)?n.delegate.now():r()})).actions=[],i.active=!1,i.scheduled=void 0,i}return _(n,[{key:"schedule",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(t,e,i):u(y(n.prototype),"schedule",this).call(this,t,e,i)}},{key:"flush",value:function(t){var e=this.actions;if(this.active)e.push(t);else{var n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}}]),n}(wh))(_h),bh=function(){function t(e,n){m(this,t),this.dueTime=e,this.scheduler=n}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new Ch(t,this.dueTime,this.scheduler))}}]),t}(),Ch=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).dueTime=i,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return _(n,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Eh,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),n}(R);function Eh(t){t.debouncedNext()}var Sh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),xh=new N(function(t){return t.complete()});function Th(t){return t?function(t){return new N(function(e){return t.schedule(function(){return e.complete()})})}(t):xh}function Mh(t){return function(e){return 0===t?Th():e.lift(new Rh(t))}}var Ah,Rh=function(){function t(e){if(m(this,t),this.total=e,this.total<0)throw new Sh}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new Oh(t,this.total))}}]),t}(),Oh=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _(n,[{key:"_next",value:function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}]),n}(R);function Ph(t){return null!=t&&"false"!="".concat(t)}function Ih(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(t){return!isNaN(parseFloat(t))&&!isNaN(Number(t))}(t)?Number(t):e}function Dh(t){return Array.isArray(t)?t:[t]}function Nh(t){return null==t?"":"string"==typeof t?t:"".concat(t,"px")}function Lh(t){return t instanceof js?t.nativeElement:t}try{Ah="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(cE){Ah=!1}var Fh,jh,Vh,Bh,Hh,zh=((Hh=_(function t(e){m(this,t),this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Ah)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT})).\u0275fac=function(t){return new(t||Hh)(vi(au))},Hh.\u0275prov=At({factory:function(){return new Hh(vi(au))},token:Hh,providedIn:"root"}),Hh),qh=((Bh=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Bh)},Bh.\u0275mod=he({type:Bh}),Bh.\u0275inj=Rt({}),Bh);function Uh(t){return function(){if(null==Fh&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){return Fh=!0}}))}finally{Fh=Fh||!1}return Fh}()?t:!!t.capture}function Kh(t){if(function(){if(null==Vh){var t="undefined"!=typeof document?document.head:null;Vh=!(!t||!t.createShadowRoot&&!t.attachShadow)}return Vh}()){var e=t.getRootNode?t.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&e instanceof ShadowRoot)return e}return null}"undefined"!=typeof Element&&Element;var Wh,Gh=new ei("liveAnnouncerElement",{providedIn:"root",factory:function(){return null}}),Zh=new ei("LIVE_ANNOUNCER_DEFAULT_OPTIONS"),Qh=((Wh=function(){function t(e,n,i,r){m(this,t),this._ngZone=n,this._defaultOptions=r,this._document=i,this._liveElement=e||this._createLiveElement()}return _(t,[{key:"announce",value:function(t){for(var n,i,r,o=this,s=this._defaultOptions,a=arguments.length,u=new Array(a>1?a-1:0),c=1;c<a;c++)u[c-1]=arguments[c];return 1===u.length&&"number"==typeof u[0]?r=u[0]:(i=(n=e(u,2))[0],r=n[1]),this.clear(),clearTimeout(this._previousTimeout),i||(i=s&&s.politeness?s.politeness:"polite"),null==r&&s&&(r=s.duration),this._liveElement.setAttribute("aria-live",i),this._ngZone.runOutsideAngular(function(){return new Promise(function(e){clearTimeout(o._previousTimeout),o._previousTimeout=setTimeout(function(){o._liveElement.textContent=t,e(),"number"==typeof r&&(o._previousTimeout=setTimeout(function(){return o.clear()},r))},100)})})}},{key:"clear",value:function(){this._liveElement&&(this._liveElement.textContent="")}},{key:"ngOnDestroy",value:function(){clearTimeout(this._previousTimeout),this._liveElement&&this._liveElement.parentNode&&(this._liveElement.parentNode.removeChild(this._liveElement),this._liveElement=null)}},{key:"_createLiveElement",value:function(){for(var t=this._document.getElementsByClassName("cdk-live-announcer-element"),e=this._document.createElement("div"),n=0;n<t.length;n++)t[n].parentNode.removeChild(t[n]);return e.classList.add("cdk-live-announcer-element"),e.classList.add("cdk-visually-hidden"),e.setAttribute("aria-atomic","true"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),e}}]),t}()).\u0275fac=function(t){return new(t||Wh)(vi(Gh,8),vi(bu),vi(Xu),vi(Zh,8))},Wh.\u0275prov=At({factory:function(){return new Wh(vi(Gh,8),vi(bu),vi(Xu),vi(Zh,8))},token:Wh,providedIn:"root"}),Wh);function Xh(t){return 0===t.buttons}function Yh(t){var e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}var $h,Jh=new ei("cdk-focus-monitor-default-options"),tf=Uh({passive:!0,capture:!0}),ef=(($h=function(){function t(e,n,i,r){var o=this;m(this,t),this._ngZone=e,this._platform=n,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=function(){o._lastTouchTarget=null,o._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=function(t){if(!o._lastTouchTarget){var e=Xh(t)?"keyboard":"mouse";o._setOriginForCurrentEventQueue(e)}},this._documentTouchstartListener=function(t){Yh(t)?o._lastTouchTarget||o._setOriginForCurrentEventQueue("keyboard"):(null!=o._touchTimeoutId&&clearTimeout(o._touchTimeoutId),o._lastTouchTarget=nf(t),o._touchTimeoutId=setTimeout(function(){return o._lastTouchTarget=null},650))},this._windowFocusListener=function(){o._windowFocused=!0,o._windowFocusTimeoutId=setTimeout(function(){return o._windowFocused=!1})},this._rootNodeFocusAndBlurListener=function(t){for(var e=nf(t),n="focus"===t.type?o._onFocus:o._onBlur,i=e;i;i=i.parentElement)n.call(o,t,i)},this._document=i,this._detectionMode=(null==r?void 0:r.detectionMode)||0}return _(t,[{key:"monitor",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Lh(t);if(!this._platform.isBrowser||1!==n.nodeType)return Cl(null);var i=Kh(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return e&&(r.checkChildren=!0),r.subject;var o={checkChildren:e,subject:new H,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject}},{key:"stopMonitoring",value:function(t){var e=Lh(t),n=this._elementInfo.get(e);n&&(n.subject.complete(),this._setClasses(e),this._elementInfo.delete(e),this._removeGlobalListeners(n))}},{key:"focusVia",value:function(t,n,i){var r=this,o=Lh(t);o===this._getDocument().activeElement?this._getClosestElementsInfo(o).forEach(function(t){var i=e(t,2),o=i[0],s=i[1];return r._originChanged(o,n,s)}):(this._setOriginForCurrentEventQueue(n),"function"==typeof o.focus&&o.focus(i))}},{key:"ngOnDestroy",value:function(){var t=this;this._elementInfo.forEach(function(e,n){return t.stopMonitoring(n)})}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_toggleClass",value:function(t,e,n){n?t.classList.add(e):t.classList.remove(e)}},{key:"_getFocusOrigin",value:function(t){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(t)?"touch":"program"}},{key:"_setClasses",value:function(t,e){this._toggleClass(t,"cdk-focused",!!e),this._toggleClass(t,"cdk-touch-focused","touch"===e),this._toggleClass(t,"cdk-keyboard-focused","keyboard"===e),this._toggleClass(t,"cdk-mouse-focused","mouse"===e),this._toggleClass(t,"cdk-program-focused","program"===e)}},{key:"_setOriginForCurrentEventQueue",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){e._origin=t,0===e._detectionMode&&(e._originTimeoutId=setTimeout(function(){return e._origin=null},1))})}},{key:"_wasCausedByTouch",value:function(t){var e=nf(t);return this._lastTouchTarget instanceof Node&&e instanceof Node&&(e===this._lastTouchTarget||e.contains(this._lastTouchTarget))}},{key:"_onFocus",value:function(t,e){var n=this._elementInfo.get(e);n&&(n.checkChildren||e===nf(t))&&this._originChanged(e,this._getFocusOrigin(t),n)}},{key:"_onBlur",value:function(t,e){var n=this._elementInfo.get(e);!n||n.checkChildren&&t.relatedTarget instanceof Node&&e.contains(t.relatedTarget)||(this._setClasses(e),this._emitOrigin(n.subject,null))}},{key:"_emitOrigin",value:function(t,e){this._ngZone.run(function(){return t.next(e)})}},{key:"_registerGlobalListeners",value:function(t){var e=this;if(this._platform.isBrowser){var n=t.rootNode,i=this._rootNodeFocusListenerCount.get(n)||0;i||this._ngZone.runOutsideAngular(function(){n.addEventListener("focus",e._rootNodeFocusAndBlurListener,tf),n.addEventListener("blur",e._rootNodeFocusAndBlurListener,tf)}),this._rootNodeFocusListenerCount.set(n,i+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(function(){var t=e._getDocument(),n=e._getWindow();t.addEventListener("keydown",e._documentKeydownListener,tf),t.addEventListener("mousedown",e._documentMousedownListener,tf),t.addEventListener("touchstart",e._documentTouchstartListener,tf),n.addEventListener("focus",e._windowFocusListener)})}}},{key:"_removeGlobalListeners",value:function(t){var e=t.rootNode;if(this._rootNodeFocusListenerCount.has(e)){var n=this._rootNodeFocusListenerCount.get(e);n>1?this._rootNodeFocusListenerCount.set(e,n-1):(e.removeEventListener("focus",this._rootNodeFocusAndBlurListener,tf),e.removeEventListener("blur",this._rootNodeFocusAndBlurListener,tf),this._rootNodeFocusListenerCount.delete(e))}if(!--this._monitoredElementCount){var i=this._getDocument(),r=this._getWindow();i.removeEventListener("keydown",this._documentKeydownListener,tf),i.removeEventListener("mousedown",this._documentMousedownListener,tf),i.removeEventListener("touchstart",this._documentTouchstartListener,tf),r.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}},{key:"_originChanged",value:function(t,e,n){this._setClasses(t,e),this._emitOrigin(n.subject,e),this._lastFocusOrigin=e}},{key:"_getClosestElementsInfo",value:function(t){var e=[];return this._elementInfo.forEach(function(n,i){(i===t||n.checkChildren&&i.contains(t))&&e.push([i,n])}),e}}]),t}()).\u0275fac=function(t){return new(t||$h)(vi(bu),vi(zh),vi(Xu,8),vi(Jh,8))},$h.\u0275prov=At({factory:function(){return new $h(vi(bu),vi(zh),vi(Xu,8),vi(Jh,8))},token:$h,providedIn:"root"}),$h);function nf(t){return t.composedPath?t.composedPath()[0]:t.target}var rf,of,sf,af=((rf=function(){function t(e,n){m(this,t),this._platform=e,this._document=n}return _(t,[{key:"getHighContrastMode",value:function(){if(!this._platform.isBrowser)return 0;var t=this._document.createElement("div");t.style.backgroundColor="rgb(1,2,3)",t.style.position="absolute",this._document.body.appendChild(t);var e=this._document.defaultView||window,n=e&&e.getComputedStyle?e.getComputedStyle(t):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(t),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}},{key:"_applyBodyHighContrastModeCssClasses",value:function(){if(this._platform.isBrowser&&this._document.body){var t=this._document.body.classList;t.remove("cdk-high-contrast-active"),t.remove("cdk-high-contrast-black-on-white"),t.remove("cdk-high-contrast-white-on-black");var e=this.getHighContrastMode();1===e?(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-black-on-white")):2===e&&(t.add("cdk-high-contrast-active"),t.add("cdk-high-contrast-white-on-black"))}}}]),t}()).\u0275fac=function(t){return new(t||rf)(vi(zh),vi(Xu))},rf.\u0275prov=At({factory:function(){return new rf(vi(zh),vi(Xu))},token:rf,providedIn:"root"}),rf),uf=new ei("cdk-dir-doc",{providedIn:"root",factory:function(){return yi(Xu)}}),cf=((sf=function(){function t(e){if(m(this,t),this.value="ltr",this.change=new ja,e){var n=e.documentElement?e.documentElement.dir:null,i=(e.body?e.body.dir:null)||n;this.value="ltr"===i||"rtl"===i?i:"ltr"}}return _(t,[{key:"ngOnDestroy",value:function(){this.change.complete()}}]),t}()).\u0275fac=function(t){return new(t||sf)(vi(uf,8))},sf.\u0275prov=At({factory:function(){return new sf(vi(uf,8))},token:sf,providedIn:"root"}),sf),lf=((of=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||of)},of.\u0275mod=he({type:of}),of.\u0275inj=Rt({}),of),hf=new Us("11.2.13");function ff(){return st(1)(Cl.apply(void 0,arguments))}function df(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=e[e.length-1];return q(i)?(e.pop(),function(t){return ff(e,t,i)}):function(t){return ff(e,t)}}var pf=_(function t(){m(this,t)});function vf(t,e){return{type:7,name:t,definitions:e,options:{}}}function yf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:4,styles:e,timings:t}}function mf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:3,steps:t,options:e}}function gf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:t,options:e}}function _f(t){return{type:6,styles:t,offset:null}}function wf(t,e,n){return{type:0,name:t,styles:e,options:n}}function kf(t){return{type:5,steps:t}}function bf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:1,expr:t,animation:e,options:n}}function Cf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:8,animation:t,options:e}}function Ef(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return{type:9,options:t}}function Sf(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:10,animation:t,options:e}}function xf(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:11,selector:t,animation:e,options:n}}function Tf(t){Promise.resolve(null).then(t)}var Mf=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+n}return _(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var t=this;Tf(function(){return t._onFinish()})}},{key:"_onStart",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(t){this._position=this.totalTime?t*this.totalTime:1}},{key:"getPosition",value:function(){return this.totalTime?this._position/this.totalTime:1}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Af=function(){function t(e){var n=this;m(this,t),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;var i=0,r=0,o=0,s=this.players.length;0==s?Tf(function(){return n._onFinish()}):this.players.forEach(function(t){t.onDone(function(){++i==s&&n._onFinish()}),t.onDestroy(function(){++r==s&&n._onDestroy()}),t.onStart(function(){++o==s&&n._onStart()})}),this.totalTime=this.players.reduce(function(t,e){return Math.max(t,e.totalTime)},0)}return _(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach(function(t){return t.init()})}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[])}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(function(t){return t.play()})}},{key:"pause",value:function(){this.players.forEach(function(t){return t.pause()})}},{key:"restart",value:function(){this.players.forEach(function(t){return t.restart()})}},{key:"finish",value:function(){this._onFinish(),this.players.forEach(function(t){return t.finish()})}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(function(t){return t.destroy()}),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach(function(t){return t.reset()}),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(t){var e=t*this.totalTime;this.players.forEach(function(t){var n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}},{key:"getPosition",value:function(){var t=this.players.reduce(function(t,e){return null===t||e.totalTime>t.totalTime?e:t},null);return null!=t?t.getPosition():0}},{key:"beforeDestroy",value:function(){this.players.forEach(function(t){t.beforeDestroy&&t.beforeDestroy()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}();function Rf(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Of(t){switch(t.length){case 0:return new Mf;case 1:return t[0];default:return new Af(t)}}function Pf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=[],a=[],u=-1,c=null;if(i.forEach(function(t){var n=t.offset,i=n==u,l=i&&c||{};Object.keys(t).forEach(function(n){var i=n,a=t[n];if("offset"!==n)switch(i=e.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=e.normalizeStyleValue(n,i,a,s)}l[i]=a}),i||a.push(l),c=l,u=n}),s.length){var l="\n - ";throw new Error("Unable to animate due to the following errors:".concat(l).concat(s.join(l)))}return a}function If(t,e,n,i){switch(e){case"start":t.onStart(function(){return i(n&&Df(n,"start",t))});break;case"done":t.onDone(function(){return i(n&&Df(n,"done",t))});break;case"destroy":t.onDestroy(function(){return i(n&&Df(n,"destroy",t))})}}function Df(t,e,n){var i=n.totalTime,r=Nf(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==i?t.totalTime:i,!!n.disabled),o=t._data;return null!=o&&(r._data=o),r}function Nf(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,s=arguments.length>6?arguments[6]:void 0;return{element:t,triggerName:e,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Lf(t,e,n){var i;return t instanceof Map?(i=t.get(e))||t.set(e,i=n):(i=t[e])||(i=t[e]=n),i}function Ff(t){var e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}var jf=function(t,e){return!1},Vf=function(t,e){return!1},Bf=function(t,e,n){return[]},Hf=Rf();(Hf||"undefined"!=typeof Element)&&(jf=function(t,e){return t.contains(e)},Vf=function(){if(Hf||Element.prototype.matches)return function(t,e){return t.matches(e)};var t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?function(t,n){return e.apply(t,[n])}:Vf}(),Bf=function(t,e,n){var i=[];if(n)for(var r=t.querySelectorAll(e),o=0;o<r.length;o++)i.push(r[o]);else{var s=t.querySelector(e);s&&i.push(s)}return i});var zf=null,qf=!1;function Uf(t){zf||(zf=("undefined"!=typeof document?document.body:null)||{},qf=!!zf.style&&"WebkitAppearance"in zf.style);var e=!0;return zf.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(!(e=t in zf.style)&&qf)&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in zf.style),e}var Kf=Vf,Wf=jf,Gf=Bf;function Zf(t){var e={};return Object.keys(t).forEach(function(n){var i=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[i]=t[n]}),e}var Qf,Xf=((Qf=function(){function t(){m(this,t)}return _(t,[{key:"validateStyleProperty",value:function(t){return Uf(t)}},{key:"matchesElement",value:function(t,e){return Kf(t,e)}},{key:"containsElement",value:function(t,e){return Wf(t,e)}},{key:"query",value:function(t,e,n){return Gf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return n||""}},{key:"animate",value:function(t,e,n,i,r){return new Mf(n,i)}}]),t}()).\u0275fac=function(t){return new(t||Qf)},Qf.\u0275prov=At({token:Qf,factory:Qf.\u0275fac}),Qf),Yf=function(){var t=_(function t(){m(this,t)});return t.NOOP=new Xf,t}();function $f(t){if("number"==typeof t)return t;var e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:Jf(parseFloat(e[1]),e[2])}function Jf(t,e){switch(e){case"s":return 1e3*t;default:return t}}function td(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){var i,r=0,o="";if("string"==typeof t){var s=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===s)return e.push('The provided timing value "'.concat(t,'" is invalid.')),{duration:0,delay:0,easing:""};i=Jf(parseFloat(s[1]),s[2]);var a=s[3];null!=a&&(r=Jf(parseFloat(a),s[4]));var u=s[5];u&&(o=u)}else i=t;if(!n){var c=!1,l=e.length;i<0&&(e.push("Duration values below 0 are not allowed for this animation step."),c=!0),r<0&&(e.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&e.splice(l,0,'The provided timing value "'.concat(t,'" is invalid.'))}return{duration:i,delay:r,easing:o}}(t,e,n)}function ed(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).forEach(function(n){e[n]=t[n]}),e}function nd(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e)for(var i in t)n[i]=t[i];else ed(t,n);return n}function id(t,e,n){return n?e+":"+n+";":""}function rd(t){for(var e="",n=0;n<t.style.length;n++){var i=t.style.item(n);e+=id(0,i,t.style.getPropertyValue(i))}for(var r in t.style)t.style.hasOwnProperty(r)&&!r.startsWith("_")&&(e+=id(0,r.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),t.style[r]));t.setAttribute("style",e)}function od(t,e,n){t.style&&(Object.keys(e).forEach(function(i){var r=dd(i);n&&!n.hasOwnProperty(i)&&(n[i]=t.style[r]),t.style[r]=e[i]}),Rf()&&rd(t))}function sd(t,e){t.style&&(Object.keys(e).forEach(function(e){var n=dd(e);t.style[n]=""}),Rf()&&rd(t))}function ad(t){return Array.isArray(t)?1==t.length?t[0]:gf(t):t}var ud=new RegExp("{{\\s*(.+?)\\s*}}","g");function cd(t){var e=[];if("string"==typeof t){for(var n;n=ud.exec(t);)e.push(n[1]);ud.lastIndex=0}return e}function ld(t,e,n){var i=t.toString(),r=i.replace(ud,function(t,i){var r=e[i];return e.hasOwnProperty(i)||(n.push("Please provide a value for the animation param ".concat(i)),r=""),r.toString()});return r==i?t:r}function hd(t){for(var e=[],n=t.next();!n.done;)e.push(n.value),n=t.next();return e}var fd=/-+([a-z0-9])/g;function dd(t){return t.replace(fd,function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e[1].toUpperCase()})}function pd(t,e){return 0===t||0===e}function vd(t,e,n){var i=Object.keys(n);if(i.length&&e.length){var r=e[0],o=[];if(i.forEach(function(t){r.hasOwnProperty(t)||o.push(t),r[t]=n[t]}),o.length)for(var s=function(){var n=e[a];o.forEach(function(e){n[e]=md(t,e)})},a=1;a<e.length;a++)s()}return e}function yd(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error("Unable to resolve animation metadata node #".concat(e.type))}}function md(t,e){return window.getComputedStyle(t)[e]}var gd=new Set(["true","1"]),_d=new Set(["false","0"]);function wd(t,e){var n=gd.has(t)||_d.has(t),i=gd.has(e)||_d.has(e);return function(r,o){var s="*"==t||t==r,a="*"==e||e==o;return!s&&n&&"boolean"==typeof r&&(s=r?gd.has(t):_d.has(t)),!a&&i&&"boolean"==typeof o&&(a=o?gd.has(e):_d.has(e)),s&&a}}var kd=new RegExp("s*:selfs*,?","g");function bd(t,e,n){return new Cd(t).build(e,n)}var Cd=function(){function t(e){m(this,t),this._driver=e}return _(t,[{key:"build",value:function(t,e){var n=new Ed(e);return this._resetContextStyleTimingState(n),yd(this,ad(t),n)}},{key:"_resetContextStyleTimingState",value:function(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}},{key:"visitTrigger",value:function(t,e){var n=this,i=e.queryCount=0,r=e.depCount=0,o=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(function(t){if(n._resetContextStyleTimingState(e),0==t.type){var a=t,u=a.name;u.toString().split(/\s*,\s*/).forEach(function(t){a.name=t,o.push(n.visitState(a,e))}),a.name=u}else if(1==t.type){var c=n.visitTransition(t,e);i+=c.queryCount,r+=c.depCount,s.push(c)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:o,transitions:s,queryCount:i,depCount:r,options:null}}},{key:"visitState",value:function(t,e){var n=this.visitStyle(t.styles,e),i=t.options&&t.options.params||null;if(n.containsDynamicStyles){var r=new Set,o=i||{};if(n.styles.forEach(function(t){if(Sd(t)){var e=t;Object.keys(e).forEach(function(t){cd(e[t]).forEach(function(t){o.hasOwnProperty(t)||r.add(t)})})}}),r.size){var s=hd(r.values());e.errors.push('state("'.concat(t.name,'", ...) must define default values for all the following style substitutions: ').concat(s.join(", ")))}}return{type:0,name:t.name,style:n,options:i?{params:i}:null}}},{key:"visitTransition",value:function(t,e){e.queryCount=0,e.depCount=0;var n,i,r,o=yd(this,ad(t.animation),e);return{type:1,matchers:(n=t.expr,i=e.errors,r=[],"string"==typeof n?n.split(/\s*,\s*/).forEach(function(t){return function(t,e,n){if(":"==t[0]){var i=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(t,e){return parseFloat(e)>parseFloat(t)};case":decrement":return function(t,e){return parseFloat(e)<parseFloat(t)};default:return e.push('The transition alias value "'.concat(t,'" is not supported')),"* => *"}}(t,n);if("function"==typeof i)return void e.push(i);t=i}var r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push('The provided transition expression "'.concat(t,'" is not supported')),e;var o=r[1],s=r[2],a=r[3];e.push(wd(o,a)),"<"!=s[0]||"*"==o&&"*"==a||e.push(wd(a,o))}(t,r,i)}):r.push(n),r),animation:o,queryCount:e.queryCount,depCount:e.depCount,options:xd(t.options)}}},{key:"visitSequence",value:function(t,e){var n=this;return{type:2,steps:t.steps.map(function(t){return yd(n,t,e)}),options:xd(t.options)}}},{key:"visitGroup",value:function(t,e){var n=this,i=e.currentTime,r=0,o=t.steps.map(function(t){e.currentTime=i;var o=yd(n,t,e);return r=Math.max(r,e.currentTime),o});return e.currentTime=r,{type:3,steps:o,options:xd(t.options)}}},{key:"visitAnimate",value:function(t,e){var n,i=function(t,e){var n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return Td(td(t,e).duration,0,"");var i=t;if(i.split(/\s+/).some(function(t){return"{"==t.charAt(0)&&"{"==t.charAt(1)})){var r=Td(0,0,"");return r.dynamic=!0,r.strValue=i,r}return Td((n=n||td(i,e)).duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=i;var r=t.styles?t.styles:_f({});if(5==r.type)n=this.visitKeyframes(r,e);else{var o=t.styles,s=!1;if(!o){s=!0;var a={};i.easing&&(a.easing=i.easing),o=_f(a)}e.currentTime+=i.duration+i.delay;var u=this.visitStyle(o,e);u.isEmptyStep=s,n=u}return e.currentAnimateTimings=null,{type:4,timings:i,style:n,options:null}}},{key:"visitStyle",value:function(t,e){var n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}},{key:"_makeStyleAst",value:function(t,e){var n=[];Array.isArray(t.styles)?t.styles.forEach(function(t){"string"==typeof t?"*"==t?n.push(t):e.errors.push("The provided style string value ".concat(t," is not allowed.")):n.push(t)}):n.push(t.styles);var i=!1,r=null;return n.forEach(function(t){if(Sd(t)){var e=t,n=e.easing;if(n&&(r=n,delete e.easing),!i)for(var o in e)if(e[o].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:t.offset,containsDynamicStyles:i,options:null}}},{key:"_validateStyleAst",value:function(t,e){var n=this,i=e.currentAnimateTimings,r=e.currentTime,o=e.currentTime;i&&o>0&&(o-=i.duration+i.delay),t.styles.forEach(function(t){"string"!=typeof t&&Object.keys(t).forEach(function(i){if(n._driver.validateStyleProperty(i)){var s,a,u,c,l,h=e.collectedStyles[e.currentQuerySelector],f=h[i],d=!0;f&&(o!=r&&o>=f.startTime&&r<=f.endTime&&(e.errors.push('The CSS property "'.concat(i,'" that exists between the times of "').concat(f.startTime,'ms" and "').concat(f.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(o,'ms" and "').concat(r,'ms"')),d=!1),o=f.startTime),d&&(h[i]={startTime:o,endTime:r}),e.options&&(s=t[i],a=e.options,u=e.errors,c=a.params||{},(l=cd(s)).length&&l.forEach(function(t){c.hasOwnProperty(t)||u.push("Unable to resolve the local animation param ".concat(t," in the given list of values"))}))}else e.errors.push('The provided animation property "'.concat(i,'" is not a supported CSS property for animations'))})})}},{key:"visitKeyframes",value:function(t,e){var n=this,i={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),i;var r=0,o=[],s=!1,a=!1,u=0,c=t.steps.map(function(t){var i=n._makeStyleAst(t,e),c=null!=i.offset?i.offset:function(t){if("string"==typeof t)return null;var e=null;if(Array.isArray(t))t.forEach(function(t){if(Sd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}});else if(Sd(t)&&t.hasOwnProperty("offset")){var n=t;e=parseFloat(n.offset),delete n.offset}return e}(i.styles),l=0;return null!=c&&(r++,l=i.offset=c),a=a||l<0||l>1,s=s||l<u,u=l,o.push(l),i});a&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");var l=t.steps.length,h=0;r>0&&r<l?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(h=1/(l-1));var f=l-1,d=e.currentTime,p=e.currentAnimateTimings,v=p.duration;return c.forEach(function(t,r){var s=h>0?r==f?1:h*r:o[r],a=s*v;e.currentTime=d+p.delay+a,p.duration=a,n._validateStyleAst(t,e),t.offset=s,i.styles.push(t)}),i}},{key:"visitReference",value:function(t,e){return{type:8,animation:yd(this,ad(t.animation),e),options:xd(t.options)}}},{key:"visitAnimateChild",value:function(t,e){return e.depCount++,{type:9,options:xd(t.options)}}},{key:"visitAnimateRef",value:function(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:xd(t.options)}}},{key:"visitQuery",value:function(t,n){var i=n.currentQuerySelector,r=t.options||{};n.queryCount++,n.currentQuery=t;var o=e(function(t){var e=!!t.split(/\s*,\s*/).find(function(t){return":self"==t});return e&&(t=t.replace(kd,"")),[t=t.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,function(t){return".ng-trigger-"+t.substr(1)}).replace(/:animating/g,".ng-animating"),e]}(t.selector),2),s=o[0],a=o[1];n.currentQuerySelector=i.length?i+" "+s:s,Lf(n.collectedStyles,n.currentQuerySelector,{});var u=yd(this,ad(t.animation),n);return n.currentQuery=null,n.currentQuerySelector=i,{type:11,selector:s,limit:r.limit||0,optional:!!r.optional,includeSelf:a,animation:u,originalSelector:t.selector,options:xd(t.options)}}},{key:"visitStagger",value:function(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");var n="full"===t.timings?{duration:0,delay:0,easing:"full"}:td(t.timings,e.errors,!0);return{type:12,animation:yd(this,ad(t.animation),e),timings:n,options:null}}}]),t}(),Ed=_(function t(e){m(this,t),this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null});function Sd(t){return!Array.isArray(t)&&"object"==typeof t}function xd(t){var e;return t?(t=ed(t)).params&&(t.params=(e=t.params)?ed(e):null):t={},t}function Td(t,e,n){return{duration:t,delay:e,easing:n}}function Md(t,e,n,i,r,o){var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}var Ad=function(){function t(){m(this,t),this._map=new Map}return _(t,[{key:"consume",value:function(t){var e=this._map.get(t);return e?this._map.delete(t):e=[],e}},{key:"append",value:function(t,e){var n,r=this._map.get(t);r||this._map.set(t,r=[]),(n=r).push.apply(n,i(e))}},{key:"has",value:function(t){return this._map.has(t)}},{key:"clear",value:function(){this._map.clear()}}]),t}(),Rd=new RegExp(":enter","g"),Od=new RegExp(":leave","g");function Pd(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},a=arguments.length>7?arguments[7]:void 0,u=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new Id).buildKeyframes(t,e,n,i,r,o,s,a,u,c)}var Id=function(){function t(){m(this,t)}return _(t,[{key:"buildKeyframes",value:function(t,e,n,i,r,o,s,a,u){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];u=u||new Ad;var l=new Nd(t,e,u,i,r,c,[]);l.options=a,l.currentTimeline.setStyles([o],null,l.errors,a),yd(this,n,l);var h=l.timelines.filter(function(t){return t.containsAnimation()});if(h.length&&Object.keys(s).length){var f=h[h.length-1];f.allowOnlyTimelineStyles()||f.setStyles([s],null,l.errors,a)}return h.length?h.map(function(t){return t.buildKeyframes()}):[Md(e,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(t,e){}},{key:"visitState",value:function(t,e){}},{key:"visitTransition",value:function(t,e){}},{key:"visitAnimateChild",value:function(t,e){var n=e.subInstructions.consume(e.element);if(n){var i=e.createSubContext(t.options),r=e.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&e.transformIntoNewTimeline(o)}e.previousNode=t}},{key:"visitAnimateRef",value:function(t,e){var n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}},{key:"_visitSubInstructions",value:function(t,e,n){var i=e.currentTimeline.currentTime,r=null!=n.duration?$f(n.duration):null,o=null!=n.delay?$f(n.delay):null;return 0!==r&&t.forEach(function(t){var n=e.appendInstructionToTimeline(t,r,o);i=Math.max(i,n.duration+n.delay)}),i}},{key:"visitReference",value:function(t,e){e.updateOptions(t.options,!0),yd(this,t.animation,e),e.previousNode=t}},{key:"visitSequence",value:function(t,e){var n=this,i=e.subContextCount,r=e,o=t.options;if(o&&(o.params||o.delay)&&((r=e.createSubContext(o)).transformIntoNewTimeline(),null!=o.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=Dd);var s=$f(o.delay);r.delayNextStep(s)}t.steps.length&&(t.steps.forEach(function(t){return yd(n,t,r)}),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>i&&r.transformIntoNewTimeline()),e.previousNode=t}},{key:"visitGroup",value:function(t,e){var n=this,i=[],r=e.currentTimeline.currentTime,o=t.options&&t.options.delay?$f(t.options.delay):0;t.steps.forEach(function(s){var a=e.createSubContext(t.options);o&&a.delayNextStep(o),yd(n,s,a),r=Math.max(r,a.currentTimeline.currentTime),i.push(a.currentTimeline)}),i.forEach(function(t){return e.currentTimeline.mergeTimelineCollectedStyles(t)}),e.transformIntoNewTimeline(r),e.previousNode=t}},{key:"_visitTiming",value:function(t,e){if(t.dynamic){var n=t.strValue;return td(e.params?ld(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}},{key:"visitAnimate",value:function(t,e){var n=e.currentAnimateTimings=this._visitTiming(t.timings,e),i=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),i.snapshotCurrentStyles());var r=t.style;5==r.type?this.visitKeyframes(r,e):(e.incrementTime(n.duration),this.visitStyle(r,e),i.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}},{key:"visitStyle",value:function(t,e){var n=e.currentTimeline,i=e.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();var r=i&&i.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(r):n.setStyles(t.styles,r,e.errors,e.options),e.previousNode=t}},{key:"visitKeyframes",value:function(t,e){var n=e.currentAnimateTimings,i=e.currentTimeline.duration,r=n.duration,o=e.createSubContext().currentTimeline;o.easing=n.easing,t.styles.forEach(function(t){o.forwardTime((t.offset||0)*r),o.setStyles(t.styles,t.easing,e.errors,e.options),o.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(o),e.transformIntoNewTimeline(i+r),e.previousNode=t}},{key:"visitQuery",value:function(t,e){var n=this,i=e.currentTimeline.currentTime,r=t.options||{},o=r.delay?$f(r.delay):0;o&&(6===e.previousNode.type||0==i&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Dd);var s=i,a=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=a.length;var u=null;a.forEach(function(i,r){e.currentQueryIndex=r;var a=e.createSubContext(t.options,i);o&&a.delayNextStep(o),i===e.element&&(u=a.currentTimeline),yd(n,t.animation,a),a.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,a.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),u&&(e.currentTimeline.mergeTimelineCollectedStyles(u),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}},{key:"visitStagger",value:function(t,e){var n=e.parentContext,i=e.currentTimeline,r=t.timings,o=Math.abs(r.duration),s=o*(e.currentQueryTotal-1),a=o*e.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}var u=e.currentTimeline;a&&u.delayNextStep(a);var c=u.currentTime;yd(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}]),t}(),Dd={},Nd=function(){function t(e,n,i,r,o,s,a,u){m(this,t),this._driver=e,this.element=n,this.subInstructions=i,this._enterClassName=r,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Dd,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=u||new Ld(this._driver,n,0),a.push(this.currentTimeline)}return _(t,[{key:"params",get:function(){return this.options.params}},{key:"updateOptions",value:function(t,e){var n=this;if(t){var i=t,r=this.options;null!=i.duration&&(r.duration=$f(i.duration)),null!=i.delay&&(r.delay=$f(i.delay));var o=i.params;if(o){var s=r.params;s||(s=this.options.params={}),Object.keys(o).forEach(function(t){e&&s.hasOwnProperty(t)||(s[t]=ld(o[t],s,n.errors))})}}}},{key:"_copyOptions",value:function(){var t={};if(this.options){var e=this.options.params;if(e){var n=t.params={};Object.keys(e).forEach(function(t){n[t]=e[t]})}}return t}},{key:"createSubContext",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,i=arguments.length>2?arguments[2]:void 0,r=n||this.element,o=new t(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,i||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}},{key:"transformIntoNewTimeline",value:function(t){return this.previousNode=Dd,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(t,e,n){var i={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},r=new Fd(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,i,t.stretchStartingKeyframe);return this.timelines.push(r),i}},{key:"incrementTime",value:function(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}},{key:"delayNextStep",value:function(t){t>0&&this.currentTimeline.delayNextStep(t)}},{key:"invokeQuery",value:function(t,e,n,r,o,s){var a=[];if(r&&a.push(this.element),t.length>0){t=(t=t.replace(Rd,"."+this._enterClassName)).replace(Od,"."+this._leaveClassName);var u=this._driver.query(this.element,t,1!=n);0!==n&&(u=n<0?u.slice(u.length+n,u.length):u.slice(0,n)),a.push.apply(a,i(u))}return o||0!=a.length||s.push('`query("'.concat(e,'")` returned zero elements. (Use `query("').concat(e,'", { optional: true })` if you wish to allow this.)')),a}}]),t}(),Ld=function(){function t(e,n,i,r){m(this,t),this._driver=e,this.element=n,this.startTime=i,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _(t,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"delayNextStep",value:function(t){var e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}},{key:"fork",value:function(e,n){return this.applyStylesToKeyframe(),new t(this._driver,e,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}},{key:"_updateStyle",value:function(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(t){var e=this;t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(function(t){e._backFill[t]=e._globalTimelineStyles[t]||"*",e._currentKeyframe[t]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(t,e,n,i){var r=this;e&&(this._previousKeyframe.easing=e);var o=i&&i.params||{},s=function(t,e){var n,i={};return t.forEach(function(t){"*"===t?(n=n||Object.keys(e)).forEach(function(t){i[t]="*"}):nd(t,!1,i)}),i}(t,this._globalTimelineStyles);Object.keys(s).forEach(function(t){var e=ld(s[t],o,n);r._pendingStyles[t]=e,r._localTimelineStyles.hasOwnProperty(t)||(r._backFill[t]=r._globalTimelineStyles.hasOwnProperty(t)?r._globalTimelineStyles[t]:"*"),r._updateStyle(t,e)})}},{key:"applyStylesToKeyframe",value:function(){var t=this,e=this._pendingStyles,n=Object.keys(e);0!=n.length&&(this._pendingStyles={},n.forEach(function(n){t._currentKeyframe[n]=e[n]}),Object.keys(this._localTimelineStyles).forEach(function(e){t._currentKeyframe.hasOwnProperty(e)||(t._currentKeyframe[e]=t._localTimelineStyles[e])}))}},{key:"snapshotCurrentStyles",value:function(){var t=this;Object.keys(this._localTimelineStyles).forEach(function(e){var n=t._localTimelineStyles[e];t._pendingStyles[e]=n,t._updateStyle(e,n)})}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"properties",get:function(){var t=[];for(var e in this._currentKeyframe)t.push(e);return t}},{key:"mergeTimelineCollectedStyles",value:function(t){var e=this;Object.keys(t._styleSummary).forEach(function(n){var i=e._styleSummary[n],r=t._styleSummary[n];(!i||r.time>i.time)&&e._updateStyle(n,r.value)})}},{key:"buildKeyframes",value:function(){var t=this;this.applyStylesToKeyframe();var e=new Set,n=new Set,i=1===this._keyframes.size&&0===this.duration,r=[];this._keyframes.forEach(function(o,s){var a=nd(o,!0);Object.keys(a).forEach(function(t){var i=a[t];"!"==i?e.add(t):"*"==i&&n.add(t)}),i||(a.offset=s/t.duration),r.push(a)});var o=e.size?hd(e.values()):[],s=n.size?hd(n.values()):[];if(i){var a=r[0],u=ed(a);a.offset=0,u.offset=1,r=[a,u]}return Md(this.element,r,o,s,this.duration,this.startTime,this.easing,!1)}}]),t}(),Fd=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s,a){var u,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return m(this,n),(u=e.call(this,t,i,a.delay)).element=i,u.keyframes=r,u.preStyleProps=o,u.postStyleProps=s,u._stretchStartingKeyframe=c,u.timings={duration:a.duration,delay:a.delay,easing:a.easing},u}return _(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var t=this.keyframes,e=this.timings,n=e.delay,i=e.duration,r=e.easing;if(this._stretchStartingKeyframe&&n){var o=[],s=i+n,a=n/s,u=nd(t[0],!1);u.offset=0,o.push(u);var c=nd(t[0],!1);c.offset=jd(a),o.push(c);for(var l=t.length-1,h=1;h<=l;h++){var f=nd(t[h],!1);f.offset=jd((n+f.offset*i)/s),o.push(f)}i=s,n=0,r="",t=o}return Md(this.element,t,this.preStyleProps,this.postStyleProps,i,n,r,!0)}}]),n}(Ld);function jd(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,e-1);return Math.round(t*n)/n}var Vd=_(function t(){m(this,t)}),Bd=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"normalizePropertyName",value:function(t,e){return dd(t)}},{key:"normalizeStyleValue",value:function(t,e,n,i){var r="",o=n.toString().trim();if(Hd[e]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{var s=n.match(/^[+-]?[\d\.]+([a-z]*)$/);s&&0==s[1].length&&i.push("Please provide a CSS unit value for ".concat(t,":").concat(n))}return o+r}}]),n}(Vd),Hd=function(t){var e={};return t.forEach(function(t){return e[t]=!0}),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function zd(t,e,n,i,r,o,s,a,u,c,l,h,f){return{type:0,element:t,triggerName:e,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:f}}var qd={},Ud=function(){function t(e,n,i){m(this,t),this._triggerName=e,this.ast=n,this._stateStyles=i}return _(t,[{key:"match",value:function(t,e,n,i){return function(t,e,n,i,r){return t.some(function(t){return t(e,n,i,r)})}(this.ast.matchers,t,e,n,i)}},{key:"buildStyles",value:function(t,e,n){var i=this._stateStyles["*"],r=this._stateStyles[t],o=i?i.buildStyles(e,n):{};return r?r.buildStyles(e,n):o}},{key:"build",value:function(t,e,n,i,r,o,s,a,u,c){var l=[],h=this.ast.options&&this.ast.options.params||qd,f=this.buildStyles(n,s&&s.params||qd,l),d=a&&a.params||qd,p=this.buildStyles(i,d,l),v=new Set,y=new Map,m=new Map,g="void"===i,_={params:Object.assign(Object.assign({},h),d)},w=c?[]:Pd(t,e,this.ast.animation,r,o,f,p,_,u,l),k=0;if(w.forEach(function(t){k=Math.max(t.duration+t.delay,k)}),l.length)return zd(e,this._triggerName,n,i,g,f,p,[],[],y,m,k,l);w.forEach(function(t){var n=t.element,i=Lf(y,n,{});t.preStyleProps.forEach(function(t){return i[t]=!0});var r=Lf(m,n,{});t.postStyleProps.forEach(function(t){return r[t]=!0}),n!==e&&v.add(n)});var b=hd(v.values());return zd(e,this._triggerName,n,i,g,f,p,w,b,y,m,k)}}]),t}(),Kd=function(){function t(e,n){m(this,t),this.styles=e,this.defaultParams=n}return _(t,[{key:"buildStyles",value:function(t,e){var n={},i=ed(this.defaultParams);return Object.keys(t).forEach(function(e){var n=t[e];null!=n&&(i[e]=n)}),this.styles.styles.forEach(function(t){if("string"!=typeof t){var r=t;Object.keys(r).forEach(function(t){var o=r[t];o.length>1&&(o=ld(o,i,e)),n[t]=o})}}),n}}]),t}(),Wd=function(){function t(e,n){var i=this;m(this,t),this.name=e,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach(function(t){i.states[t.name]=new Kd(t.style,t.options&&t.options.params||{})}),Gd(this.states,"true","1"),Gd(this.states,"false","0"),n.transitions.forEach(function(t){i.transitionFactories.push(new Ud(e,t,i.states))}),this.fallbackTransition=new Ud(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(t,e){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _(t,[{key:"containsQueries",get:function(){return this.ast.queryCount>0}},{key:"matchTransition",value:function(t,e,n,i){return this.transitionFactories.find(function(r){return r.match(t,e,n,i)})||null}},{key:"matchStyles",value:function(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}]),t}();function Gd(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}var Zd=new Ad,Qd=function(){function t(e,n,i){m(this,t),this.bodyNode=e,this._driver=n,this._normalizer=i,this._animations={},this._playersById={},this.players=[]}return _(t,[{key:"register",value:function(t,e){var n=[],i=bd(this._driver,e,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: ".concat(n.join("\n")));this._animations[t]=i}},{key:"_buildPlayer",value:function(t,e,n){var i=t.element,r=Pf(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(i,r,t.duration,t.delay,t.easing,[],!0)}},{key:"create",value:function(t,e){var n,i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=[],s=this._animations[t],a=new Map;if(s?(n=Pd(this._driver,e,s,"ng-enter","ng-leave",{},{},r,Zd,o)).forEach(function(t){var e=Lf(a,t.element,{});t.postStyleProps.forEach(function(t){return e[t]=null})}):(o.push("The requested animation doesn't exist or has already been destroyed"),n=[]),o.length)throw new Error("Unable to create the animation due to the following errors: ".concat(o.join("\n")));a.forEach(function(t,e){Object.keys(t).forEach(function(n){t[n]=i._driver.computeStyle(e,n,"*")})});var u=Of(n.map(function(t){var e=a.get(t.element);return i._buildPlayer(t,{},e)}));return this._playersById[t]=u,u.onDestroy(function(){return i.destroy(t)}),this.players.push(u),u}},{key:"destroy",value:function(t){var e=this._getPlayer(t);e.destroy(),delete this._playersById[t];var n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(t){var e=this._playersById[t];if(!e)throw new Error("Unable to find the timeline player referenced by ".concat(t));return e}},{key:"listen",value:function(t,e,n,i){var r=Nf(e,"","","");return If(this._getPlayer(t),n,r,i),function(){}}},{key:"command",value:function(t,e,n,i){if("register"!=n)if("create"!=n){var r=this._getPlayer(t);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(t)}}else this.create(t,e,i[0]||{});else this.register(t,i[0])}}]),t}(),Xd=[],Yd={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},$d={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jd=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";m(this,t),this.namespaceId=n;var i,r=e&&e.hasOwnProperty("value");if(this.value=null!=(i=r?e.value:e)?i:null,r){var o=ed(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}return _(t,[{key:"params",get:function(){return this.options.params}},{key:"absorbOptions",value:function(t){var e=t.params;if(e){var n=this.options.params;Object.keys(e).forEach(function(t){null==n[t]&&(n[t]=e[t])})}}}]),t}(),tp=new Jd("void"),ep=function(){function t(e,n,i){m(this,t),this.id=e,this.hostElement=n,this._engine=i,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,up(n,this._hostClassName)}return _(t,[{key:"listen",value:function(t,e,n,i){var r,o=this;if(!this._triggers.hasOwnProperty(e))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(e,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(e,'" because the provided event is undefined!'));if("start"!=(r=n)&&"done"!=r)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(e,'" is not supported!'));var s=Lf(this._elementListeners,t,[]),a={name:e,phase:n,callback:i};s.push(a);var u=Lf(this._engine.statesByElement,t,{});return u.hasOwnProperty(e)||(up(t,"ng-trigger"),up(t,"ng-trigger-"+e),u[e]=tp),function(){o._engine.afterFlush(function(){var t=s.indexOf(a);t>=0&&s.splice(t,1),o._triggers[e]||delete u[e]})}}},{key:"register",value:function(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}},{key:"_getTrigger",value:function(t){var e=this._triggers[t];if(!e)throw new Error('The provided animation trigger "'.concat(t,'" has not been registered!'));return e}},{key:"trigger",value:function(t,e,n){var i=this,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=this._getTrigger(e),s=new ip(this.id,e,t),a=this._engine.statesByElement.get(t);a||(up(t,"ng-trigger"),up(t,"ng-trigger-"+e),this._engine.statesByElement.set(t,a={}));var u=a[e],c=new Jd(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&u&&c.absorbOptions(u.options),a[e]=c,u||(u=tp),"void"===c.value||u.value!==c.value){var l=Lf(this._engine.playersByElement,t,[]);l.forEach(function(t){t.namespaceId==i.id&&t.triggerName==e&&t.queued&&t.destroy()});var h=o.matchTransition(u.value,c.value,t,c.params),f=!1;if(!h){if(!r)return;h=o.fallbackTransition,f=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:h,fromState:u,toState:c,player:s,isFallbackTransition:f}),f||(up(t,"ng-animate-queued"),s.onStart(function(){cp(t,"ng-animate-queued")})),s.onDone(function(){var e=i.players.indexOf(s);e>=0&&i.players.splice(e,1);var n=i._engine.playersByElement.get(t);if(n){var r=n.indexOf(s);r>=0&&n.splice(r,1)}}),this.players.push(s),l.push(s),s}if(!function(t,e){var n=Object.keys(t),i=Object.keys(e);if(n.length!=i.length)return!1;for(var r=0;r<n.length;r++){var o=n[r];if(!e.hasOwnProperty(o)||t[o]!==e[o])return!1}return!0}(u.params,c.params)){var d=[],p=o.matchStyles(u.value,u.params,d),v=o.matchStyles(c.value,c.params,d);d.length?this._engine.reportError(d):this._engine.afterFlush(function(){sd(t,p),od(t,v)})}}},{key:"deregister",value:function(t){var e=this;delete this._triggers[t],this._engine.statesByElement.forEach(function(e,n){delete e[t]}),this._elementListeners.forEach(function(n,i){e._elementListeners.set(i,n.filter(function(e){return e.name!=t}))})}},{key:"clearElementCache",value:function(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);var e=this._engine.playersByElement.get(t);e&&(e.forEach(function(t){return t.destroy()}),this._engine.playersByElement.delete(t))}},{key:"_signalRemovalForInnerTriggers",value:function(t,e){var n=this,i=this._engine.driver.query(t,".ng-trigger",!0);i.forEach(function(t){if(!t.__ng_removed){var i=n._engine.fetchNamespacesByElement(t);i.size?i.forEach(function(n){return n.triggerLeaveAnimation(t,e,!1,!0)}):n.clearElementCache(t)}}),this._engine.afterFlushAnimationsDone(function(){return i.forEach(function(t){return n.clearElementCache(t)})})}},{key:"triggerLeaveAnimation",value:function(t,e,n,i){var r=this,o=this._engine.statesByElement.get(t);if(o){var s=[];if(Object.keys(o).forEach(function(e){if(r._triggers[e]){var n=r.trigger(t,e,"void",i);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&Of(s).onDone(function(){return r._engine.processLeaveNode(t)}),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(t){var e=this,n=this._elementListeners.get(t),i=this._engine.statesByElement.get(t);if(n&&i){var r=new Set;n.forEach(function(n){var o=n.name;if(!r.has(o)){r.add(o);var s=e._triggers[o].fallbackTransition,a=i[o]||tp,u=new Jd("void"),c=new ip(e.id,o,t);e._engine.totalQueuedPlayers++,e._queue.push({element:t,triggerName:o,transition:s,fromState:a,toState:u,player:c,isFallbackTransition:!0})}})}}},{key:"removeNode",value:function(t,e){var n=this,i=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),!this.triggerLeaveAnimation(t,e,!0)){var r=!1;if(i.totalAnimations){var o=i.players.length?i.playersByQueriedElement.get(t):[];if(o&&o.length)r=!0;else for(var s=t;s=s.parentNode;)if(i.statesByElement.get(s)){r=!0;break}}if(this.prepareLeaveAnimationListeners(t),r)i.markElementAsRemoved(this.id,t,!1,e);else{var a=t.__ng_removed;a&&a!==Yd||(i.afterFlush(function(){return n.clearElementCache(t)}),i.destroyInnerAnimations(t),i._onRemovalComplete(t,e))}}}},{key:"insertNode",value:function(t,e){up(t,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(t){var e=this,n=[];return this._queue.forEach(function(i){var r=i.player;if(!r.destroyed){var o=i.element,s=e._elementListeners.get(o);s&&s.forEach(function(e){if(e.name==i.triggerName){var n=Nf(o,i.triggerName,i.fromState.value,i.toState.value);n._data=t,If(i.player,e.phase,n,e.callback)}}),r.markedForDestroy?e._engine.afterFlush(function(){r.destroy()}):n.push(i)}}),this._queue=[],n.sort(function(t,n){var i=t.transition.ast.depCount,r=n.transition.ast.depCount;return 0==i||0==r?i-r:e._engine.driver.containsElement(t.element,n.element)?1:-1})}},{key:"destroy",value:function(t){this.players.forEach(function(t){return t.destroy()}),this._signalRemovalForInnerTriggers(this.hostElement,t)}},{key:"elementContainsData",value:function(t){var e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(function(e){return e.element===t})||e}}]),t}(),np=function(){function t(e,n,i){m(this,t),this.bodyNode=e,this.driver=n,this._normalizer=i,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(t,e){}}return _(t,[{key:"_onRemovalComplete",value:function(t,e){this.onRemovalComplete(t,e)}},{key:"queuedPlayers",get:function(){var t=[];return this._namespaceList.forEach(function(e){e.players.forEach(function(e){e.queued&&t.push(e)})}),t}},{key:"createNamespace",value:function(t,e){var n=new ep(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}},{key:"_balanceNamespaceList",value:function(t,e){var n=this._namespaceList.length-1;if(n>=0){for(var i=!1,r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,e)){this._namespaceList.splice(r+1,0,t),i=!0;break}i||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}},{key:"register",value:function(t,e){var n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}},{key:"registerTrigger",value:function(t,e,n){var i=this._namespaceLookup[t];i&&i.register(e,n)&&this.totalAnimations++}},{key:"destroy",value:function(t,e){var n=this;if(t){var i=this._fetchNamespace(t);this.afterFlush(function(){n.namespacesByHostElement.delete(i.hostElement),delete n._namespaceLookup[t];var e=n._namespaceList.indexOf(i);e>=0&&n._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(function(){return i.destroy(e)})}}},{key:"_fetchNamespace",value:function(t){return this._namespaceLookup[t]}},{key:"fetchNamespacesByElement",value:function(t){var e=new Set,n=this.statesByElement.get(t);if(n)for(var i=Object.keys(n),r=0;r<i.length;r++){var o=n[i[r]].namespaceId;if(o){var s=this._fetchNamespace(o);s&&e.add(s)}}return e}},{key:"trigger",value:function(t,e,n,i){if(rp(e)){var r=this._fetchNamespace(t);if(r)return r.trigger(e,n,i),!0}return!1}},{key:"insertNode",value:function(t,e,n,i){if(rp(e)){var r=e.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;var o=this.collectedLeaveElements.indexOf(e);o>=0&&this.collectedLeaveElements.splice(o,1)}if(t){var s=this._fetchNamespace(t);s&&s.insertNode(e,n)}i&&this.collectEnterElement(e)}}},{key:"collectEnterElement",value:function(t){this.collectedEnterElements.push(t)}},{key:"markElementAsDisabled",value:function(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),up(t,"ng-animate-disabled")):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),cp(t,"ng-animate-disabled"))}},{key:"removeNode",value:function(t,e,n,i){if(rp(e)){var r=t?this._fetchNamespace(t):null;if(r?r.removeNode(e,i):this.markElementAsRemoved(t,e,!1,i),n){var o=this.namespacesByHostElement.get(e);o&&o.id!==t&&o.removeNode(e,i)}}else this._onRemovalComplete(e,i)}},{key:"markElementAsRemoved",value:function(t,e,n,i){this.collectedLeaveElements.push(e),e.__ng_removed={namespaceId:t,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(t,e,n,i,r){return rp(e)?this._fetchNamespace(t).listen(e,n,i,r):function(){}}},{key:"_buildInstruction",value:function(t,e,n,i,r){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,i,t.fromState.options,t.toState.options,e,r)}},{key:"destroyInnerAnimations",value:function(t){var e=this,n=this.driver.query(t,".ng-trigger",!0);n.forEach(function(t){return e.destroyActiveAnimationsForElement(t)}),0!=this.playersByQueriedElement.size&&(n=this.driver.query(t,".ng-animating",!0)).forEach(function(t){return e.finishActiveQueriedAnimationOnElement(t)})}},{key:"destroyActiveAnimationsForElement",value:function(t){var e=this.playersByElement.get(t);e&&e.forEach(function(t){t.queued?t.markedForDestroy=!0:t.destroy()})}},{key:"finishActiveQueriedAnimationOnElement",value:function(t){var e=this.playersByQueriedElement.get(t);e&&e.forEach(function(t){return t.finish()})}},{key:"whenRenderingDone",value:function(){var t=this;return new Promise(function(e){if(t.players.length)return Of(t.players).onDone(function(){return e()});e()})}},{key:"processLeaveNode",value:function(t){var e=this,n=t.__ng_removed;if(n&&n.setForRemoval){if(t.__ng_removed=Yd,n.namespaceId){this.destroyInnerAnimations(t);var i=this._fetchNamespace(n.namespaceId);i&&i.clearElementCache(t)}this._onRemovalComplete(t,n.setForRemoval)}this.driver.matchesElement(t,".ng-animate-disabled")&&this.markElementAsDisabled(t,!1),this.driver.query(t,".ng-animate-disabled",!0).forEach(function(t){e.markElementAsDisabled(t,!1)})}},{key:"flush",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach(function(e,n){return t._balanceNamespaceList(e,n)}),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var i=0;i<this.collectedEnterElements.length;i++)up(this.collectedEnterElements[i],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var r=[];try{n=this._flushAnimations(r,e)}finally{for(var o=0;o<r.length;o++)r[o]()}}else for(var s=0;s<this.collectedLeaveElements.length;s++)this.processLeaveNode(this.collectedLeaveElements[s]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(function(t){return t()}),this._flushFns=[],this._whenQuietFns.length){var a=this._whenQuietFns;this._whenQuietFns=[],n.length?Of(n).onDone(function(){a.forEach(function(t){return t()})}):a.forEach(function(t){return t()})}}},{key:"reportError",value:function(t){throw new Error("Unable to process animations due to the following failed trigger transitions\n ".concat(t.join("\n")))}},{key:"_flushAnimations",value:function(t,e){var n=this,r=new Ad,o=[],s=new Map,a=[],u=new Map,c=new Map,l=new Map,h=new Set;this.disabledNodes.forEach(function(t){h.add(t);for(var e=n.driver.query(t,".ng-animate-queued",!0),i=0;i<e.length;i++)h.add(e[i])});var f=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=ap(d,this.collectedEnterElements),v=new Map,y=0;p.forEach(function(t,e){var n="ng-enter"+y++;v.set(e,n),t.forEach(function(t){return up(t,n)})});for(var m=[],g=new Set,_=new Set,w=0;w<this.collectedLeaveElements.length;w++){var k=this.collectedLeaveElements[w],b=k.__ng_removed;b&&b.setForRemoval&&(m.push(k),g.add(k),b.hasAnimation?this.driver.query(k,".ng-star-inserted",!0).forEach(function(t){return g.add(t)}):_.add(k))}var C=new Map,E=ap(d,Array.from(g));E.forEach(function(t,e){var n="ng-leave"+y++;C.set(e,n),t.forEach(function(t){return up(t,n)})}),t.push(function(){p.forEach(function(t,e){var n=v.get(e);t.forEach(function(t){return cp(t,n)})}),E.forEach(function(t,e){var n=C.get(e);t.forEach(function(t){return cp(t,n)})}),m.forEach(function(t){n.processLeaveNode(t)})});for(var S=[],x=[],T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(function(t){var e=t.player,i=t.element;if(S.push(e),n.collectedEnterElements.length){var s=i.__ng_removed;if(s&&s.setForMove)return void e.destroy()}var h=!f||!n.driver.containsElement(f,i),d=C.get(i),p=v.get(i),y=n._buildInstruction(t,r,p,d,h);if(y.errors&&y.errors.length)x.push(y);else{if(h)return e.onStart(function(){return sd(i,y.fromStyles)}),e.onDestroy(function(){return od(i,y.toStyles)}),void o.push(e);if(t.isFallbackTransition)return e.onStart(function(){return sd(i,y.fromStyles)}),e.onDestroy(function(){return od(i,y.toStyles)}),void o.push(e);y.timelines.forEach(function(t){return t.stretchStartingKeyframe=!0}),r.append(i,y.timelines),a.push({instruction:y,player:e,element:i}),y.queriedElements.forEach(function(t){return Lf(u,t,[]).push(e)}),y.preStyleProps.forEach(function(t,e){var n=Object.keys(t);if(n.length){var i=c.get(e);i||c.set(e,i=new Set),n.forEach(function(t){return i.add(t)})}}),y.postStyleProps.forEach(function(t,e){var n=Object.keys(t),i=l.get(e);i||l.set(e,i=new Set),n.forEach(function(t){return i.add(t)})})}});if(x.length){var M=[];x.forEach(function(t){M.push("@".concat(t.triggerName," has failed due to:\n")),t.errors.forEach(function(t){return M.push("- ".concat(t,"\n"))})}),S.forEach(function(t){return t.destroy()}),this.reportError(M)}var A=new Map,R=new Map;a.forEach(function(t){var e=t.element;r.has(e)&&(R.set(e,e),n._beforeAnimationBuild(t.player.namespaceId,t.instruction,A))}),o.forEach(function(t){var e=t.element;n._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(function(t){Lf(A,e,[]).push(t),t.destroy()})});var O=m.filter(function(t){return fp(t,c,l)}),P=new Map;sp(P,this.driver,_,l,"*").forEach(function(t){fp(t,c,l)&&O.push(t)});var I=new Map;p.forEach(function(t,e){sp(I,n.driver,new Set(t),c,"!")}),O.forEach(function(t){var e=P.get(t),n=I.get(t);P.set(t,Object.assign(Object.assign({},e),n))});var D=[],N=[],L={};a.forEach(function(t){var e=t.element,i=t.player,a=t.instruction;if(r.has(e)){if(h.has(e))return i.onDestroy(function(){return od(e,a.toStyles)}),i.disabled=!0,i.overrideTotalTime(a.totalTime),void o.push(i);var u=L;if(R.size>1){for(var c=e,l=[];c=c.parentNode;){var f=R.get(c);if(f){u=f;break}l.push(c)}l.forEach(function(t){return R.set(t,u)})}var d=n._buildAnimation(i.namespaceId,a,A,s,I,P);if(i.setRealPlayer(d),u===L)D.push(i);else{var p=n.playersByElement.get(u);p&&p.length&&(i.parentPlayer=Of(p)),o.push(i)}}else sd(e,a.fromStyles),i.onDestroy(function(){return od(e,a.toStyles)}),N.push(i),h.has(e)&&o.push(i)}),N.forEach(function(t){var e=s.get(t.element);if(e&&e.length){var n=Of(e);t.setRealPlayer(n)}}),o.forEach(function(t){t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(var F=0;F<m.length;F++){var j=m[F],V=j.__ng_removed;if(cp(j,"ng-leave"),!V||!V.hasAnimation){var B=[];if(u.size){var H=u.get(j);H&&H.length&&B.push.apply(B,i(H));for(var z=this.driver.query(j,".ng-animating",!0),q=0;q<z.length;q++){var U=u.get(z[q]);U&&U.length&&B.push.apply(B,i(U))}}var K=B.filter(function(t){return!t.destroyed});K.length?lp(this,j,K):this.processLeaveNode(j)}}return m.length=0,D.forEach(function(t){n.players.push(t),t.onDone(function(){t.destroy();var e=n.players.indexOf(t);n.players.splice(e,1)}),t.play()}),D}},{key:"elementContainsData",value:function(t,e){var n=!1,i=e.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}},{key:"afterFlush",value:function(t){this._flushFns.push(t)}},{key:"afterFlushAnimationsDone",value:function(t){this._whenQuietFns.push(t)}},{key:"_getPreviousPlayers",value:function(t,e,n,i,r){var o=[];if(e){var s=this.playersByQueriedElement.get(t);s&&(o=s)}else{var a=this.playersByElement.get(t);if(a){var u=!r||"void"==r;a.forEach(function(t){t.queued||(u||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(function(t){return!(n&&n!=t.namespaceId||i&&i!=t.triggerName)})),o}},{key:"_beforeAnimationBuild",value:function(t,e,i){var r,o=this,s=e.element,a=e.isRemovalTransition?void 0:t,u=e.isRemovalTransition?void 0:e.triggerName,c=n(e.timelines);try{var l=function(){var t=r.value.element,n=t!==s,c=Lf(i,t,[]);o._getPreviousPlayers(t,n,a,u,e.toState).forEach(function(t){var e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),c.push(t)})};for(c.s();!(r=c.n()).done;)l()}catch(h){c.e(h)}finally{c.f()}sd(s,e.fromStyles)}},{key:"_buildAnimation",value:function(t,e,n,i,r,o){var s=this,a=e.triggerName,u=e.element,c=[],l=new Set,h=new Set,f=e.timelines.map(function(e){var f=e.element;l.add(f);var d=f.__ng_removed;if(d&&d.removedBeforeQueried)return new Mf(e.duration,e.delay);var p,v,y=f!==u,m=(p=(n.get(f)||Xd).map(function(t){return t.getRealPlayer()}),v=[],hp(p,v),v).filter(function(t){return!!t.element&&t.element===f}),g=r.get(f),_=o.get(f),w=Pf(0,s._normalizer,0,e.keyframes,g,_),k=s._buildPlayer(e,w,m);if(e.subTimeline&&i&&h.add(f),y){var b=new ip(t,a,f);b.setRealPlayer(k),c.push(b)}return k});c.forEach(function(t){Lf(s.playersByQueriedElement,t.element,[]).push(t),t.onDone(function(){return function(t,e,n){var i;if(t instanceof Map){if(i=t.get(e)){if(i.length){var r=i.indexOf(n);i.splice(r,1)}0==i.length&&t.delete(e)}}else if(i=t[e]){if(i.length){var o=i.indexOf(n);i.splice(o,1)}0==i.length&&delete t[e]}return i}(s.playersByQueriedElement,t.element,t)})}),l.forEach(function(t){return up(t,"ng-animating")});var d=Of(f);return d.onDestroy(function(){l.forEach(function(t){return cp(t,"ng-animating")}),od(u,e.toStyles)}),h.forEach(function(t){Lf(i,t,[]).push(d)}),d}},{key:"_buildPlayer",value:function(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Mf(t.duration,t.delay)}}]),t}(),ip=function(){function t(e,n,i){m(this,t),this.namespaceId=e,this.triggerName=n,this.element=i,this._player=new Mf,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _(t,[{key:"setRealPlayer",value:function(t){var e=this;this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(function(n){e._queuedCallbacks[n].forEach(function(e){return If(t,n,void 0,e)})}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(t){this.totalTime=t}},{key:"syncPlayerEvents",value:function(t){var e=this,n=this._player;n.triggerCallback&&t.onStart(function(){return n.triggerCallback("start")}),t.onDone(function(){return e.finish()}),t.onDestroy(function(){return e.destroy()})}},{key:"_queueEvent",value:function(t,e){Lf(this._queuedCallbacks,t,[]).push(e)}},{key:"onDone",value:function(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}},{key:"onStart",value:function(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}},{key:"onDestroy",value:function(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(t){this.queued||this._player.setPosition(t)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(t){var e=this._player;e.triggerCallback&&e.triggerCallback(t)}}]),t}();function rp(t){return t&&1===t.nodeType}function op(t,e){var n=t.style.display;return t.style.display=null!=e?e:"none",n}function sp(t,e,n,i,r){var o=[];n.forEach(function(t){return o.push(op(t))});var s=[];i.forEach(function(n,i){var o={};n.forEach(function(t){var n=o[t]=e.computeStyle(i,t,r);n&&0!=n.length||(i.__ng_removed=$d,s.push(i))}),t.set(i,o)});var a=0;return n.forEach(function(t){return op(t,o[a++])}),s}function ap(t,e){var n=new Map;if(t.forEach(function(t){return n.set(t,[])}),0==e.length)return n;var i=new Set(e),r=new Map;function o(t){if(!t)return 1;var e=r.get(t);if(e)return e;var s=t.parentNode;return e=n.has(s)?s:i.has(s)?1:o(s),r.set(t,e),e}return e.forEach(function(t){var e=o(t);1!==e&&n.get(e).push(t)}),n}function up(t,e){if(t.classList)t.classList.add(e);else{var n=t.$$classes;n||(n=t.$$classes={}),n[e]=!0}}function cp(t,e){if(t.classList)t.classList.remove(e);else{var n=t.$$classes;n&&delete n[e]}}function lp(t,e,n){Of(n).onDone(function(){return t.processLeaveNode(e)})}function hp(t,e){for(var n=0;n<t.length;n++){var i=t[n];i instanceof Af?hp(i.players,e):e.push(i)}}function fp(t,e,n){var i=n.get(t);if(!i)return!1;var r=e.get(t);return r?i.forEach(function(t){return r.add(t)}):e.set(t,i),n.delete(t),!0}var dp=function(){function t(e,n,i){var r=this;m(this,t),this.bodyNode=e,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(t,e){},this._transitionEngine=new np(e,n,i),this._timelineEngine=new Qd(e,n,i),this._transitionEngine.onRemovalComplete=function(t,e){return r.onRemovalComplete(t,e)}}return _(t,[{key:"registerTrigger",value:function(t,e,n,i,r){var o=t+"-"+i,s=this._triggerCache[o];if(!s){var a=[],u=bd(this._driver,r,a);if(a.length)throw new Error('The animation trigger "'.concat(i,'" has failed to build due to the following errors:\n - ').concat(a.join("\n - ")));s=function(t,e){return new Wd(t,e)}(i,u),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(e,i,s)}},{key:"register",value:function(t,e){this._transitionEngine.register(t,e)}},{key:"destroy",value:function(t,e){this._transitionEngine.destroy(t,e)}},{key:"onInsert",value:function(t,e,n,i){this._transitionEngine.insertNode(t,e,n,i)}},{key:"onRemove",value:function(t,e,n,i){this._transitionEngine.removeNode(t,e,i||!1,n)}},{key:"disableAnimations",value:function(t,e){this._transitionEngine.markElementAsDisabled(t,e)}},{key:"process",value:function(t,n,i,r){if("@"==i.charAt(0)){var o=e(Ff(i),2),s=o[0],a=o[1];this._timelineEngine.command(s,n,a,r)}else this._transitionEngine.trigger(t,n,i,r)}},{key:"listen",value:function(t,n,i,r,o){if("@"==i.charAt(0)){var s=e(Ff(i),2),a=s[0],u=s[1];return this._timelineEngine.listen(a,n,u,o)}return this._transitionEngine.listen(t,n,i,r,o)}},{key:"flush",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(t)}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}}]),t}();function pp(t,e){var n=null,i=null;return Array.isArray(e)&&e.length?(n=yp(e[0]),e.length>1&&(i=yp(e[e.length-1]))):e&&(n=yp(e)),n||i?new vp(t,n,i):null}var vp=function(){var t=function(){function t(e,n,i){m(this,t),this._element=e,this._startStyles=n,this._endStyles=i,this._state=0;var r=t.initialStylesByElement.get(e);r||t.initialStylesByElement.set(e,r={}),this._initialStyles=r}return _(t,[{key:"start",value:function(){this._state<1&&(this._startStyles&&od(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(od(this._element,this._initialStyles),this._endStyles&&(od(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(sd(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(sd(this._element,this._endStyles),this._endStyles=null),od(this._element,this._initialStyles),this._state=3)}}]),t}();return t.initialStylesByElement=new WeakMap,t}();function yp(t){for(var e=null,n=Object.keys(t),i=0;i<n.length;i++){var r=n[i];mp(r)&&((e=e||{})[r]=t[r])}return e}function mp(t){return"display"===t||"position"===t}var gp=function(){function t(e,n,i,r,o,s,a){var u=this;m(this,t),this._element=e,this._name=n,this._duration=i,this._delay=r,this._easing=o,this._fillMode=s,this._onDoneFn=a,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(t){return u._handleCallback(t)}}return _(t,[{key:"apply",value:function(){var t,e,n;t=this._element,e="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=Ep(t,"").trim()).length&&(function(t,e){for(var n=0;n<t.length;n++)t.charAt(n)}(n),e="".concat(n,", ").concat(e)),Cp(t,"",e),bp(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){_p(this._element,this._name,"paused")}},{key:"resume",value:function(){_p(this._element,this._name,"running")}},{key:"setPosition",value:function(t){var e=wp(this._element,this._name);this._position=t*this._duration,Cp(this._element,"Delay","-".concat(this._position,"ms"),e)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(t){var e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),bp(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var t,e,n,i;this._destroyed||(this._destroyed=!0,this.finish(),t=this._element,e=this._name,n=Ep(t,"").split(","),(i=kp(n,e))>=0&&(n.splice(i,1),Cp(t,"",n.join(","))))}}]),t}();function _p(t,e,n){Cp(t,"PlayState",n,wp(t,e))}function wp(t,e){var n=Ep(t,"");return n.indexOf(",")>0?kp(n.split(","),e):kp([n],e)}function kp(t,e){for(var n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function bp(t,e,n){n?t.removeEventListener("animationend",e):t.addEventListener("animationend",e)}function Cp(t,e,n,i){var r="animation"+e;if(null!=i){var o=t.style[r];if(o.length){var s=o.split(",");s[i]=n,n=s.join(",")}}t.style[r]=n}function Ep(t,e){return t.style["animation"+e]||""}var Sp=function(){function t(e,n,i,r,o,s,a,u){m(this,t),this.element=e,this.keyframes=n,this.animationName=i,this._duration=r,this._delay=o,this._finalStyles=a,this._specialStyles=u,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+o,this._buildStyler()}return _(t,[{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(t){this._styler.setPosition(t)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var t=this;this._styler=new gp(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",function(){return t.finish()})}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}},{key:"beforeDestroy",value:function(){var t=this;this.init();var e={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach(function(i){"offset"!=i&&(e[i]=n?t._finalStyles[i]:md(t.element,i))})}this.currentSnapshot=e}}]),t}(),xp=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).element=t,r._startingStyles={},r.__initialized=!1,r._styles=Zf(i),r}return _(n,[{key:"init",value:function(){var t=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(function(e){t._startingStyles[e]=t.element.style[e]}),u(y(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var t=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(function(e){return t.element.style.setProperty(e,t._styles[e])}),u(y(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var t=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach(function(e){var n=t._startingStyles[e];n?t.element.style.setProperty(e,n):t.element.style.removeProperty(e)}),this._startingStyles=null,u(y(n.prototype),"destroy",this).call(this))}}]),n}(Mf),Tp=function(){function t(){m(this,t),this._count=0,this._head=document.querySelector("head")}return _(t,[{key:"validateStyleProperty",value:function(t){return Uf(t)}},{key:"matchesElement",value:function(t,e){return Kf(t,e)}},{key:"containsElement",value:function(t,e){return Wf(t,e)}},{key:"query",value:function(t,e,n){return Gf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"buildKeyframeElement",value:function(t,e,n){n=n.map(function(t){return Zf(t)});var i="@keyframes ".concat(e," {\n"),r="";n.forEach(function(t){r=" ";var e=parseFloat(t.offset);i+="".concat(r).concat(100*e,"% {\n"),r+=" ",Object.keys(t).forEach(function(e){var n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(i+="".concat(r,"animation-timing-function: ").concat(n,";\n")));default:return void(i+="".concat(r).concat(e,": ").concat(n,";\n"))}}),i+="".concat(r,"}\n")}),i+="}\n";var o=document.createElement("style");return o.textContent=i,o}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=o.filter(function(t){return t instanceof Sp}),a={};pd(n,i)&&s.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return a[t]=e[t]})});var u=function(t){var e={};return t&&(Array.isArray(t)?t:[t]).forEach(function(t){Object.keys(t).forEach(function(n){"offset"!=n&&"easing"!=n&&(e[n]=t[n])})}),e}(e=vd(t,e,a));if(0==n)return new xp(t,u);var c="gen_css_kf_"+this._count++,l=this.buildKeyframeElement(t,c,e);document.querySelector("head").appendChild(l);var h=pp(t,e),f=new Sp(t,e,c,n,i,r,u,h);return f.onDestroy(function(){var t;(t=l).parentNode.removeChild(t)}),f}}]),t}(),Mp=function(){function t(e,n,i,r){m(this,t),this.element=e,this.keyframes=n,this.options=i,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=i.duration,this._delay=i.delay||0,this.time=this._duration+this._delay}return _(t,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach(function(t){return t()}),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var t=this;if(!this._initialized){this._initialized=!0;var e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",function(){return t._onFinish()})}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(t,e,n){return t.animate(e,n)}},{key:"onStart",value:function(t){this._onStartFns.push(t)}},{key:"onDone",value:function(t){this._onDoneFns.push(t)}},{key:"onDestroy",value:function(t){this._onDestroyFns.push(t)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(function(t){return t()}),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(function(t){return t()}),this._onDestroyFns=[])}},{key:"setPosition",value:function(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"totalTime",get:function(){return this._delay+this._duration}},{key:"beforeDestroy",value:function(){var t=this,e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(function(n){"offset"!=n&&(e[n]=t._finished?t._finalKeyframe[n]:md(t.element,n))}),this.currentSnapshot=e}},{key:"triggerCallback",value:function(t){var e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(function(t){return t()}),e.length=0}}]),t}(),Ap=function(){function t(){m(this,t),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Rp().toString()),this._cssKeyframesDriver=new Tp}return _(t,[{key:"validateStyleProperty",value:function(t){return Uf(t)}},{key:"matchesElement",value:function(t,e){return Kf(t,e)}},{key:"containsElement",value:function(t,e){return Wf(t,e)}},{key:"query",value:function(t,e,n){return Gf(t,e,n)}},{key:"computeStyle",value:function(t,e,n){return window.getComputedStyle(t)[e]}},{key:"overrideWebAnimationsSupport",value:function(t){this._isNativeImpl=t}},{key:"animate",value:function(t,e,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],s=arguments.length>6?arguments[6]:void 0;if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,i,r,o);var a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);var u={},c=o.filter(function(t){return t instanceof Mp});pd(n,i)&&c.forEach(function(t){var e=t.currentSnapshot;Object.keys(e).forEach(function(t){return u[t]=e[t]})});var l=pp(t,e=vd(t,e=e.map(function(t){return nd(t,!1)}),u));return new Mp(t,e,a,l)}}]),t}();function Rp(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var Op,Pp=((Op=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this))._nextAnimationId=0,r._renderer=t.createRenderer(i.body,{id:"0",encapsulation:Ut.None,styles:[],data:{animation:[]}}),r}return _(n,[{key:"build",value:function(t){var e=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(t)?gf(t):t;return Np(this._renderer,null,e,"register",[n]),new Ip(e,this._renderer)}}]),n}(pf)).\u0275fac=function(t){return new(t||Op)(vi(Bs),vi(Xu))},Op.\u0275prov=At({token:Op,factory:Op.\u0275fac}),Op),Ip=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this))._id=t,r._renderer=i,r}return _(n,[{key:"create",value:function(t,e){return new Dp(this._id,t,e||{},this._renderer)}}]),n}(function(){return _(function t(){m(this,t)})}()),Dp=function(){function t(e,n,i,r){m(this,t),this.id=e,this.element=n,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",i)}return _(t,[{key:"_listen",value:function(t,e){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(t),e)}},{key:"_command",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return Np(this._renderer,this.element,this.id,t,n)}},{key:"onDone",value:function(t){this._listen("done",t)}},{key:"onStart",value:function(t){this._listen("start",t)}},{key:"onDestroy",value:function(t){this._listen("destroy",t)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(t){this._command("setPosition",t)}},{key:"getPosition",value:function(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}]),t}();function Np(t,e,n,i,r){return t.setProperty(e,"@@".concat(n,":").concat(i),r)}var Lp,Fp,jp,Vp,Bp=((Lp=function(){function t(e,n,i){m(this,t),this.delegate=e,this.engine=n,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(t,e){e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}return _(t,[{key:"createRenderer",value:function(t,e){var n=this,i=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){var r=this._rendererCache.get(i);return r||(r=new Hp("",i,this.engine),this._rendererCache.set(i,r)),r}var o=e.id,s=e.id+"-"+this._currentId;return this._currentId++,this.engine.register(s,t),e.data.animation.forEach(function e(i){Array.isArray(i)?i.forEach(e):n.engine.registerTrigger(o,s,t,i.name,i)}),new zp(this,s,i,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var t=this;this.promise.then(function(){t._microtaskId++})}},{key:"scheduleListenerCallback",value:function(t,n,i){var r=this;t>=0&&t<this._microtaskId?this._zone.run(function(){return n(i)}):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(function(){r._zone.run(function(){r._animationCallbacksBuffer.forEach(function(t){var n=e(t,2);(0,n[0])(n[1])}),r._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([n,i]))}},{key:"end",value:function(){var t=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(function(){t._scheduleCountTask(),t.engine.flush(t._microtaskId)}),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),t}()).\u0275fac=function(t){return new(t||Lp)(vi(Bs),vi(dp),vi(bu))},Lp.\u0275prov=At({token:Lp,factory:Lp.\u0275fac}),Lp),Hp=function(){function t(e,n,i){m(this,t),this.namespaceId=e,this.delegate=n,this.engine=i,this.destroyNode=this.delegate.destroyNode?function(t){return n.destroyNode(t)}:null}return _(t,[{key:"data",get:function(){return this.delegate.data}},{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(t,e){return this.delegate.createElement(t,e)}},{key:"createComment",value:function(t){return this.delegate.createComment(t)}},{key:"createText",value:function(t){return this.delegate.createText(t)}},{key:"appendChild",value:function(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}},{key:"insertBefore",value:function(t,e,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,i)}},{key:"removeChild",value:function(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}},{key:"selectRootElement",value:function(t,e){return this.delegate.selectRootElement(t,e)}},{key:"parentNode",value:function(t){return this.delegate.parentNode(t)}},{key:"nextSibling",value:function(t){return this.delegate.nextSibling(t)}},{key:"setAttribute",value:function(t,e,n,i){this.delegate.setAttribute(t,e,n,i)}},{key:"removeAttribute",value:function(t,e,n){this.delegate.removeAttribute(t,e,n)}},{key:"addClass",value:function(t,e){this.delegate.addClass(t,e)}},{key:"removeClass",value:function(t,e){this.delegate.removeClass(t,e)}},{key:"setStyle",value:function(t,e,n,i){this.delegate.setStyle(t,e,n,i)}},{key:"removeStyle",value:function(t,e,n){this.delegate.removeStyle(t,e,n)}},{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)&&"@.disabled"==e?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}},{key:"setValue",value:function(t,e){this.delegate.setValue(t,e)}},{key:"listen",value:function(t,e,n){return this.delegate.listen(t,e,n)}},{key:"disableAnimations",value:function(t,e){this.engine.disableAnimations(t,e)}}]),t}(),zp=function(t){l(i,t);var n=f(i);function i(t,e,r,o){var s;return m(this,i),(s=n.call(this,e,r,o)).factory=t,s.namespaceId=e,s}return _(i,[{key:"setProperty",value:function(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&"@.disabled"==e?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}},{key:"listen",value:function(t,n,i){var r,o,s=this;if("@"==n.charAt(0)){var a,u=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t),c=n.substr(1),l="";return"@"!=c.charAt(0)&&(o=(r=c).indexOf("."),c=(a=e([r.substring(0,o),r.substr(o+1)],2))[0],l=a[1]),this.engine.listen(this.namespaceId,u,c,l,function(t){s.factory.scheduleListenerCallback(t._data||-1,i,t)})}return this.delegate.listen(t,n,i)}}]),i}(Hp),qp=((Fp=function(t){l(n,t);var e=f(n);function n(t,i,r){return m(this,n),e.call(this,t.body,i,r)}return _(n)}(dp)).\u0275fac=function(t){return new(t||Fp)(vi(Xu),vi(Yf),vi(Vd))},Fp.\u0275prov=At({token:Fp,factory:Fp.\u0275fac}),Fp),Up=new ei("AnimationModuleType"),Kp=[{provide:Yf,useFactory:function(){return"function"==typeof Rp()?new Ap:new Tp}},{provide:Up,useValue:"BrowserAnimations"},{provide:pf,useClass:Pp},{provide:Vd,useFactory:function(){return new Bd}},{provide:dp,useClass:qp},{provide:Bs,useFactory:function(t,e,n){return new Bp(t,e,n)},deps:[ll,dp,bu]}],Wp=((jp=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||jp)},jp.\u0275mod=he({type:jp}),jp.\u0275inj=Rt({providers:Kp,imports:[bl]}),jp),Gp=new Us("11.2.13"),Zp=new ei("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}}),Qp=((Vp=function(){function t(e,n,i){m(this,t),this._hasDoneGlobalChecks=!1,this._document=i,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=n,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}return _(t,[{key:"_getWindow",value:function(){var t=this._document.defaultView||window;return"object"==typeof t&&t?t:null}},{key:"_checksAreEnabled",value:function(){return Nu()&&!this._isTestEnv()}},{key:"_isTestEnv",value:function(){var t=this._getWindow();return t&&(t.__karma__||t.jasmine)}},{key:"_checkDoctypeIsDefined",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype)&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}},{key:"_checkThemeIsPresent",value:function(){if(this._checksAreEnabled()&&!1!==this._sanityChecks&&this._sanityChecks.theme&&this._document.body&&"function"==typeof getComputedStyle){var t=this._document.createElement("div");t.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(t);var e=getComputedStyle(t);e&&"none"!==e.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(t)}}},{key:"_checkCdkVersionMatch",value:function(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Gp.full!==hf.full&&console.warn("The Angular Material version ("+Gp.full+") does not match the Angular CDK version ("+hf.full+").\nPlease ensure the versions of these two packages exactly match.")}}]),t}()).\u0275fac=function(t){return new(t||Vp)(vi(af),vi(Zp,8),vi(Xu))},Vp.\u0275mod=he({type:Vp}),Vp.\u0275inj=Rt({imports:[[lf],lf]}),Vp);function Xp(t,e){return function(t){l(i,t);var n=f(i);function i(){var t;m(this,i);for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return(t=n.call.apply(n,[this].concat(o))).defaultColor=e,t.color=e,t}return _(i,[{key:"color",get:function(){return this._color},set:function(t){var e=t||this.defaultColor;e!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-".concat(this._color)),e&&this._elementRef.nativeElement.classList.add("mat-".concat(e)),this._color=e)}}]),i}(t)}try{"undefined"!=typeof Intl}catch(cE){!1}var Yp,$p,Jp,tv,ev,nv,iv=function(){function t(e,n,i){m(this,t),this._renderer=e,this.element=n,this.config=i,this.state=3}return _(t,[{key:"fadeOut",value:function(){this._renderer.fadeOutRipple(this)}}]),t}(),rv={enterDuration:450,exitDuration:400},ov=Uh({passive:!0}),sv=["mousedown","touchstart"],av=["mouseup","mouseleave","touchend","touchcancel"],uv=function(){function t(e,n,i,r){m(this,t),this._target=e,this._ngZone=n,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Lh(i))}return _(t,[{key:"fadeInRipple",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),o=Object.assign(Object.assign({},rv),i.animation);i.centered&&(t=r.left+r.width/2,e=r.top+r.height/2);var s=i.radius||function(t,e,n){var i=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),r=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(i*i+r*r)}(t,e,r),a=t-r.left,u=e-r.top,c=o.enterDuration,l=document.createElement("div");l.classList.add("mat-ripple-element"),l.style.left=a-s+"px",l.style.top=u-s+"px",l.style.height=2*s+"px",l.style.width=2*s+"px",null!=i.color&&(l.style.backgroundColor=i.color),l.style.transitionDuration="".concat(c,"ms"),this._containerElement.appendChild(l),window.getComputedStyle(l).getPropertyValue("opacity"),l.style.transform="scale(1)";var h=new iv(this,l,i);return h.state=0,this._activeRipples.add(h),i.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(function(){var t=h===n._mostRecentTransientRipple;h.state=1,i.persistent||t&&n._isPointerDown||h.fadeOut()},c),h}},{key:"fadeOutRipple",value:function(t){var e=this._activeRipples.delete(t);if(t===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),e){var n=t.element,i=Object.assign(Object.assign({},rv),t.config.animation);n.style.transitionDuration="".concat(i.exitDuration,"ms"),n.style.opacity="0",t.state=2,this._runTimeoutOutsideZone(function(){t.state=3,n.parentNode.removeChild(n)},i.exitDuration)}}},{key:"fadeOutAll",value:function(){this._activeRipples.forEach(function(t){return t.fadeOut()})}},{key:"fadeOutAllNonPersistent",value:function(){this._activeRipples.forEach(function(t){t.config.persistent||t.fadeOut()})}},{key:"setupTriggerEvents",value:function(t){var e=Lh(t);e&&e!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=e,this._registerEvents(sv))}},{key:"handleEvent",value:function(t){"mousedown"===t.type?this._onMousedown(t):"touchstart"===t.type?this._onTouchStart(t):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(av),this._pointerUpEventsRegistered=!0)}},{key:"_onMousedown",value:function(t){var e=Xh(t),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||e||n||(this._isPointerDown=!0,this.fadeInRipple(t.clientX,t.clientY,this._target.rippleConfig))}},{key:"_onTouchStart",value:function(t){if(!this._target.rippleDisabled&&!Yh(t)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;for(var e=t.changedTouches,n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}},{key:"_onPointerUp",value:function(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(function(t){!t.config.persistent&&(1===t.state||t.config.terminateOnPointerUp&&0===t.state)&&t.fadeOut()}))}},{key:"_runTimeoutOutsideZone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this._ngZone.runOutsideAngular(function(){return setTimeout(t,e)})}},{key:"_registerEvents",value:function(t){var e=this;this._ngZone.runOutsideAngular(function(){t.forEach(function(t){e._triggerElement.addEventListener(t,e,ov)})})}},{key:"_removeTriggerEvents",value:function(){var t=this;this._triggerElement&&(sv.forEach(function(e){t._triggerElement.removeEventListener(e,t,ov)}),this._pointerUpEventsRegistered&&av.forEach(function(e){t._triggerElement.removeEventListener(e,t,ov)}))}}]),t}(),cv=new ei("mat-ripple-global-options"),lv=(($p=function(){function t(e,n,i,r,o){m(this,t),this._elementRef=e,this._animationMode=o,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=r||{},this._rippleRenderer=new uv(this,n,e,i)}return _(t,[{key:"disabled",get:function(){return this._disabled},set:function(t){t&&this.fadeOutAllNonPersistent(),this._disabled=t,this._setupTriggerEventsIfEnabled()}},{key:"trigger",get:function(){return this._trigger||this._elementRef.nativeElement},set:function(t){this._trigger=t,this._setupTriggerEventsIfEnabled()}},{key:"ngOnInit",value:function(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}},{key:"ngOnDestroy",value:function(){this._rippleRenderer._removeTriggerEvents()}},{key:"fadeOutAll",value:function(){this._rippleRenderer.fadeOutAll()}},{key:"fadeOutAllNonPersistent",value:function(){this._rippleRenderer.fadeOutAllNonPersistent()}},{key:"rippleConfig",get:function(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}},{key:"rippleDisabled",get:function(){return this.disabled||!!this._globalOptions.disabled}},{key:"_setupTriggerEventsIfEnabled",value:function(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}},{key:"launch",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return"number"==typeof t?this._rippleRenderer.fadeInRipple(t,e,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),t))}}]),t}()).\u0275fac=function(t){return new(t||$p)(zo(js),zo(bu),zo(zh),zo(cv,8),zo(Up,8))},$p.\u0275dir=de({type:$p,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(t,e){2&t&&us("mat-ripple-unbounded",e.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),$p),hv=((Yp=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Yp)},Yp.\u0275mod=he({type:Yp}),Yp.\u0275inj=Rt({imports:[[Qp,qh],Qp]}),Yp),fv=["mat-button",""],dv=["*"],pv=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"],vv=Xp(function(t){return function(t){l(n,t);var e=f(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disabled=!1,t}return _(n,[{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Ph(t)}}]),n}(t)}(function(t){l(n,t);var e=f(n);function n(){var t;m(this,n);for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r)))._disableRipple=!1,t}return _(n,[{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Ph(t)}}]),n}(_(function t(e){m(this,t),this._elementRef=e})))),yv=((ev=function(t){l(i,t);var e=f(i);function i(t,r,o){var s;m(this,i),(s=e.call(this,t))._focusMonitor=r,s._animationMode=o,s.isRoundButton=s._hasHostAttributes("mat-fab","mat-mini-fab"),s.isIconButton=s._hasHostAttributes("mat-icon-button");var a,u=n(pv);try{for(u.s();!(a=u.n()).done;){var c=a.value;s._hasHostAttributes(c)&&s._getHostElement().classList.add(c)}}catch(l){u.e(l)}finally{u.f()}return t.nativeElement.classList.add("mat-button-base"),s.isRoundButton&&(s.color="accent"),s}return _(i,[{key:"ngAfterViewInit",value:function(){this._focusMonitor.monitor(this._elementRef,!0)}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef)}},{key:"focus",value:function(t,e){t?this._focusMonitor.focusVia(this._getHostElement(),t,e):this._getHostElement().focus(e)}},{key:"_getHostElement",value:function(){return this._elementRef.nativeElement}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_hasHostAttributes",value:function(){for(var t=this,e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return n.some(function(e){return t._getHostElement().hasAttribute(e)})}}]),i}(vv)).\u0275fac=function(t){return new(t||ev)(zo(js),zo(ef),zo(Up,8))},ev.\u0275cmp=ae({type:ev,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(t,e){var n;1&t&&Ya(lv,1),2&t&&Xa(n=$a())&&(e.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(t,e){2&t&&(Bo("disabled",e.disabled||null),us("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-button-disabled",e.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[Ao],attrs:fv,ngContentSelectors:dv,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(t,e){1&t&&(is(),Ko(0,"span",0),rs(1),Wo(),Go(2,"span",1),Go(3,"span",2)),2&t&&(vr(2),us("mat-button-ripple-round",e.isRoundButton||e.isIconButton),qo("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",e.isIconButton)("matRippleTrigger",e._getHostElement()))},directives:[lv],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:inline-flex;justify-content:center;align-items:center;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}.cdk-high-contrast-active .mat-button-base.cdk-keyboard-focused,.cdk-high-contrast-active .mat-button-base.cdk-program-focused{outline:solid 3px}\n"],encapsulation:2,changeDetection:0}),ev),mv=((tv=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||tv)},tv.\u0275mod=he({type:tv}),tv.\u0275inj=Rt({imports:[[hv,Qp],Qp]}),tv),gv=((Jp=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Jp)},Jp.\u0275mod=he({type:Jp}),Jp.\u0275inj=Rt({imports:[[Qp],Qp]}),Jp),_v=((nv=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||nv)},nv.\u0275mod=he({type:nv}),nv.\u0275inj=Rt({imports:[[Qp],Qp]}),nv);function wv(t,e){if(1&t&&(wn(),Go(0,"circle",3)),2&t){var n=es();as("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),Bo("r",n._getCircleRadius())}}function kv(t,e){if(1&t&&(wn(),Go(0,"circle",3)),2&t){var n=es();as("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),Bo("r",n._getCircleRadius())}}function bv(t,e){if(1&t&&(wn(),Go(0,"circle",3)),2&t){var n=es();as("animation-name","mat-progress-spinner-stroke-rotate-"+n._spinnerAnimationLabel)("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),Bo("r",n._getCircleRadius())}}function Cv(t,e){if(1&t&&(wn(),Go(0,"circle",3)),2&t){var n=es();as("stroke-dashoffset",n._getStrokeDashOffset(),"px")("stroke-dasharray",n._getStrokeCircumference(),"px")("stroke-width",n._getCircleStrokeWidth(),"%"),Bo("r",n._getCircleRadius())}}var Ev,Sv,xv,Tv=".mat-progress-spinner{display:block;position:relative;overflow:hidden}.mat-progress-spinner svg{position:absolute;transform:rotate(-90deg);top:0;left:0;transform-origin:center;overflow:visible}.mat-progress-spinner circle{fill:transparent;transform-origin:center;transition:stroke-dashoffset 225ms linear}._mat-animation-noopable.mat-progress-spinner circle{transition:none;animation:none}.cdk-high-contrast-active .mat-progress-spinner circle{stroke:currentColor;stroke:CanvasText}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{animation:mat-progress-spinner-linear-rotate 2000ms linear infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition-property:stroke;animation-duration:4000ms;animation-timing-function:cubic-bezier(0.35, 0, 0.25, 1);animation-iteration-count:infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-animation[mode=indeterminate] circle{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{animation:mat-progress-spinner-stroke-rotate-fallback 10000ms cubic-bezier(0.87, 0.03, 0.33, 1) infinite}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] svg{transition:none;animation:none}.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition-property:stroke}._mat-animation-noopable.mat-progress-spinner.mat-progress-spinner-indeterminate-fallback-animation[mode=indeterminate] circle{transition:none;animation:none}@keyframes mat-progress-spinner-linear-rotate{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes mat-progress-spinner-stroke-rotate-100{0%{stroke-dashoffset:268.606171575px;transform:rotate(0)}12.5%{stroke-dashoffset:56.5486677px;transform:rotate(0)}12.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(72.5deg)}25%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(72.5deg)}25.0001%{stroke-dashoffset:268.606171575px;transform:rotate(270deg)}37.5%{stroke-dashoffset:56.5486677px;transform:rotate(270deg)}37.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(161.5deg)}50%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(161.5deg)}50.0001%{stroke-dashoffset:268.606171575px;transform:rotate(180deg)}62.5%{stroke-dashoffset:56.5486677px;transform:rotate(180deg)}62.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(251.5deg)}75%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(251.5deg)}75.0001%{stroke-dashoffset:268.606171575px;transform:rotate(90deg)}87.5%{stroke-dashoffset:56.5486677px;transform:rotate(90deg)}87.5001%{stroke-dashoffset:56.5486677px;transform:rotateX(180deg) rotate(341.5deg)}100%{stroke-dashoffset:268.606171575px;transform:rotateX(180deg) rotate(341.5deg)}}@keyframes mat-progress-spinner-stroke-rotate-fallback{0%{transform:rotate(0deg)}25%{transform:rotate(1170deg)}50%{transform:rotate(2340deg)}75%{transform:rotate(3510deg)}100%{transform:rotate(4680deg)}}\n",Mv=Xp(_(function t(e){m(this,t),this._elementRef=e}),"primary"),Av=new ei("mat-progress-spinner-default-options",{providedIn:"root",factory:function(){return{diameter:100}}}),Rv=((xv=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s){var a;m(this,n),(a=e.call(this,t))._elementRef=t,a._document=r,a._diameter=100,a._value=0,a._fallbackAnimation=!1,a.mode="determinate";var u=n._diameters;return a._spinnerAnimationLabel=a._getSpinnerAnimationLabel(),u.has(r.head)||u.set(r.head,new Set([100])),a._fallbackAnimation=i.EDGE||i.TRIDENT,a._noopAnimations="NoopAnimations"===o&&!!s&&!s._forceAnimations,s&&(s.diameter&&(a.diameter=s.diameter),s.strokeWidth&&(a.strokeWidth=s.strokeWidth)),a}return _(n,[{key:"diameter",get:function(){return this._diameter},set:function(t){this._diameter=Ih(t),this._spinnerAnimationLabel=this._getSpinnerAnimationLabel(),!this._fallbackAnimation&&this._styleRoot&&this._attachStyleNode()}},{key:"strokeWidth",get:function(){return this._strokeWidth||this.diameter/10},set:function(t){this._strokeWidth=Ih(t)}},{key:"value",get:function(){return"determinate"===this.mode?this._value:0},set:function(t){this._value=Math.max(0,Math.min(100,Ih(t)))}},{key:"ngOnInit",value:function(){var t=this._elementRef.nativeElement;this._styleRoot=Kh(t)||this._document.head,this._attachStyleNode(),t.classList.add("mat-progress-spinner-indeterminate".concat(this._fallbackAnimation?"-fallback":"","-animation"))}},{key:"_getCircleRadius",value:function(){return(this.diameter-10)/2}},{key:"_getViewBox",value:function(){var t=2*this._getCircleRadius()+this.strokeWidth;return"0 0 ".concat(t," ").concat(t)}},{key:"_getStrokeCircumference",value:function(){return 2*Math.PI*this._getCircleRadius()}},{key:"_getStrokeDashOffset",value:function(){return"determinate"===this.mode?this._getStrokeCircumference()*(100-this._value)/100:this._fallbackAnimation&&"indeterminate"===this.mode?.2*this._getStrokeCircumference():null}},{key:"_getCircleStrokeWidth",value:function(){return this.strokeWidth/this.diameter*100}},{key:"_attachStyleNode",value:function(){var t=this._styleRoot,e=this._diameter,i=n._diameters,r=i.get(t);if(!r||!r.has(e)){var o=this._document.createElement("style");o.setAttribute("mat-spinner-animation",this._spinnerAnimationLabel),o.textContent=this._getAnimationText(),t.appendChild(o),r||(r=new Set,i.set(t,r)),r.add(e)}}},{key:"_getAnimationText",value:function(){var t=this._getStrokeCircumference();return"\n @keyframes mat-progress-spinner-stroke-rotate-DIAMETER {\n    0%      { stroke-dashoffset: START_VALUE;  transform: rotate(0); }\n    12.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(0); }\n    12.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(72.5deg); }\n    25%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(72.5deg); }\n\n    25.0001%   { stroke-dashoffset: START_VALUE;  transform: rotate(270deg); }\n    37.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(270deg); }\n    37.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(161.5deg); }\n    50%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(161.5deg); }\n\n    50.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(180deg); }\n    62.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(180deg); }\n    62.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(251.5deg); }\n    75%     { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(251.5deg); }\n\n    75.0001%  { stroke-dashoffset: START_VALUE;  transform: rotate(90deg); }\n    87.5%   { stroke-dashoffset: END_VALUE;    transform: rotate(90deg); }\n    87.5001%  { stroke-dashoffset: END_VALUE;    transform: rotateX(180deg) rotate(341.5deg); }\n    100%    { stroke-dashoffset: START_VALUE;  transform: rotateX(180deg) rotate(341.5deg); }\n  }\n".replace(/START_VALUE/g,""+.95*t).replace(/END_VALUE/g,""+.2*t).replace(/DIAMETER/g,"".concat(this._spinnerAnimationLabel))}},{key:"_getSpinnerAnimationLabel",value:function(){return this.diameter.toString().replace(".","_")}}]),n}(Mv)).\u0275fac=function(t){return new(t||xv)(zo(js),zo(zh),zo(Xu,8),zo(Up,8),zo(Av))},xv.\u0275cmp=ae({type:xv,selectors:[["mat-progress-spinner"]],hostAttrs:["role","progressbar","tabindex","-1",1,"mat-progress-spinner"],hostVars:10,hostBindings:function(t,e){2&t&&(Bo("aria-valuemin","determinate"===e.mode?0:null)("aria-valuemax","determinate"===e.mode?100:null)("aria-valuenow","determinate"===e.mode?e.value:null)("mode",e.mode),as("width",e.diameter,"px")("height",e.diameter,"px"),us("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color",mode:"mode",diameter:"diameter",strokeWidth:"strokeWidth",value:"value"},exportAs:["matProgressSpinner"],features:[Ao],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(wn(),Ko(0,"svg",0),Ho(1,wv,1,9,"circle",1),Ho(2,kv,1,7,"circle",2),Wo()),2&t&&(as("width",e.diameter,"px")("height",e.diameter,"px"),qo("ngSwitch","indeterminate"===e.mode),Bo("viewBox",e._getViewBox()),vr(1),qo("ngSwitchCase",!0),vr(1),qo("ngSwitchCase",!1))},directives:[jc,Vc],styles:[Tv],encapsulation:2,changeDetection:0}),xv._diameters=new WeakMap,xv),Ov=((Sv=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s){var a;return m(this,n),(a=e.call(this,t,i,r,o,s)).mode="indeterminate",a}return _(n)}(Rv)).\u0275fac=function(t){return new(t||Sv)(zo(js),zo(zh),zo(Xu,8),zo(Up,8),zo(Av))},Sv.\u0275cmp=ae({type:Sv,selectors:[["mat-spinner"]],hostAttrs:["role","progressbar","mode","indeterminate",1,"mat-spinner","mat-progress-spinner"],hostVars:6,hostBindings:function(t,e){2&t&&(as("width",e.diameter,"px")("height",e.diameter,"px"),us("_mat-animation-noopable",e._noopAnimations))},inputs:{color:"color"},features:[Ao],decls:3,vars:8,consts:[["preserveAspectRatio","xMidYMid meet","focusable","false","aria-hidden","true",3,"ngSwitch"],["cx","50%","cy","50%",3,"animation-name","stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%",3,"stroke-dashoffset","stroke-dasharray","stroke-width",4,"ngSwitchCase"],["cx","50%","cy","50%"]],template:function(t,e){1&t&&(wn(),Ko(0,"svg",0),Ho(1,bv,1,9,"circle",1),Ho(2,Cv,1,7,"circle",2),Wo()),2&t&&(as("width",e.diameter,"px")("height",e.diameter,"px"),qo("ngSwitch","indeterminate"===e.mode),Bo("viewBox",e._getViewBox()),vr(1),qo("ngSwitchCase",!0),vr(1),qo("ngSwitchCase",!1))},directives:[jc,Vc],styles:[Tv],encapsulation:2,changeDetection:0}),Sv),Pv=((Ev=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Ev)},Ev.\u0275mod=he({type:Ev}),Ev.\u0275inj=Rt({imports:[[Qp,Uc],Qp]}),Ev);function Iv(t,e,n,r){return v(n)&&(r=n,n=void 0),r?Iv(t,e,n).pipe(U(function(t){return C(t)?r.apply(void 0,i(t)):r(t)})):new N(function(i){Dv(t,e,function(t){i.next(arguments.length>1?Array.prototype.slice.call(arguments):t)},i,n)})}function Dv(t,e,n,i,r){var o;if(function(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}(t)){var s=t;t.addEventListener(e,n,r),o=function(){return s.removeEventListener(e,n,r)}}else if(function(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}(t)){var a=t;t.on(e,n),o=function(){return a.off(e,n)}}else if(function(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}(t)){var u=t;t.addListener(e,n),o=function(){return u.removeListener(e,n)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)Dv(t[c],e,n,i,r)}i.add(o)}var Nv=function(){function t(e){m(this,t),this.durationSelector=e}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new Lv(t,this.durationSelector))}}]),t}(),Lv=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).durationSelector=i,r.hasValue=!1,r}return _(n,[{key:"_next",value:function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e;try{e=(0,this.durationSelector)(t)}catch(i){return this.destination.error(i)}var n=nt(e,new tt(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}}},{key:"clearThrottle",value:function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))}},{key:"notifyNext",value:function(){this.clearThrottle()}},{key:"notifyComplete",value:function(){this.clearThrottle()}}]),n}(et);function Fv(t){return!C(t)&&t-parseFloat(t)+1>=0}function jv(t){var e=t.index,n=t.period,i=t.subscriber;if(i.next(e),!i.closed){if(-1===n)return i.complete();t.index=e+1,this.schedule(t,n)}}function Vv(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kh;return e=function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,i=-1;return Fv(e)?i=Number(e)<1?1:Number(e):q(e)&&(n=e),q(n)||(n=kh),new N(function(e){var r=Fv(t)?t:+t-n.now();return n.schedule(jv,r,{index:0,period:i,subscriber:e})})}(t,n)},function(t){return t.lift(new Nv(e))}}function Bv(t){return function(e){return e.lift(new Hv(t))}}var Hv=function(){function t(e){m(this,t),this.notifier=e}return _(t,[{key:"call",value:function(t,e){var n=new zv(t),i=nt(this.notifier,new tt(n));return i&&!n.seenValue?(n.add(i),e.subscribe(n)):n}}]),t}(),zv=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,t)).seenValue=!1,i}return _(n,[{key:"notifyNext",value:function(){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(et);function qv(t,e){return"function"==typeof e?function(n){return n.pipe(qv(function(n,i){return J(t(n,i)).pipe(U(function(t,r){return e(n,t,i,r)}))}))}:function(e){return e.lift(new Yv(t))}}var Uv,Kv,Wv,Gv,Zv,Qv,Xv,Yv=function(){function t(e){m(this,t),this.project=e}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new $v(t,this.project))}}]),t}(),$v=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).project=i,r.index=0,r}return _(n,[{key:"_next",value:function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(i){return void this.destination.error(i)}this._innerSub(e)}},{key:"_innerSub",value:function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new tt(this),i=this.destination;i.add(n),this.innerSubscription=nt(t,n),this.innerSubscription!==n&&i.add(this.innerSubscription)}},{key:"_complete",value:function(){var t=this.innerSubscription;t&&!t.closed||u(y(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=void 0}},{key:"notifyComplete",value:function(){this.innerSubscription=void 0,this.isStopped&&u(y(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(t){this.destination.next(t)}}]),n}(et),Jv=((Zv=function(){function t(e,n,i){m(this,t),this.kind=e,this.value=n,this.error=i,this.hasValue="N"===e}return _(t,[{key:"observe",value:function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}},{key:"do",value:function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}},{key:"accept",value:function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return Cl(this.value);case"E":return t=this.error,new N(function(e){return e.error(t)});case"C":return Th()}var t;throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification}},{key:"createError",value:function(e){return new t("E",void 0,e)}},{key:"createComplete",value:function(){return t.completeNotification}}]),t}()).completeNotification=new Zv("C"),Zv.undefinedValueNotification=new Zv("N",void 0),Zv),ty=((Gv=function(){function t(e,n,i){m(this,t),this._ngZone=e,this._platform=n,this._scrolled=new H,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}return _(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(function(){return e._scrolled.next(t)}))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new N(function(n){t._globalSubscription||t._addGlobalListener();var i=e>0?t._scrolled.pipe(Vv(e)).subscribe(n):t._scrolled.subscribe(n);return t._scrolledCount++,function(){i.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}}):Cl()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach(function(e,n){return t.deregister(n)}),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var n=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(El(function(t){return!t||n.indexOf(t)>-1}))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,n=[];return this.scrollContainers.forEach(function(i,r){e._scrollableContainsElement(r,t)&&n.push(r)}),n}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var n=Lh(e),i=t.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular(function(){return Iv(t._getWindow().document,"scroll").subscribe(function(){return t._scrolled.next()})})}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}()).\u0275fac=function(t){return new(t||Gv)(vi(bu),vi(zh),vi(Xu,8))},Gv.\u0275prov=At({factory:function(){return new Gv(vi(bu),vi(zh),vi(Xu,8))},token:Gv,providedIn:"root"}),Gv),ey=((Wv=function(){function t(e,n,i){var r=this;m(this,t),this._platform=e,this._change=new H,this._changeListener=function(t){r._change.next(t)},this._document=i,n.runOutsideAngular(function(){if(e.isBrowser){var t=r._getWindow();t.addEventListener("resize",r._changeListener),t.addEventListener("orientationchange",r._changeListener)}r.change().subscribe(function(){return r._updateViewportSize()})})}return _(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),n=e.width,i=e.height;return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+n,height:i,width:n}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._document,e=this._getWindow(),n=t.documentElement,i=n.getBoundingClientRect();return{top:-i.top||t.body.scrollTop||e.scrollY||n.scrollTop||0,left:-i.left||t.body.scrollLeft||e.scrollX||n.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Vv(t)):this._change}},{key:"_getWindow",value:function(){return this._document.defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}()).\u0275fac=function(t){return new(t||Wv)(vi(zh),vi(bu),vi(Xu,8))},Wv.\u0275prov=At({factory:function(){return new Wv(vi(zh),vi(bu),vi(Xu,8))},token:Wv,providedIn:"root"}),Wv),ny=((Kv=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Kv)},Kv.\u0275mod=he({type:Kv}),Kv.\u0275inj=Rt({}),Kv),iy=((Uv=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Uv)},Uv.\u0275mod=he({type:Uv}),Uv.\u0275inj=Rt({imports:[[lf,qh,ny],lf,ny]}),Uv),ry=function(){function t(){m(this,t)}return _(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"isAttached",get:function(){return null!=this._attachedHost}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}}]),t}(),oy=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this)).component=t,s.viewContainerRef=i,s.injector=r,s.componentFactoryResolver=o,s}return _(n)}(ry),sy=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this)).templateRef=t,o.viewContainerRef=i,o.context=r,o}return _(n,[{key:"origin",get:function(){return this.templateRef.elementRef}},{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,u(y(n.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,u(y(n.prototype),"detach",this).call(this)}}]),n}(ry),ay=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).element=t instanceof js?t.nativeElement:t,i}return _(n)}(ry),uy=function(){function t(){m(this,t),this._isDisposed=!1,this.attachDomPortal=null}return _(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof oy?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof sy?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof ay?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),cy=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s){var a,c;return m(this,n),(c=e.call(this)).outletElement=t,c._componentFactoryResolver=i,c._appRef=r,c._defaultInjector=o,c.attachDomPortal=function(t){var e=t.element,i=c._document.createComment("dom-portal");e.parentNode.insertBefore(i,e),c.outletElement.appendChild(e),c._attachedPortal=t,u((a=p(c),y(n.prototype)),"setDisposeFn",a).call(a,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},c._document=s,c}return _(n,[{key:"attachComponentPortal",value:function(t){var e,n=this,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(i,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn(function(){return e.destroy()})):(e=i.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn(function(){n._appRef.detachView(e.hostView),e.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(e)),this._attachedPortal=t,e}},{key:"attachTemplatePortal",value:function(t){var e=this,n=t.viewContainerRef,i=n.createEmbeddedView(t.templateRef,t.context);return i.rootNodes.forEach(function(t){return e.outletElement.appendChild(t)}),i.detectChanges(),this.setDisposeFn(function(){var t=n.indexOf(i);-1!==t&&n.remove(t)}),this._attachedPortal=t,i}},{key:"dispose",value:function(){u(y(n.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),n}(uy),ly=((Xv=function(t){l(n,t);var e=f(n);function n(t,i,r){var o,s;return m(this,n),(s=e.call(this))._componentFactoryResolver=t,s._viewContainerRef=i,s._isInitialized=!1,s.attached=new ja,s.attachDomPortal=function(t){var e=t.element,i=s._document.createComment("dom-portal");t.setAttachedHost(p(s)),e.parentNode.insertBefore(i,e),s._getRootNode().appendChild(e),s._attachedPortal=t,u((o=p(s),y(n.prototype)),"setDisposeFn",o).call(o,function(){i.parentNode&&i.parentNode.replaceChild(e,i)})},s._document=r,s}return _(n,[{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&u(y(n.prototype),"detach",this).call(this),t&&u(y(n.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}},{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){u(y(n.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,i=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),r=e.createComponent(i,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(r.hostView.rootNodes[0]),u(y(n.prototype),"setDisposeFn",this).call(this,function(){return r.destroy()}),this._attachedPortal=t,this._attachedRef=r,this.attached.emit(r),r}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var i=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return u(y(n.prototype),"setDisposeFn",this).call(this,function(){return e._viewContainerRef.clear()}),this._attachedPortal=t,this._attachedRef=i,this.attached.emit(i),i}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}}]),n}(uy)).\u0275fac=function(t){return new(t||Xv)(zo(Ds),zo(ka),zo(Xu))},Xv.\u0275dir=de({type:Xv,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[Ao]}),Xv),hy=((Qv=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Qv)},Qv.\u0275mod=he({type:Qv}),Qv.\u0275inj=Rt({}),Qv),fy=function(){if(null==jh){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return jh=!1;if("scrollBehavior"in document.documentElement.style)jh=!0;else{var t=Element.prototype.scrollTo;jh=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return jh}(),dy=function(){function t(e,n){m(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=n}return _(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Nh(-this._previousScrollPosition.left),t.style.top=Nh(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,n=this._document.body.style,i=e.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),fy&&(e.scrollBehavior=n.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),fy&&(e.scrollBehavior=i,n.scrollBehavior=r)}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),py=function(){function t(e,n,i,r){var o=this;m(this,t),this._scrollDispatcher=e,this._ngZone=n,this._viewportRuler=i,this._config=r,this._scrollSubscription=null,this._detach=function(){o.disable(),o._overlayRef.hasAttached()&&o._ngZone.run(function(){return o._overlayRef.detach()})}}return _(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),vy=function(){function t(){m(this,t)}return _(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function yy(t,e){return e.some(function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right})}function my(t,e){return e.some(function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right})}var gy,_y,wy,ky,by,Cy=function(){function t(e,n,i,r){m(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this._config=r,this._scrollSubscription=null}return _(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),n=t._viewportRuler.getViewportSize(),i=n.width,r=n.height;yy(e,[{width:i,height:r,bottom:r,right:i,top:0,left:0}])&&(t.disable(),t._ngZone.run(function(){return t._overlayRef.detach()}))}}))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),Ey=((gy=_(function t(e,n,i,r){var o=this;m(this,t),this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=i,this.noop=function(){return new vy},this.close=function(t){return new py(o._scrollDispatcher,o._ngZone,o._viewportRuler,t)},this.block=function(){return new dy(o._viewportRuler,o._document)},this.reposition=function(t){return new Cy(o._scrollDispatcher,o._viewportRuler,o._ngZone,t)},this._document=r})).\u0275fac=function(t){return new(t||gy)(vi(ty),vi(ey),vi(bu),vi(Xu))},gy.\u0275prov=At({factory:function(){return new gy(vi(ty),vi(ey),vi(bu),vi(Xu))},token:gy,providedIn:"root"}),gy),Sy=_(function t(e){if(m(this,t),this.scrollStrategy=new vy,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];void 0!==e[r]&&(this[r]=e[r])}}),xy=_(function t(e,n,i,r,o){m(this,t),this.offsetX=i,this.offsetY=r,this.panelClass=o,this.originX=e.originX,this.originY=e.originY,this.overlayX=n.overlayX,this.overlayY=n.overlayY}),Ty=_(function t(e,n){m(this,t),this.connectionPair=e,this.scrollableViewProperties=n}),My=((ky=function(){function t(e){m(this,t),this._attachedOverlays=[],this._document=e}return _(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}()).\u0275fac=function(t){return new(t||ky)(vi(Xu))},ky.\u0275prov=At({factory:function(){return new ky(vi(Xu))},token:ky,providedIn:"root"}),ky),Ay=((wy=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,t))._keydownListener=function(t){for(var e=i._attachedOverlays,n=e.length-1;n>-1;n--)if(e[n]._keydownEvents.observers.length>0){e[n]._keydownEvents.next(t);break}},i}return _(n,[{key:"add",value:function(t){u(y(n.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),n}(My)).\u0275fac=function(t){return new(t||wy)(vi(Xu))},wy.\u0275prov=At({factory:function(){return new wy(vi(Xu))},token:wy,providedIn:"root"}),wy),Ry=((_y=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t))._platform=i,r._cursorStyleIsSet=!1,r._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,n=r._attachedOverlays.slice(),i=n.length-1;i>-1;i--){var o=n[i];if(!(o._outsidePointerEvents.observers.length<1)&&o.hasAttached()){if(o.overlayElement.contains(e))break;o._outsidePointerEvents.next(t)}}},r}return _(n,[{key:"add",value:function(t){if(u(y(n.prototype),"add",this).call(this,t),!this._isAttached){var e=this._document.body;e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=e.style.cursor,e.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}},{key:"detach",value:function(){if(this._isAttached){var t=this._document.body;t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}}]),n}(My)).\u0275fac=function(t){return new(t||_y)(vi(Xu),vi(zh))},_y.\u0275prov=At({factory:function(){return new _y(vi(Xu),vi(zh))},token:_y,providedIn:"root"}),_y),Oy=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),Py=((by=function(){function t(e,n){m(this,t),this._platform=n,this._document=e}return _(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){if(this._platform.isBrowser||Oy)for(var t=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]'),e=0;e<t.length;e++)t[e].parentNode.removeChild(t[e]);var n=this._document.createElement("div");n.classList.add("cdk-overlay-container"),Oy?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}()).\u0275fac=function(t){return new(t||by)(vi(Xu),vi(zh))},by.\u0275prov=At({factory:function(){return new by(vi(Xu),vi(zh))},token:by,providedIn:"root"}),by),Iy=function(){function t(e,n,i,r,o,s,a,u,c){var l=this;m(this,t),this._portalOutlet=e,this._host=n,this._pane=i,this._config=r,this._ngZone=o,this._keyboardDispatcher=s,this._document=a,this._location=u,this._outsideClickDispatcher=c,this._backdropElement=null,this._backdropClick=new H,this._attachments=new H,this._detachments=new H,this._locationChanges=T.EMPTY,this._backdropClickHandler=function(t){return l._backdropClick.next(t)},this._keydownEvents=new H,this._outsidePointerEvents=new H,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}return _(t,[{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}},{key:"attach",value:function(t){var e=this,n=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Mh(1)).subscribe(function(){e.hasAttached()&&e.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(function(){return e.dispose()})),this._outsideClickDispatcher.add(this),n}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Nh(this._config.width),t.height=Nh(this._config.height),t.minWidth=Nh(this._config.minWidth),t.minHeight=Nh(this._config.minHeight),t.maxWidth=Nh(this._config.maxWidth),t.maxHeight=Nh(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"":"none"}},{key:"_attachBackdrop",value:function(){var t=this;this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(function(){requestAnimationFrame(function(){t._backdropElement&&t._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t,e=this,n=this._backdropElement;if(n){var i=function i(){n&&(n.removeEventListener("click",e._backdropClickHandler),n.removeEventListener("transitionend",i),n.parentNode&&n.parentNode.removeChild(n)),e._backdropElement==n&&(e._backdropElement=null),e._config.backdropClass&&e._toggleClasses(n,e._config.backdropClass,!1),clearTimeout(t)};n.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(function(){n.addEventListener("transitionend",i)}),n.style.pointerEvents="none",t=this._ngZone.runOutsideAngular(function(){return setTimeout(i,500)})}}},{key:"_toggleClasses",value:function(t,e,n){var i=t.classList;Dh(e).forEach(function(t){t&&(n?i.add(t):i.remove(t))})}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular(function(){var e=t._ngZone.onStable.pipe(Bv(ut(t._attachments,t._detachments))).subscribe(function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())})})}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}}]),t}(),Dy=/([A-Za-z%]+)$/,Ny=function(){function t(e,n,i,r,o){m(this,t),this._viewportRuler=n,this._document=i,this._platform=r,this._overlayContainer=o,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new H,this._resizeSubscription=T.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return _(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(function(){e._isInitialRender=!0,e.apply()})}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,i=this._originRect,r=this._overlayRect,o=this._viewportRect,s=[],a=n(this._preferredPositions);try{for(a.s();!(e=a.n()).done;){var u=e.value,c=this._getOriginPoint(i,u),l=this._getOverlayPoint(c,r,u),h=this._getOverlayFit(l,r,o,u);if(h.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(u,c);this._canFitWithFlexibleDimensions(h,l,o)?s.push({position:u,origin:c,overlayRect:r,boundingBoxRect:this._calculateBoundingBoxRect(c,u)}):(!t||t.overlayFit.visibleArea<h.visibleArea)&&(t={overlayFit:h,overlayPoint:l,originPoint:c,position:u,overlayRect:r})}}catch(g){a.e(g)}finally{a.f()}if(s.length){var f,d=null,p=-1,v=n(s);try{for(v.s();!(f=v.n()).done;){var y=f.value,m=y.boundingBoxRect.width*y.boundingBoxRect.height*(y.position.weight||1);m>p&&(p=m,d=y)}}catch(g){v.e(g)}finally{v.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&Ly(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var n;if("center"==e.originX)n=t.left+t.width/2;else{var i=this._isRtl()?t.right:t.left,r=this._isRtl()?t.left:t.right;n="start"==e.originX?i:r}return{x:n,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,n){var i,r;return i="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,r="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:t.x+i,y:t.y+r}}},{key:"_getOverlayFit",value:function(t,e,n,i){var r=jy(e),o=t.x,s=t.y,a=this._getOffset(i,"x"),u=this._getOffset(i,"y");a&&(o+=a),u&&(s+=u);var c=0-s,l=s+r.height-n.height,h=this._subtractOverflows(r.width,0-o,o+r.width-n.width),f=this._subtractOverflows(r.height,c,l),d=h*f;return{visibleArea:d,isCompletelyWithinViewport:r.width*r.height===d,fitsInViewportVertically:f===r.height,fitsInViewportHorizontally:h==r.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,n){if(this._hasFlexibleDimensions){var i=n.bottom-e.y,r=n.right-e.x,o=Fy(this._overlayRef.getConfig().minHeight),s=Fy(this._overlayRef.getConfig().minWidth),a=t.fitsInViewportHorizontally||null!=s&&s<=r;return(t.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var i,r,o=jy(e),s=this._viewportRect,a=Math.max(t.x+o.width-s.width,0),u=Math.max(t.y+o.height-s.height,0),c=Math.max(s.top-n.top-t.y,0),l=Math.max(s.left-n.left-t.x,0);return i=o.width<=s.width?l||-a:t.x<this._viewportMargin?s.left-n.left-t.x:0,r=o.height<=s.height?c||-u:t.y<this._viewportMargin?s.top-n.top-t.y:0,this._previousPushAmount={x:i,y:r},{x:t.x+i,y:t.y+r}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var n=this._getScrollVisibility(),i=new Ty(t,n);this._positionChanges.next(i)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,n=this._boundingBox.querySelectorAll(this._transformOriginSelector),i=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var r=0;r<n.length;r++)n[r].style.transformOrigin="".concat(e," ").concat(i)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var n,i,r,o,s,a,u=this._viewportRect,c=this._isRtl();if("top"===e.overlayY)i=t.y,n=u.height-i+this._viewportMargin;else if("bottom"===e.overlayY)r=u.height-t.y+2*this._viewportMargin,n=u.height-r+this._viewportMargin;else{var l=Math.min(u.bottom-t.y+u.top,t.y),h=this._lastBoundingBoxSize.height;n=2*l,i=t.y-l,n>h&&!this._isInitialRender&&!this._growAfterOpen&&(i=t.y-h/2)}if("end"===e.overlayX&&!c||"start"===e.overlayX&&c)a=u.width-t.x+this._viewportMargin,o=t.x-this._viewportMargin;else if("start"===e.overlayX&&!c||"end"===e.overlayX&&c)s=t.x,o=u.right-t.x;else{var f=Math.min(u.right-t.x+u.left,t.x),d=this._lastBoundingBoxSize.width;o=2*f,s=t.x-f,o>d&&!this._isInitialRender&&!this._growAfterOpen&&(s=t.x-d/2)}return{top:i,left:s,bottom:r,right:a,width:o,height:n}}},{key:"_setBoundingBoxStyles",value:function(t,e){var n=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));var i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{var r=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;i.height=Nh(n.height),i.top=Nh(n.top),i.bottom=Nh(n.bottom),i.width=Nh(n.width),i.left=Nh(n.left),i.right=Nh(n.right),i.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",i.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",r&&(i.maxHeight=Nh(r)),o&&(i.maxWidth=Nh(o))}this._lastBoundingBoxSize=n,Ly(this._boundingBox.style,i)}},{key:"_resetBoundingBoxStyles",value:function(){Ly(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){Ly(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){var s=this._viewportRuler.getViewportScrollPosition();Ly(n,this._getExactOverlayY(e,t,s)),Ly(n,this._getExactOverlayX(e,t,s))}else n.position="static";var a="",u=this._getOffset(e,"x"),c=this._getOffset(e,"y");u&&(a+="translateX(".concat(u,"px) ")),c&&(a+="translateY(".concat(c,"px)")),n.transform=a.trim(),o.maxHeight&&(i?n.maxHeight=Nh(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=Nh(o.maxWidth):r&&(n.maxWidth="")),Ly(this._pane.style,n)}},{key:"_getExactOverlayY",value:function(t,e,n){var i={top:"",bottom:""},r=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));var o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===t.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=Nh(r.y),i}},{key:"_getExactOverlayX",value:function(t,e,n){var i={left:"",right:""},r=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n)),"right"===(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?i.right=this._document.documentElement.clientWidth-(r.x+this._overlayRect.width)+"px":i.left=Nh(r.x),i}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(function(t){return t.getElementRef().nativeElement.getBoundingClientRect()});return{isOriginClipped:my(t,n),isOriginOutsideView:yy(t,n),isOverlayClipped:my(e,n),isOverlayOutsideView:yy(e,n)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.reduce(function(t,e){return t-Math.max(e,0)},t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+t-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Dh(t).forEach(function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))})}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach(function(e){t._pane.classList.remove(e)}),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof js)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,n=t.height||0;return{top:t.y,bottom:t.y+n,left:t.x,right:t.x+e,height:n,width:e}}}]),t}();function Ly(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Fy(t){if("number"!=typeof t&&null!=t){var n=e(t.split(Dy),2),i=n[0],r=n[1];return r&&"px"!==r?null:parseFloat(i)}return t||null}function jy(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}var Vy,By,Hy,zy=function(){function t(e,n,i,r,o,s,a){m(this,t),this._preferredPositions=[],this._positionStrategy=new Ny(i,r,o,s,a).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,n),this.onPositionChange=this._positionStrategy.positionChanges}return _(t,[{key:"positions",get:function(){return this._preferredPositions}},{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,n,i){var r=new xy(t,e,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}}]),t}(),qy=function(){function t(){m(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return _(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),i=n.width,r=n.height,o=n.maxWidth,s=n.maxHeight,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);t.position=this._cssPosition,t.marginLeft=a?"0":this._leftOffset,t.marginTop=u?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,a?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=u?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Uy=((By=function(){function t(e,n,i,r){m(this,t),this._viewportRuler=e,this._document=n,this._platform=i,this._overlayContainer=r}return _(t,[{key:"global",value:function(){return new qy}},{key:"connectedTo",value:function(t,e,n){return new zy(e,n,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new Ny(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}()).\u0275fac=function(t){return new(t||By)(vi(ey),vi(Xu),vi(zh),vi(Py))},By.\u0275prov=At({factory:function(){return new By(vi(ey),vi(Xu),vi(zh),vi(Py))},token:By,providedIn:"root"}),By),Ky=0,Wy=((Vy=function(){function t(e,n,i,r,o,s,a,u,c,l,h){m(this,t),this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=i,this._positionBuilder=r,this._keyboardDispatcher=o,this._injector=s,this._ngZone=a,this._document=u,this._directionality=c,this._location=l,this._outsideClickDispatcher=h}return _(t,[{key:"create",value:function(t){var e=this._createHostElement(),n=this._createPaneElement(e),i=this._createPortalOutlet(n),r=new Sy(t);return r.direction=r.direction||this._directionality.value,new Iy(i,e,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-"+Ky++,e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(zu)),new cy(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}()).\u0275fac=function(t){return new(t||Vy)(vi(Ey),vi(Py),vi(Ds),vi(Uy),vi(Ay),vi(To),vi(bu),vi(Xu),vi(cf),vi(dc),vi(Ry))},Vy.\u0275prov=At({token:Vy,factory:Vy.\u0275fac}),Vy),Gy={provide:new ei("cdk-connected-overlay-scroll-strategy"),deps:[Wy],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},Zy=((Hy=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Hy)},Hy.\u0275mod=he({type:Hy}),Hy.\u0275inj=Rt({providers:[Wy,Gy],imports:[[lf,hy,iy],iy]}),Hy),Qy=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"notifyNext",value:function(t,e,n,i,r){this.destination.next(e)}},{key:"notifyError",value:function(t,e){this.destination.error(t)}},{key:"notifyComplete",value:function(t){this.destination.complete()}}]),n}(R),Xy=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this)).parent=t,o.outerValue=i,o.outerIndex=r,o.index=0,o}return _(n,[{key:"_next",value:function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}},{key:"_error",value:function(t){this.parent.notifyError(t,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(R);function Yy(t,e,n,i){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new Xy(t,n,i);if(!r.closed)return e instanceof N?e.subscribe(r):Y(e)(r)}var $y,Jy,tm={},em=function(){function t(e){m(this,t),this.resultSelector=e}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new nm(t,this.resultSelector))}}]),t}(),nm=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).resultSelector=i,r.active=0,r.values=[],r.observables=[],r}return _(n,[{key:"_next",value:function(t){this.values.push(tm),this.observables.push(t)}},{key:"_complete",value:function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++)this.add(Yy(this,t[n],void 0,n))}}},{key:"notifyComplete",value:function(t){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(t,e,n){var i=this.values,r=this.toRespond?i[n]===tm?--this.toRespond:this.toRespond:0;i[n]=e,0===r&&(this.resultSelector?this._tryResultSelector(i):this.destination.next(i.slice()))}},{key:"_tryResultSelector",value:function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}]),n}(Qy),im=function(){function t(e){m(this,t),this.total=e}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new rm(t,this.total))}}]),t}(),rm=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).total=i,r.count=0,r}return _(n,[{key:"_next",value:function(t){++this.count>this.total&&this.destination.next(t)}}]),n}(R),om=new Set,sm=((Jy=function(){function t(e){m(this,t),this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):am}return _(t,[{key:"matchMedia",value:function(t){return this._platform.WEBKIT&&function(t){if(!om.has(t))try{$y||(($y=document.createElement("style")).setAttribute("type","text/css"),document.head.appendChild($y)),$y.sheet&&($y.sheet.insertRule("@media ".concat(t," {.fx-query-test{ }}"),0),om.add(t))}catch(e){console.error(e)}}(t),this._matchMedia(t)}}]),t}()).\u0275fac=function(t){return new(t||Jy)(vi(zh))},Jy.\u0275prov=At({factory:function(){return new Jy(vi(zh))},token:Jy,providedIn:"root"}),Jy);function am(t){return{matches:"all"===t||""===t,media:t,addListener:function(){},removeListener:function(){}}}var um,cm=((um=function(){function t(e,n){m(this,t),this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new H}return _(t,[{key:"ngOnDestroy",value:function(){this._destroySubject.next(),this._destroySubject.complete()}},{key:"isMatched",value:function(t){var e=this;return lm(Dh(t)).some(function(t){return e._registerQuery(t).mql.matches})}},{key:"observe",value:function(t){var e=this,n=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i,r;return q(e[e.length-1])&&(r=e.pop()),"function"==typeof e[e.length-1]&&(i=e.pop()),1===e.length&&C(e[0])&&(e=e[0]),at(e,r).lift(new em(i))}(lm(Dh(t)).map(function(t){return e._registerQuery(t).observable}));return(n=ff(n.pipe(Mh(1)),n.pipe(function(t){return t.lift(new im(1))},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kh;return function(n){return n.lift(new bh(t,e))}}(0)))).pipe(U(function(t){var e={matches:!1,breakpoints:{}};return t.forEach(function(t){var n=t.matches,i=t.query;e.matches=e.matches||n,e.breakpoints[i]=n}),e}))}},{key:"_registerQuery",value:function(t){var e=this;if(this._queries.has(t))return this._queries.get(t);var n=this._mediaMatcher.matchMedia(t),i={observable:new N(function(t){var i=function(n){return e._zone.run(function(){return t.next(n)})};return n.addListener(i),function(){n.removeListener(i)}}).pipe(df(n),U(function(e){var n=e.matches;return{query:t,matches:n}}),Bv(this._destroySubject)),mql:n};return this._queries.set(t,i),i}}]),t}()).\u0275fac=function(t){return new(t||um)(vi(sm),vi(bu))},um.\u0275prov=At({factory:function(){return new um(vi(sm),vi(bu))},token:um,providedIn:"root"}),um);function lm(t){return t.map(function(t){return t.split(",")}).reduce(function(t,e){return t.concat(e)}).map(function(t){return t.trim()})}function hm(t,e){if(1&t){var n=Zo();Ko(0,"div",1),Ko(1,"button",2),Xo("click",function(){return Ze(n),es().action()}),ps(2),Wo(),Wo()}if(2&t){var i=es();vr(2),vs(i.data.action)}}function fm(t,e){}var dm,pm,vm,ym,mm=new ei("MatSnackBarData"),gm=_(function t(){m(this,t),this.politeness="assertive",this.announcementMessage="",this.duration=0,this.data=null,this.horizontalPosition="center",this.verticalPosition="bottom"}),_m=Math.pow(2,31)-1,wm=function(){function t(e,n){var i=this;m(this,t),this._overlayRef=n,this._afterDismissed=new H,this._afterOpened=new H,this._onAction=new H,this._dismissedByAction=!1,this.containerInstance=e,this.onAction().subscribe(function(){return i.dismiss()}),e._onExit.subscribe(function(){return i._finishDismiss()})}return _(t,[{key:"dismiss",value:function(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}},{key:"dismissWithAction",value:function(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete()),clearTimeout(this._durationTimeoutId)}},{key:"closeWithAction",value:function(){this.dismissWithAction()}},{key:"_dismissAfter",value:function(t){var e=this;this._durationTimeoutId=setTimeout(function(){return e.dismiss()},Math.min(t,_m))}},{key:"_open",value:function(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}},{key:"_finishDismiss",value:function(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}},{key:"afterDismissed",value:function(){return this._afterDismissed}},{key:"afterOpened",value:function(){return this.containerInstance._onEnter}},{key:"onAction",value:function(){return this._onAction}}]),t}(),km=((dm=function(){function t(e,n){m(this,t),this.snackBarRef=e,this.data=n}return _(t,[{key:"action",value:function(){this.snackBarRef.dismissWithAction()}},{key:"hasAction",get:function(){return!!this.data.action}}]),t}()).\u0275fac=function(t){return new(t||dm)(zo(wm),zo(mm))},dm.\u0275cmp=ae({type:dm,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-simple-snackbar"],decls:3,vars:2,consts:[["class","mat-simple-snackbar-action",4,"ngIf"],[1,"mat-simple-snackbar-action"],["mat-button","",3,"click"]],template:function(t,e){1&t&&(Ko(0,"span"),ps(1),Wo(),Ho(2,hm,3,1,"div",0)),2&t&&(vr(1),vs(e.data.message),vr(1),qo("ngIf",e.hasAction))},directives:[xc,yv],styles:[".mat-simple-snackbar{display:flex;justify-content:space-between;align-items:center;line-height:20px;opacity:1}.mat-simple-snackbar-action{flex-shrink:0;margin:-8px -8px -8px 8px}.mat-simple-snackbar-action button{max-height:36px;min-width:0}[dir=rtl] .mat-simple-snackbar-action{margin-left:-8px;margin-right:8px}\n"],encapsulation:2,changeDetection:0}),dm),bm={snackBarState:vf("state",[wf("void, hidden",_f({transform:"scale(0.8)",opacity:0})),wf("visible",_f({transform:"scale(1)",opacity:1})),bf("* => visible",yf("150ms cubic-bezier(0, 0, 0.2, 1)")),bf("* => void, * => hidden",yf("75ms cubic-bezier(0.4, 0.0, 1, 1)",_f({opacity:0})))])},Cm=((vm=function(t){l(n,t);var e=f(n);function n(t,i,r,o,s){var a;return m(this,n),(a=e.call(this))._ngZone=t,a._elementRef=i,a._changeDetectorRef=r,a._platform=o,a.snackBarConfig=s,a._announceDelay=150,a._destroyed=!1,a._onAnnounce=new H,a._onExit=new H,a._onEnter=new H,a._animationState="void",a.attachDomPortal=function(t){return a._assertNotAttached(),a._applySnackBarClasses(),a._portalOutlet.attachDomPortal(t)},a._live="assertive"!==s.politeness||s.announcementMessage?"off"===s.politeness?"off":"polite":"assertive",a._platform.FIREFOX&&("polite"===a._live&&(a._role="status"),"assertive"===a._live&&(a._role="alert")),a}return _(n,[{key:"attachComponentPortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._assertNotAttached(),this._applySnackBarClasses(),this._portalOutlet.attachTemplatePortal(t)}},{key:"onAnimationEnd",value:function(t){var e=t.fromState,n=t.toState;if(("void"===n&&"void"!==e||"hidden"===n)&&this._completeExit(),"visible"===n){var i=this._onEnter;this._ngZone.run(function(){i.next(),i.complete()})}}},{key:"enter",value:function(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce())}},{key:"exit",value:function(){return this._animationState="hidden",this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._onExit}},{key:"ngOnDestroy",value:function(){this._destroyed=!0,this._completeExit()}},{key:"_completeExit",value:function(){var t=this;this._ngZone.onMicrotaskEmpty.pipe(Mh(1)).subscribe(function(){t._onExit.next(),t._onExit.complete()})}},{key:"_applySnackBarClasses",value:function(){var t=this._elementRef.nativeElement,e=this.snackBarConfig.panelClass;e&&(Array.isArray(e)?e.forEach(function(e){return t.classList.add(e)}):t.classList.add(e)),"center"===this.snackBarConfig.horizontalPosition&&t.classList.add("mat-snack-bar-center"),"top"===this.snackBarConfig.verticalPosition&&t.classList.add("mat-snack-bar-top")}},{key:"_assertNotAttached",value:function(){this._portalOutlet.hasAttached()}},{key:"_screenReaderAnnounce",value:function(){var t=this;this._announceTimeoutId||this._ngZone.runOutsideAngular(function(){t._announceTimeoutId=setTimeout(function(){var e=t._elementRef.nativeElement.querySelector("[aria-hidden]"),n=t._elementRef.nativeElement.querySelector("[aria-live]");if(e&&n){var i=null;t._platform.isBrowser&&document.activeElement instanceof HTMLElement&&e.contains(document.activeElement)&&(i=document.activeElement),e.removeAttribute("aria-hidden"),n.appendChild(e),null==i||i.focus(),t._onAnnounce.next(),t._onAnnounce.complete()}},t._announceDelay)})}}]),n}(uy)).\u0275fac=function(t){return new(t||vm)(zo(bu),zo(js),zo(la),zo(zh),zo(gm))},vm.\u0275cmp=ae({type:vm,selectors:[["snack-bar-container"]],viewQuery:function(t,e){var n;1&t&&Ya(ly,3),2&t&&Xa(n=$a())&&(e._portalOutlet=n.first)},hostAttrs:[1,"mat-snack-bar-container"],hostVars:1,hostBindings:function(t,e){1&t&&Yo("@state.done",function(t){return e.onAnimationEnd(t)}),2&t&&ms("@state",e._animationState)},features:[Ao],decls:3,vars:2,consts:[["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(t,e){1&t&&(Ko(0,"div",0),Ho(1,fm,0,0,"ng-template",1),Wo(),Go(2,"div")),2&t&&(vr(2),Bo("aria-live",e._live)("role",e._role))},directives:[ly],styles:[".mat-snack-bar-container{border-radius:4px;box-sizing:border-box;display:block;margin:24px;max-width:33vw;min-width:344px;padding:14px 16px;min-height:48px;transform-origin:center}.cdk-high-contrast-active .mat-snack-bar-container{border:solid 1px}.mat-snack-bar-handset{width:100%}.mat-snack-bar-handset .mat-snack-bar-container{margin:8px;max-width:100%;min-width:0;width:100%}\n"],encapsulation:2,data:{animation:[bm.snackBarState]}}),vm),Em=((pm=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||pm)},pm.\u0275mod=he({type:pm}),pm.\u0275inj=Rt({imports:[[Zy,hy,Uc,mv,Qp],Qp]}),pm),Sm=new ei("mat-snack-bar-default-options",{providedIn:"root",factory:function(){return new gm}}),xm=((ym=function(){function t(e,n,i,r,o,s){m(this,t),this._overlay=e,this._live=n,this._injector=i,this._breakpointObserver=r,this._parentSnackBar=o,this._defaultConfig=s,this._snackBarRefAtThisLevel=null,this.simpleSnackBarComponent=km,this.snackBarContainerComponent=Cm,this.handsetCssClass="mat-snack-bar-handset"}return _(t,[{key:"_openedSnackBarRef",get:function(){var t=this._parentSnackBar;return t?t._openedSnackBarRef:this._snackBarRefAtThisLevel},set:function(t){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=t:this._snackBarRefAtThisLevel=t}},{key:"openFromComponent",value:function(t,e){return this._attach(t,e)}},{key:"openFromTemplate",value:function(t,e){return this._attach(t,e)}},{key:"open",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2?arguments[2]:void 0,i=Object.assign(Object.assign({},this._defaultConfig),n);return i.data={message:t,action:e},i.announcementMessage===t&&(i.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,i)}},{key:"dismiss",value:function(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}},{key:"ngOnDestroy",value:function(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}},{key:"_attachSnackBarContainer",value:function(t,e){var n=To.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:gm,useValue:e}]}),i=new oy(this.snackBarContainerComponent,e.viewContainerRef,n),r=t.attach(i);return r.instance.snackBarConfig=e,r.instance}},{key:"_attach",value:function(t,e){var n=this,i=Object.assign(Object.assign(Object.assign({},new gm),this._defaultConfig),e),r=this._createOverlay(i),o=this._attachSnackBarContainer(r,i),s=new wm(o,r);if(t instanceof ya){var a=new sy(t,null,{$implicit:i.data,snackBarRef:s});s.instance=o.attachTemplatePortal(a)}else{var u=this._createInjector(i,s),c=new oy(t,void 0,u),l=o.attachComponentPortal(c);s.instance=l.instance}return this._breakpointObserver.observe("(max-width: 599.98px) and (orientation: portrait)").pipe(Bv(r.detachments())).subscribe(function(t){var e=r.overlayElement.classList;t.matches?e.add(n.handsetCssClass):e.remove(n.handsetCssClass)}),i.announcementMessage&&o._onAnnounce.subscribe(function(){n._live.announce(i.announcementMessage,i.politeness)}),this._animateSnackBar(s,i),this._openedSnackBarRef=s,this._openedSnackBarRef}},{key:"_animateSnackBar",value:function(t,e){var n=this;t.afterDismissed().subscribe(function(){n._openedSnackBarRef==t&&(n._openedSnackBarRef=null),e.announcementMessage&&n._live.clear()}),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(function(){t.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):t.containerInstance.enter(),e.duration&&e.duration>0&&t.afterOpened().subscribe(function(){return t._dismissAfter(e.duration)})}},{key:"_createOverlay",value:function(t){var e=new Sy;e.direction=t.direction;var n=this._overlay.position().global(),i="rtl"===t.direction,r="left"===t.horizontalPosition||"start"===t.horizontalPosition&&!i||"end"===t.horizontalPosition&&i,o=!r&&"center"!==t.horizontalPosition;return r?n.left("0"):o?n.right("0"):n.centerHorizontally(),"top"===t.verticalPosition?n.top("0"):n.bottom("0"),e.positionStrategy=n,this._overlay.create(e)}},{key:"_createInjector",value:function(t,e){return To.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:wm,useValue:e},{provide:mm,useValue:t.data}]})}}]),t}()).\u0275fac=function(t){return new(t||ym)(vi(Wy),vi(Qh),vi(To),vi(cm),vi(ym,12),vi(Sm))},ym.\u0275prov=At({factory:function(){return new ym(vi(Wy),vi(Qh),vi(ho),vi(cm),vi(ym,12),vi(Sm))},token:ym,providedIn:Em}),ym),Tm=c("Vws6"),Mm=c("MCLT");function Am(t){return t?vt(function(){return new H},t):vt(new H)}var Rm=function(){function t(e,n){m(this,t),this.delay=e,this.scheduler=n}return _(t,[{key:"call",value:function(t,e){return e.subscribe(new Om(t,this.delay,this.scheduler))}}]),t}(),Om=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).delay=i,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return _(n,[{key:"_schedule",value:function(t){this.active=!0,this.destination.add(t.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))}},{key:"scheduleNotification",value:function(t){if(!0!==this.errored){var e=this.scheduler,n=new Pm(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}}},{key:"_next",value:function(t){this.scheduleNotification(Jv.createNext(t))}},{key:"_error",value:function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(Jv.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(t){for(var e=t.source,n=e.queue,i=t.scheduler,r=t.destination;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){var o=Math.max(0,n[0].time-i.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1}}]),n}(R),Pm=_(function t(e,n){m(this,t),this.time=e,this.notification=n}),Im=c("mVnp"),Dm=c("8USJ");function Nm(t,e){return function(n,i){e(n,i,t)}}function Lm(t){return null!=t}function Fm(t){return null==t}function jm(t){return t.replace(/([.*+?^=!:${}()|[\]\/\\])/g,"\\$1")}Object.getPrototypeOf({});var Vm=_(function t(e,n,i,r){m(this,t),this.input=n,this.errLocation=i,this.ctxLocation=r,this.message="Parser Error: ".concat(e," ").concat(i," [").concat(n,"] in ").concat(r)}),Bm=_(function t(e,n){m(this,t),this.start=e,this.end=n}),Hm=function(){function t(e){m(this,t),this.span=e}return _(t,[{key:"visit",value:function(t){return null}},{key:"toString",value:function(){return"AST"}}]),t}(),zm=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).prefix=i,s.uninterpretedExpression=r,s.location=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitQuote(this,e)}},{key:"toString",value:function(){return"Quote"}}]),n}(Hm),qm=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"visit",value:function(t){}}]),n}(Hm),Um=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitImplicitReceiver(this,e)}}]),n}(Hm),Km=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).expressions=i,r}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitChain(this,e)}}]),n}(Hm),Wm=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).condition=i,s.trueExp=r,s.falseExp=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitConditional(this,e)}}]),n}(Hm),Gm=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).receiver=i,o.name=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPropertyRead(this,e)}}]),n}(Hm),Zm=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).receiver=i,s.name=r,s.value=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPropertyWrite(this,e)}}]),n}(Hm),Qm=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).receiver=i,o.name=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitSafePropertyRead(this,e)}}]),n}(Hm),Xm=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).obj=i,o.key=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitKeyedRead(this,e)}}]),n}(Hm),Ym=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).obj=i,s.key=r,s.value=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitKeyedWrite(this,e)}}]),n}(Hm),$m=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).exp=i,s.name=r,s.args=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPipe(this,e)}}]),n}(Hm),Jm=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).value=i,r}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralPrimitive(this,e)}}]),n}(Hm),tg=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).expressions=i,r}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralArray(this,e)}}]),n}(Hm),eg=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).keys=i,o.values=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitLiteralMap(this,e)}}]),n}(Hm),ng=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).strings=i,o.expressions=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitInterpolation(this,e)}}]),n}(Hm),ig=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).operation=i,s.left=r,s.right=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitBinary(this,e)}}]),n}(Hm),rg=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,t)).expression=i,r}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitPrefixNot(this,e)}}]),n}(Hm),og=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).receiver=i,s.name=r,s.args=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitMethodCall(this,e)}}]),n}(Hm),sg=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,t)).receiver=i,s.name=r,s.args=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitSafeMethodCall(this,e)}}]),n}(Hm),ag=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t)).target=i,o.args=r,o}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t.visitFunctionCall(this,e)}}]),n}(Hm),ug=function(t){l(n,t);var e=f(n);function n(t,i,r,o){var s;return m(this,n),(s=e.call(this,new Bm(0,Fm(i)?0:i.length))).ast=t,s.source=i,s.location=r,s.errors=o,s}return _(n,[{key:"visit",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.ast.visit(t,e)}},{key:"toString",value:function(){return"".concat(this.source," in ").concat(this.location)}}]),n}(Hm),cg=_(function t(e,n,i,r,o){m(this,t),this.span=e,this.key=n,this.keyIsVar=i,this.name=r,this.expression=o}),lg=function(){function t(){m(this,t)}return _(t,[{key:"visitBinary",value:function(t,e){return t.left.visit(this),t.right.visit(this),null}},{key:"visitChain",value:function(t,e){return this.visitAll(t.expressions,e)}},{key:"visitConditional",value:function(t,e){return t.condition.visit(this),t.trueExp.visit(this),t.falseExp.visit(this),null}},{key:"visitPipe",value:function(t,e){return t.exp.visit(this),this.visitAll(t.args,e),null}},{key:"visitFunctionCall",value:function(t,e){return t.target.visit(this),this.visitAll(t.args,e),null}},{key:"visitImplicitReceiver",value:function(t,e){return null}},{key:"visitInterpolation",value:function(t,e){return this.visitAll(t.expressions,e)}},{key:"visitKeyedRead",value:function(t,e){return t.obj.visit(this),t.key.visit(this),null}},{key:"visitKeyedWrite",value:function(t,e){return t.obj.visit(this),t.key.visit(this),t.value.visit(this),null}},{key:"visitLiteralArray",value:function(t,e){return this.visitAll(t.expressions,e)}},{key:"visitLiteralMap",value:function(t,e){return this.visitAll(t.values,e)}},{key:"visitLiteralPrimitive",value:function(t,e){return null}},{key:"visitMethodCall",value:function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)}},{key:"visitPrefixNot",value:function(t,e){return t.expression.visit(this),null}},{key:"visitPropertyRead",value:function(t,e){return t.receiver.visit(this),null}},{key:"visitPropertyWrite",value:function(t,e){return t.receiver.visit(this),t.value.visit(this),null}},{key:"visitSafePropertyRead",value:function(t,e){return t.receiver.visit(this),null}},{key:"visitSafeMethodCall",value:function(t,e){return t.receiver.visit(this),this.visitAll(t.args,e)}},{key:"visitAll",value:function(t,e){var n=this;return t.forEach(function(t){return t.visit(n,e)}),null}},{key:"visitQuote",value:function(t,e){return null}}]),t}();function hg(t){return 48<=t&&t<=57}var fg=new(function(){function t(e,n){m(this,t),this.start=e,this.end=n}return _(t,null,[{key:"fromArray",value:function(e){return e?(function(t,e){if(Lm(e)&&(!Array.isArray(e)||2!=e.length))throw new Error("Expected 'interpolation' to be an array, [start, end].")}(0,e),new t(e[0],e[1])):fg}}]),t}())("{{","}}"),dg=function(t){return t[t.Character=0]="Character",t[t.Identifier=1]="Identifier",t[t.Keyword=2]="Keyword",t[t.String=3]="String",t[t.Operator=4]="Operator",t[t.Number=5]="Number",t[t.Error=6]="Error",t}({}),pg=["var","let","null","undefined","true","false","if","else","this"],vg=function(){function t(){m(this,t)}return _(t,[{key:"tokenize",value:function(t){for(var e=new wg(t),n=[],i=e.scanToken();null!=i;)n.push(i),i=e.scanToken();return n}}]),t}(),yg=function(){function t(e,n,i,r){m(this,t),this.index=e,this.type=n,this.numValue=i,this.strValue=r}return _(t,[{key:"isCharacter",value:function(t){return this.type==dg.Character&&this.numValue==t}},{key:"isNumber",value:function(){return this.type==dg.Number}},{key:"isString",value:function(){return this.type==dg.String}},{key:"isOperator",value:function(t){return this.type==dg.Operator&&this.strValue==t}},{key:"isIdentifier",value:function(){return this.type==dg.Identifier}},{key:"isKeyword",value:function(){return this.type==dg.Keyword}},{key:"isKeywordLet",value:function(){return this.type==dg.Keyword&&"let"==this.strValue}},{key:"isKeywordNull",value:function(){return this.type==dg.Keyword&&"null"==this.strValue}},{key:"isKeywordUndefined",value:function(){return this.type==dg.Keyword&&"undefined"==this.strValue}},{key:"isKeywordTrue",value:function(){return this.type==dg.Keyword&&"true"==this.strValue}},{key:"isKeywordFalse",value:function(){return this.type==dg.Keyword&&"false"==this.strValue}},{key:"isKeywordThis",value:function(){return this.type==dg.Keyword&&"this"==this.strValue}},{key:"isError",value:function(){return this.type==dg.Error}},{key:"toNumber",value:function(){return this.type==dg.Number?this.numValue:-1}},{key:"toString",value:function(){switch(this.type){case dg.Character:case dg.Identifier:case dg.Keyword:case dg.Operator:case dg.String:case dg.Error:return this.strValue;case dg.Number:return this.numValue.toString();default:return null}}}]),t}();function mg(t,e){return new yg(t,dg.Character,e,String.fromCharCode(e))}function gg(t,e){return new yg(t,dg.Operator,0,e)}var _g=new yg(-1,dg.Character,0,""),wg=function(){function t(e){m(this,t),this.input=e,this.peek=0,this.index=-1,this.length=e.length,this.advance()}return _(t,[{key:"advance",value:function(){this.peek=++this.index>=this.length?0:this.input.charCodeAt(this.index)}},{key:"scanToken",value:function(){for(var t=this.input,e=this.length,n=this.peek,i=this.index;n<=32;){if(++i>=e){n=0;break}n=t.charCodeAt(i)}if(this.peek=n,this.index=i,i>=e)return null;if(kg(n))return this.scanIdentifier();if(hg(n))return this.scanNumber(i);var r,o=i;switch(n){case 46:return this.advance(),hg(this.peek)?this.scanNumber(o):mg(o,46);case 40:case 41:case 123:case 125:case 91:case 93:case 44:case 58:case 59:return this.scanCharacter(o,n);case 39:case 34:return this.scanString();case 35:case 43:case 45:case 42:case 47:case 37:case 94:return this.scanOperator(o,String.fromCharCode(n));case 63:return this.scanComplexOperator(o,"?",46,".");case 60:case 62:return this.scanComplexOperator(o,String.fromCharCode(n),61,"=");case 33:case 61:return this.scanComplexOperator(o,String.fromCharCode(n),61,"=",61,"=");case 38:return this.scanComplexOperator(o,"&",38,"&");case 124:return this.scanComplexOperator(o,"|",124,"|");case 160:for(;(r=this.peek)>=9&&r<=32||160==r;)this.advance();return this.scanToken()}return this.advance(),this.error("Unexpected character [".concat(String.fromCharCode(n),"]"),0)}},{key:"scanCharacter",value:function(t,e){return this.advance(),mg(t,e)}},{key:"scanOperator",value:function(t,e){return this.advance(),gg(t,e)}},{key:"scanComplexOperator",value:function(t,e,n,i,r,o){this.advance();var s=e;return this.peek==n&&(this.advance(),s+=i),null!=r&&this.peek==r&&(this.advance(),s+=o),gg(t,s)}},{key:"scanIdentifier",value:function(){var t=this.index;for(this.advance();bg(this.peek);)this.advance();var e=this.input.substring(t,this.index);return pg.indexOf(e)>-1?new yg(t,dg.Keyword,0,e):new yg(t,dg.Identifier,0,e)}},{key:"scanNumber",value:function(t){var e,n=this.index===t;for(this.advance();;){if(hg(this.peek));else if(46==this.peek)n=!1;else{if(101!=(e=this.peek)&&69!=e)break;if(this.advance(),Cg(this.peek)&&this.advance(),!hg(this.peek))return this.error("Invalid exponent",-1);n=!1}this.advance()}var i=this.input.substring(t,this.index),r=n?function(){function t(){m(this,t)}return _(t,null,[{key:"parseIntAutoRadix",value:function(t){var e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}},{key:"isNumeric",value:function(t){return!isNaN(t-parseFloat(t))}}]),t}().parseIntAutoRadix(i):parseFloat(i);return new yg(t,dg.Number,r,"")}},{key:"scanString",value:function(){var t=this.index,e=this.peek;this.advance();for(var n="",i=this.index,r=this.input;this.peek!=e;)if(92==this.peek){var o=void 0;if(n+=r.substring(i,this.index),this.advance(),this.peek=this.peek,117==this.peek){var s=r.substring(this.index+1,this.index+5);if(!/^[0-9a-f]+$/i.test(s))return this.error("Invalid unicode escape [\\u".concat(s,"]"),0);o=parseInt(s,16);for(var a=0;a<5;a++)this.advance()}else o=Eg(this.peek),this.advance();n+=String.fromCharCode(o),i=this.index}else{if(0==this.peek)return this.error("Unterminated quote",0);this.advance()}var u=r.substring(i,this.index);return this.advance(),new yg(t,dg.String,0,n+u)}},{key:"error",value:function(t,e){var n=this.index+e;return function(t,e){return new yg(t,dg.Error,0,e)}(n,"Lexer Error: ".concat(t," at column ").concat(n," in expression [").concat(this.input,"]"))}}]),t}();function kg(t){return 97<=t&&t<=122||65<=t&&t<=90||95==t||36==t}function bg(t){return function(t){return t>=97&&t<=122||t>=65&&t<=90}(t)||hg(t)||95==t||36==t}function Cg(t){return 45==t||43==t}function Eg(t){switch(t){case 110:return 10;case 102:return 12;case 114:return 13;case 116:return 9;case 118:return 11;default:return t}}var Sg=_(function t(e,n,i){m(this,t),this.strings=e,this.expressions=n,this.offsets=i}),xg=_(function t(e,n,i){m(this,t),this.templateBindings=e,this.warnings=n,this.errors=i});function Tg(t){var e=jm(t.start)+"([\\s\\S]*?)"+jm(t.end);return new RegExp(e,"g")}var Mg=function(){function t(e){m(this,t),this._lexer=e,this.errors=[]}return _(t,[{key:"parseAction",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg;this._checkNoInterpolation(t,e,n);var i=this._stripComments(t),r=this._lexer.tokenize(this._stripComments(t)),o=new Ag(t,e,r,i.length,!0,this.errors,t.length-i.length).parseChain();return new ug(o,t,e,this.errors)}},{key:"parseBinding",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg,i=this._parseBindingAst(t,e,n);return new ug(i,t,e,this.errors)}},{key:"parseSimpleBinding",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg,i=this._parseBindingAst(t,e,n),r=Rg.check(i);return r.length>0&&this._reportError("Host binding expression cannot contain ".concat(r.join(" ")),t,e),new ug(i,t,e,this.errors)}},{key:"_reportError",value:function(t,e,n,i){this.errors.push(new Vm(t,e,n,i))}},{key:"_parseBindingAst",value:function(t,e,n){var i=this._parseQuote(t,e);if(Lm(i))return i;this._checkNoInterpolation(t,e,n);var r=this._stripComments(t),o=this._lexer.tokenize(r);return new Ag(t,e,o,r.length,!1,this.errors,t.length-r.length).parseChain()}},{key:"_parseQuote",value:function(t,e){if(Fm(t))return null;var n=t.indexOf(":");if(-1==n)return null;var i=t.substring(0,n).trim();if(!function(t){if(0==t.length)return!1;var e=new wg(t);if(!kg(e.peek))return!1;for(e.advance();0!==e.peek;){if(!bg(e.peek))return!1;e.advance()}return!0}(i))return null;var r=t.substring(n+1);return new zm(new Bm(0,t.length),i,r,e)}},{key:"parseTemplateBindings",value:function(t,e,n){var r=this._lexer.tokenize(e);if(t){var o=this._lexer.tokenize(t).map(function(t){return t.index=0,t});r.unshift.apply(r,i(o))}return new Ag(e,n,r,e.length,!1,this.errors,0).parseTemplateBindings()}},{key:"parseInterpolation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg,i=this.splitInterpolation(t,e,n);if(null==i)return null;for(var r=[],o=0;o<i.expressions.length;++o){var s=i.expressions[o],a=this._stripComments(s),u=this._lexer.tokenize(this._stripComments(i.expressions[o])),c=new Ag(t,e,u,a.length,!1,this.errors,i.offsets[o]+(s.length-a.length)).parseChain();r.push(c)}return new ug(new ng(new Bm(0,Fm(t)?0:t.length),i.strings,r),t,e,this.errors)}},{key:"splitInterpolation",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fg,i=Tg(n),r=t.split(i);if(r.length<=1)return null;for(var o=[],s=[],a=[],u=0,c=0;c<r.length;c++){var l=r[c];c%2==0?(o.push(l),u+=l.length):l.trim().length>0?(u+=n.start.length,s.push(l),a.push(u),u+=l.length+n.end.length):(this._reportError("Blank expressions are not allowed in interpolated strings",t,"at column ".concat(this._findInterpolationErrorColumn(r,c,n)," in"),e),s.push("$implict"),a.push(u))}return new Sg(o,s,a)}},{key:"wrapLiteralPrimitive",value:function(t,e){return new ug(new Jm(new Bm(0,Fm(t)?0:t.length),t),t,e,this.errors)}},{key:"_stripComments",value:function(t){var e=this._commentStart(t);return Lm(e)?t.substring(0,e).trim():t}},{key:"_commentStart",value:function(t){for(var e,n=null,i=0;i<t.length-1;i++){var r=t.charCodeAt(i),o=t.charCodeAt(i+1);if(47===r&&47==o&&Fm(n))return i;n===r?n=null:Fm(n)&&(39===(e=r)||34===e||96===e)&&(n=r)}return null}},{key:"_checkNoInterpolation",value:function(t,e,n){var i=Tg(n),r=t.split(i);r.length>1&&this._reportError("Got interpolation (".concat(n.start).concat(n.end,") where expression was expected"),t,"at column ".concat(this._findInterpolationErrorColumn(r,1,n)," in"),e)}},{key:"_findInterpolationErrorColumn",value:function(t,e,n){for(var i="",r=0;r<e;r++)i+=r%2==0?t[r]:"".concat(n.start).concat(t[r]).concat(n.end);return i.length}}]),t}(),Ag=function(){function t(e,n,i,r,o,s,a){m(this,t),this.input=e,this.location=n,this.tokens=i,this.inputLength=r,this.parseAction=o,this.errors=s,this.offset=a,this.rparensExpected=0,this.rbracketsExpected=0,this.rbracesExpected=0,this.index=0}return _(t,[{key:"peek",value:function(t){var e=this.index+t;return e<this.tokens.length?this.tokens[e]:_g}},{key:"next",get:function(){return this.peek(0)}},{key:"inputIndex",get:function(){return this.index<this.tokens.length?this.next.index+this.offset:this.inputLength+this.offset}},{key:"span",value:function(t){return new Bm(t,this.inputIndex)}},{key:"advance",value:function(){this.index++}},{key:"optionalCharacter",value:function(t){return!!this.next.isCharacter(t)&&(this.advance(),!0)}},{key:"peekKeywordLet",value:function(){return this.next.isKeywordLet()}},{key:"expectCharacter",value:function(t){this.optionalCharacter(t)||this.error("Missing expected ".concat(String.fromCharCode(t)))}},{key:"optionalOperator",value:function(t){return!!this.next.isOperator(t)&&(this.advance(),!0)}},{key:"expectOperator",value:function(t){this.optionalOperator(t)||this.error("Missing expected operator ".concat(t))}},{key:"expectIdentifierOrKeyword",value:function(){var t=this.next;return t.isIdentifier()||t.isKeyword()?(this.advance(),t.toString()):(this.error("Unexpected token ".concat(t,", expected identifier or keyword")),"")}},{key:"expectIdentifierOrKeywordOrString",value:function(){var t=this.next;return t.isIdentifier()||t.isKeyword()||t.isString()?(this.advance(),t.toString()):(this.error("Unexpected token ".concat(t,", expected identifier, keyword, or string")),"")}},{key:"parseChain",value:function(){for(var t=[],e=this.inputIndex;this.index<this.tokens.length;){var n=this.parsePipe();if(t.push(n),this.optionalCharacter(59))for(this.parseAction||this.error("Binding expression cannot contain chained expression");this.optionalCharacter(59););else this.index<this.tokens.length&&this.error("Unexpected token '".concat(this.next,"'"))}return 0==t.length?new qm(this.span(e)):1==t.length?t[0]:new Km(this.span(e),t)}},{key:"parsePipe",value:function(){var t=this.parseExpression();if(this.optionalOperator("|")){this.parseAction&&this.error("Cannot have a pipe in an action expression");do{for(var e=this.expectIdentifierOrKeyword(),n=[];this.optionalCharacter(58);)n.push(this.parseExpression());t=new $m(this.span(t.span.start),t,e,n)}while(this.optionalOperator("|"))}return t}},{key:"parseExpression",value:function(){return this.parseConditional()}},{key:"parseConditional",value:function(){var t=this.inputIndex,e=this.parseLogicalOr();if(this.optionalOperator("?")){var n,i=this.parsePipe();if(this.optionalCharacter(58))n=this.parsePipe();else{var r=this.input.substring(t,this.inputIndex);this.error("Conditional expression ".concat(r," requires all 3 expressions")),n=new qm(this.span(t))}return new Wm(this.span(t),e,i,n)}return e}},{key:"parseLogicalOr",value:function(){for(var t=this.parseLogicalAnd();this.optionalOperator("||");){var e=this.parseLogicalAnd();t=new ig(this.span(t.span.start),"||",t,e)}return t}},{key:"parseLogicalAnd",value:function(){for(var t=this.parseEquality();this.optionalOperator("&&");){var e=this.parseEquality();t=new ig(this.span(t.span.start),"&&",t,e)}return t}},{key:"parseEquality",value:function(){for(var t=this.parseRelational();this.next.type==dg.Operator;){var e=this.next.strValue;switch(e){case"==":case"===":case"!=":case"!==":this.advance();var n=this.parseRelational();t=new ig(this.span(t.span.start),e,t,n);continue}break}return t}},{key:"parseRelational",value:function(){for(var t=this.parseAdditive();this.next.type==dg.Operator;){var e=this.next.strValue;switch(e){case"<":case">":case"<=":case">=":this.advance();var n=this.parseAdditive();t=new ig(this.span(t.span.start),e,t,n);continue}break}return t}},{key:"parseAdditive",value:function(){for(var t=this.parseMultiplicative();this.next.type==dg.Operator;){var e=this.next.strValue;switch(e){case"+":case"-":this.advance();var n=this.parseMultiplicative();t=new ig(this.span(t.span.start),e,t,n);continue}break}return t}},{key:"parseMultiplicative",value:function(){for(var t=this.parsePrefix();this.next.type==dg.Operator;){var e=this.next.strValue;switch(e){case"*":case"%":case"/":this.advance();var n=this.parsePrefix();t=new ig(this.span(t.span.start),e,t,n);continue}break}return t}},{key:"parsePrefix",value:function(){if(this.next.type==dg.Operator){var t,e=this.inputIndex,n=this.next.strValue;switch(n){case"+":return this.advance(),this.parsePrefix();case"-":return this.advance(),t=this.parsePrefix(),new ig(this.span(e),n,new Jm(new Bm(e,e),0),t);case"!":return this.advance(),t=this.parsePrefix(),new rg(this.span(e),t)}}return this.parseCallChain()}},{key:"parseCallChain",value:function(){for(var t=this.parsePrimary();;)if(this.optionalCharacter(46))t=this.parseAccessMemberOrMethodCall(t,!1);else if(this.optionalOperator("?."))t=this.parseAccessMemberOrMethodCall(t,!0);else if(this.optionalCharacter(91)){this.rbracketsExpected++;var e=this.parsePipe();if(this.rbracketsExpected--,this.expectCharacter(93),this.optionalOperator("=")){var n=this.parseConditional();t=new Ym(this.span(t.span.start),t,e,n)}else t=new Xm(this.span(t.span.start),t,e)}else{if(!this.optionalCharacter(40))return t;this.rparensExpected++;var i=this.parseCallArguments();this.rparensExpected--,this.expectCharacter(41),t=new ag(this.span(t.span.start),t,i)}}},{key:"parsePrimary",value:function(){var t=this.inputIndex;if(this.optionalCharacter(40)){this.rparensExpected++;var e=this.parsePipe();return this.rparensExpected--,this.expectCharacter(41),e}if(this.next.isKeywordNull())return this.advance(),new Jm(this.span(t),null);if(this.next.isKeywordUndefined())return this.advance(),new Jm(this.span(t),void 0);if(this.next.isKeywordTrue())return this.advance(),new Jm(this.span(t),!0);if(this.next.isKeywordFalse())return this.advance(),new Jm(this.span(t),!1);if(this.next.isKeywordThis())return this.advance(),new Um(this.span(t));if(this.optionalCharacter(91)){this.rbracketsExpected++;var n=this.parseExpressionList(93);return this.rbracketsExpected--,this.expectCharacter(93),new tg(this.span(t),n)}if(this.next.isCharacter(123))return this.parseLiteralMap();if(this.next.isIdentifier())return this.parseAccessMemberOrMethodCall(new Um(this.span(t)),!1);if(this.next.isNumber()){var i=this.next.toNumber();return this.advance(),new Jm(this.span(t),i)}if(this.next.isString()){var r=this.next.toString();return this.advance(),new Jm(this.span(t),r)}return this.index>=this.tokens.length?(this.error("Unexpected end of expression: ".concat(this.input)),new qm(this.span(t))):(this.error("Unexpected token ".concat(this.next)),new qm(this.span(t)))}},{key:"parseExpressionList",value:function(t){var e=[];if(!this.next.isCharacter(t))do{e.push(this.parsePipe())}while(this.optionalCharacter(44));return e}},{key:"parseLiteralMap",value:function(){var t=[],e=[],n=this.inputIndex;if(this.expectCharacter(123),!this.optionalCharacter(125)){this.rbracesExpected++;do{var i=this.expectIdentifierOrKeywordOrString();t.push(i),this.expectCharacter(58),e.push(this.parsePipe())}while(this.optionalCharacter(44));this.rbracesExpected--,this.expectCharacter(125)}return new eg(this.span(n),t,e)}},{key:"parseAccessMemberOrMethodCall",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=t.span.start,i=this.expectIdentifierOrKeyword();if(this.optionalCharacter(40)){this.rparensExpected++;var r=this.parseCallArguments();this.expectCharacter(41),this.rparensExpected--;var o=this.span(n);return e?new sg(o,t,i,r):new og(o,t,i,r)}if(e)return this.optionalOperator("=")?(this.error("The '?.' operator cannot be used in the assignment"),new qm(this.span(n))):new Qm(this.span(n),t,i);if(this.optionalOperator("=")){if(!this.parseAction)return this.error("Bindings cannot contain assignments"),new qm(this.span(n));var s=this.parseConditional();return new Zm(this.span(n),t,i,s)}return new Gm(this.span(n),t,i)}},{key:"parseCallArguments",value:function(){if(this.next.isCharacter(41))return[];var t=[];do{t.push(this.parsePipe())}while(this.optionalCharacter(44));return t}},{key:"expectTemplateBindingKey",value:function(){var t="",e=!1;do{t+=this.expectIdentifierOrKeywordOrString(),(e=this.optionalOperator("-"))&&(t+="-")}while(e);return t.toString()}},{key:"parseTemplateBindings",value:function(){for(var t=[],e=null;this.index<this.tokens.length;){var n=this.inputIndex,i=this.peekKeywordLet();i&&this.advance();var r=this.expectTemplateBindingKey();i||(null==e?e=r:r=e+r[0].toUpperCase()+r.substring(1)),this.optionalCharacter(58);var o=null,s=null;if(i)o=this.optionalOperator("=")?this.expectTemplateBindingKey():"$implicit";else if(this.next!==_g&&!this.peekKeywordLet()){var a=this.inputIndex,u=this.parsePipe(),c=this.input.substring(a-this.offset,this.inputIndex-this.offset);s=new ug(u,c,this.location,this.errors)}t.push(new cg(this.span(n),r,i,o,s)),this.optionalCharacter(59)||this.optionalCharacter(44)}return new xg(t,[],this.errors)}},{key:"error",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.errors.push(new Vm(t,this.input,this.locationText(e),this.location)),this.skip()}},{key:"locationText",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return Fm(t)&&(t=this.index),t<this.tokens.length?"at column ".concat(this.tokens[t].index+1," in"):"at the end of the expression"}},{key:"skip",value:function(){for(var t=this.next;this.index<this.tokens.length&&!t.isCharacter(59)&&(this.rparensExpected<=0||!t.isCharacter(41))&&(this.rbracesExpected<=0||!t.isCharacter(125))&&(this.rbracketsExpected<=0||!t.isCharacter(93));)this.next.isError()&&this.errors.push(new Vm(this.next.toString(),this.input,this.locationText(),this.location)),this.advance(),t=this.next}}]),t}(),Rg=function(){function t(){m(this,t),this.errors=[]}return _(t,[{key:"visitImplicitReceiver",value:function(t,e){}},{key:"visitInterpolation",value:function(t,e){}},{key:"visitLiteralPrimitive",value:function(t,e){}},{key:"visitPropertyRead",value:function(t,e){}},{key:"visitPropertyWrite",value:function(t,e){}},{key:"visitSafePropertyRead",value:function(t,e){}},{key:"visitMethodCall",value:function(t,e){}},{key:"visitSafeMethodCall",value:function(t,e){}},{key:"visitFunctionCall",value:function(t,e){}},{key:"visitLiteralArray",value:function(t,e){this.visitAll(t.expressions)}},{key:"visitLiteralMap",value:function(t,e){this.visitAll(t.values)}},{key:"visitBinary",value:function(t,e){}},{key:"visitPrefixNot",value:function(t,e){}},{key:"visitConditional",value:function(t,e){}},{key:"visitPipe",value:function(t,e){this.errors.push("pipes")}},{key:"visitKeyedRead",value:function(t,e){}},{key:"visitKeyedWrite",value:function(t,e){}},{key:"visitAll",value:function(t){var e=this;return t.map(function(t){return t.visit(e)})}},{key:"visitChain",value:function(t,e){}},{key:"visitQuote",value:function(t,e){}}],[{key:"check",value:function(e){var n=new t;return e.visit(n),n.errors}}]),t}(),Og=new Map([["==",function(t,e){return t==e}],["===",function(t,e){return t===e}],["!=",function(t,e){return t!=e}],["!==",function(t,e){return t!==e}],["&&",function(t,e){return t&&e}],["||",function(t,e){return t||e}],["+",function(t,e){return t+e}],["-",function(t,e){return t-e}],["/",function(t,e){return t/e}],["*",function(t,e){return t*e}],["%",function(t,e){return t%e}],["<",function(t,e){return t<e}],["<=",function(t,e){return t<=e}],[">",function(t,e){return t>e}],[">=",function(t,e){return t>=e}]]);function Pg(t){return JSON.stringify(t).replace(/"/g,"")}function Ig(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Dg(t){return"function"==typeof t}var Ng,Lg,Fg,jg=function(t){l(n,t);var e=f(n);function n(){return m(this,n),e.apply(this,arguments)}return _(n,[{key:"visitBinary",value:function(t){var e=t.left.visit(this),n=t.right.visit(this);return"".concat(e," ").concat(t.operation," ").concat(n)}},{key:"visitChain",value:function(t){return Pg(this.visitAll(t.expressions))}},{key:"visitConditional",value:function(t){return"".concat(t.condition.visit(this)," ? ").concat(t.trueExp.visit(this)," : ").concat(t.falseExp.visit(this))}},{key:"visitPipe",value:function(t){var e=t.name,n=this.visitAll(t.args),i=t.exp.visit(this);return n.unshift(i),"pipesCache.get('".concat(e,"').transform.apply(null, ").concat(Pg(n),")")}},{key:"visitFunctionCall",value:function(t){var e=t.target.visit(this);return"".concat(e,".apply(").concat(e,", ").concat(Pg(this.visitAll(t.args)),")")}},{key:"visitImplicitReceiver",value:function(t){return"context"}},{key:"visitInterpolation",value:function(t){return this.visitAll(t.expressions)[0]}},{key:"visitKeyedRead",value:function(t){return"".concat(t.obj.visit(this),"[").concat(t.key.visit(this),"]")}},{key:"visitKeyedWrite",value:function(t){return null}},{key:"visitLiteralArray",value:function(t){return Pg(this.visitAll(t.expressions))}},{key:"visitLiteralMap",value:function(t){for(var e={},n=t.keys,i=this.visitAll(t.values),r=0,o=n.length;r<o;r++)e[n[r]]=i[r];return Pg(e)}},{key:"visitLiteralPrimitive",value:function(t){return"string"==typeof t.value?"'".concat(t.value,"'"):t.value}},{key:"visitMethodCall",value:function(t){var e=t.name,n=t.receiver.visit(this);return"".concat(n,"['").concat(e,"'].apply(").concat(n,", ").concat(Pg(this.visitAll(t.args)),")")}},{key:"visitPrefixNot",value:function(t){return t.expression.visit(this)}},{key:"visitPropertyRead",value:function(t){var e=t.name;return"".concat(t.receiver.visit(this),"['").concat(e,"']")}},{key:"visitPropertyWrite",value:function(t){return null}},{key:"visitSafePropertyRead",value:function(t){var e=t.name;return"".concat(t.receiver.visit(this),"['").concat(e,"']")}},{key:"visitSafeMethodCall",value:function(t){var e=t.name,n=t.receiver.visit(this);return"".concat(n,"['").concat(e,"'].apply(").concat(n,", ").concat(Pg(this.visitAll(t.args)),")")}},{key:"visitAll",value:function(t){var e=this;return t.map(function(t){return t.visit(e)})}},{key:"visitQuote",value:function(t){return null}}]),n}(lg),Vg=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).pipes=t,i}return _(n,[{key:"visitBinary",value:function(t,e){var n=Og.get(t.operation);if(!n)throw new Error("Parse ERROR: on visitBinary, unknown operator ".concat(t.operation));return n(t.left.visit(this,e),t.right.visit(this,e))}},{key:"visitChain",value:function(t,e){return this.visitAll(t.expressions,e)}},{key:"visitConditional",value:function(t,e){return t.condition.visit(this,e)?t.trueExp.visit(this,e):null!=t.falseExp?t.falseExp.visit(this,e):null}},{key:"visitPipe",value:function(t,e){var n=this.pipes.get(t.name);if(!n)throw new Error("pipe ".concat(t.name," not found."));if(!n.transform)throw new Error("Parse ERROR: on visitPipe, transform method doesn't exist on pipe ".concat(t.name,"."));var i=t.exp.visit(this,e),r=this.visitAll(t.args,e);return r.unshift(i),n.transform.apply(null,r)}},{key:"visitFunctionCall",value:function(t,e){var n=t.target.visit(this,e);if(!Dg(n))throw new Error("Parse ERROR: on visitFunctionCall, target is not a function.");var i=this.visitAll(t.args,e);return n.apply(n,i)}},{key:"visitImplicitReceiver",value:function(t,e){return e}},{key:"visitInterpolation",value:function(t,e){return this.visitAll(t.expressions,e)[0]}},{key:"visitKeyedRead",value:function(t,e){return t.obj.visit(this,e)[t.key.visit(this,e)]}},{key:"visitKeyedWrite",value:function(t,e){var n=t.obj.visit(this,e),i=t.key.visit(this,e),r=t.value.visit(this,e);return n[i]=r,null}},{key:"visitLiteralArray",value:function(t,e){return this.visitAll(t.expressions,e)}},{key:"visitLiteralMap",value:function(t,e){for(var n={},i=t.keys,r=this.visitAll(t.values,e),o=0,s=i.length;o<s;o++)n[i[o]]=r[o];return n}},{key:"visitLiteralPrimitive",value:function(t,e){return t.value}},{key:"visitMethodCall",value:function(t,e){var n=t.receiver.visit(this,e);if(!Ig(n))throw new Error("Parse ERROR: on visitMethodCall, invalid method receiver.");var i=n[t.name];if(!Dg(i))throw new Error("Parse ERROR: on visitMethodCall, method ".concat(t.name," doesn't exist on receiver."));var r=this.visitAll(t.args,e);return i.apply(n,r)}},{key:"visitPrefixNot",value:function(t,e){return t.expression.visit(this,e)}},{key:"visitPropertyRead",value:function(t,e){var n=t.receiver.visit(this,e);if(!Ig(n))throw new Error("Parse ERROR: on visitPropertyRead, invalid property receiver.");return n[t.name]}},{key:"visitPropertyWrite",value:function(t,e){var n=t.receiver.visit(this,e);if(!Ig(n))throw new Error("Parse ERROR: on visitPropertyRead, invalid property receiver.");return n[t.name]=t.value.visit(this,e),null}},{key:"visitSafePropertyRead",value:function(t,e){var n=t.receiver.visit(this,e);if(!Ig(n))throw new Error("Parse ERROR: on visitSafePropertyRead, invalid property receiver.");return n[t.name]}},{key:"visitSafeMethodCall",value:function(t,e){var n=t.receiver.visit(this,e);if(!Ig(n))throw new Error("Parse ERROR: on visitSafeMethodCall, invalid method receiver.");var i=n[t.name];if(!Dg(i))throw new Error("Parse ERROR: on visitSafeMethodCall, method ".concat(t.name," doesn't exist on receiver."));var r=this.visitAll(t.args,e);return i.apply(n,r)}},{key:"visitAll",value:function(t,e){var n=this;return t.map(function(t){return t.visit(n,e)})}},{key:"visitQuote",value:function(t,e){throw new Error("Parse ERROR: on visitQuote, quote expression not allowed.")}}]),n}(lg),Bg=new ei("PipesConfig"),Hg=((Ng=function(){function t(e){var n=this;m(this,t),this._parser=new Mg(new vg),this._pipesCache=new Map,this._evalCache=new Map,this._calcCache=new Map,e&&e.length&&e.filter(function(t){return t&&t.length}).forEach(function(t){return t.forEach(function(t){return n._pipesCache.set(t.pipeName,t.pipeInstance)})})}return _(t,[{key:"eval",value:function(t){if(this._evalCache.has(t))return this._evalCache.get(t);var e=new jg,n=this._parser.parseInterpolation(t,"Parse");n||(n=this._parser.parseBinding(t,"Parse"));var i=n.visit(e),r=this._pipesCache,o=new Function("context","pipesCache","return ".concat(i,";")),s=function(t){return o(t,r)};return this._evalCache.set(t,s),s}},{key:"calc",value:function(t){if(this._calcCache.has(t))return this._calcCache.get(t);var e=new Vg(this._pipesCache),n=this._parser.parseInterpolation(t,"Parse");n||(n=this._parser.parseBinding(t,"Parse"));var i=function(t){return n.visit(e,t)};return this._calcCache.set(t,i),i}}]),t}()).\u0275fac=function(t){return new(t||Ng)(vi(Bg,8))},Ng.\u0275prov=At({factory:function(){return new Ng(vi(Bg,8))},token:Ng,providedIn:"root"}),Ng=function(t,e,n,i){var r,o=arguments.length,s=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,i);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(s=(o<3?r(s):o>3?r(e,n,s):r(e,n))||s);return o>3&&s&&Object.defineProperty(e,n,s),s}([Nm(0,wi()),Nm(0,_i(Bg))],Ng)),zg=((Fg=Lg=function(){function t(){m(this,t)}return _(t,null,[{key:"forRoot",value:function(t){return{ngModule:Lg,providers:[{provide:Bg,multi:!0,useValue:t||[]}]}}}]),t}()).\u0275fac=function(t){return new(t||Fg)},Fg.\u0275mod=he({type:Fg}),Fg.\u0275inj=Rt({}),Fg);function qg(t,e){1&t&&Go(0,"ac-default-plonter")}c("yDJ3");var Ug=["*"];function Kg(t,e){if(1&t){var n=Zo();Ko(0,"div"),Ko(1,"div",4),Xo("click",function(){Ze(n);var t=e.$implicit;return es(2).chooseEntity(t)}),ps(2),Wo(),Wo()}if(2&t){var i=e.$implicit;vr(2),ys("",(null==i?null:i.name)||(null==i?null:i.id)," ")}}var Wg=function(t){return{position:t}};function Gg(t,e){if(1&t&&(Ko(0,"ac-html",1),Ko(1,"div",2),Ho(2,Kg,3,1,"div",3),Wo(),Wo()),2&t){var n=es();qo("props",Na(2,Wg,n.plonterPosition)),vr(2),qo("ngForOf",n.plonterService.entitesToPlonter)}}var Zg=["contextMenuContainer"];function Qg(t,e){}function Xg(t,e){if(1&t&&(Ko(0,"ac-html",1),Ho(1,Qg,0,0,"ng-template",null,2,tu),Wo()),2&t){var n=es();qo("props",Na(1,Wg,n.contextMenuService.position))}}var Yg,$g,Jg,t_=((Jg=function(){function t(){m(this,t),this.cesium=Cesium}return _(t,[{key:"createViewer",value:function(t,e){return new this.cesium.Viewer(t,e?Object.assign({contextOptions:{webgl:{preserveDrawingBuffer:!0}}},e):{contextOptions:{webgl:{preserveDrawingBuffer:!0}}})}}]),t}()).\u0275fac=function(t){return new(t||Jg)},Jg.\u0275prov=At({token:Jg,factory:Jg.\u0275fac}),Jg),e_=(($g=function(){function t(){m(this,t),this.nextViewerOptionsIndex=0,this.nextViewerModifierIndex=0}return _(t,[{key:"viewerOptions",get:function(){return this._viewerOptions},set:function(t){this._viewerOptions=t}},{key:"getNextViewerOptions",value:function(){return this._viewerOptions instanceof Array?this._viewerOptions[this.nextViewerOptionsIndex++]:this._viewerOptions}},{key:"viewerModifier",get:function(){return this._viewerModifier},set:function(t){this._viewerModifier=t}},{key:"getNextViewerModifier",value:function(){return this._viewerModifier instanceof Array?this._viewerModifier[this.nextViewerModifierIndex++]:this._viewerModifier}}]),t}()).\u0275fac=function(t){return new(t||$g)},$g.\u0275prov=At({token:$g,factory:$g.\u0275fac}),$g),n_=((Yg=function(){function t(e,n,i){m(this,t),this.ngZone=e,this.viewerFactory=n,this.viewerConfiguration=i}return _(t,[{key:"init",value:function(t,e){var n=this;this.map=e,this.ngZone.runOutsideAngular(function(){var e=n.viewerConfiguration?n.viewerConfiguration.getNextViewerOptions():void 0;n.cesiumViewer=n.viewerFactory.createViewer(t,e);var i=n.viewerConfiguration&&n.viewerConfiguration.getNextViewerModifier();"function"==typeof i&&i(n.cesiumViewer)})}},{key:"getViewer",value:function(){return this.cesiumViewer}},{key:"getScene",value:function(){return this.cesiumViewer.scene}},{key:"getCanvas",value:function(){return this.cesiumViewer.canvas}},{key:"getMap",value:function(){return this.map}}]),t}()).\u0275fac=function(t){return new(t||Yg)(vi(bu),vi(t_),vi(e_,8))},Yg.\u0275prov=At({token:Yg,factory:Yg.\u0275fac}),Yg),i_=Cesium.AssociativeArray,r_=Cesium.Color,o_=Cesium.ColorGeometryInstanceAttribute,s_=Cesium.defined,a_=Cesium.DistanceDisplayCondition,u_=Cesium.DistanceDisplayConditionGeometryInstanceAttribute,c_=Cesium.ShowGeometryInstanceAttribute,l_=Cesium.Primitive,h_=Cesium.ShadowMode,f_=Cesium.BoundingSphereState,d_=Cesium.ColorMaterialProperty,p_=Cesium.MaterialProperty,v_=Cesium.Property,y_=new r_,m_=new a_,g_=new a_;function __(t,e,n,i,r,o,s){var a;this.translucent=e,this.appearanceType=n,this.depthFailAppearanceType=i,this.depthFailMaterialProperty=r,this.depthFailMaterial=void 0,this.closed=o,this.shadows=s,this.primitives=t,this.createPrimitive=!1,this.waitingOnCreate=!1,this.primitive=void 0,this.oldPrimitive=void 0,this.geometry=new i_,this.updaters=new i_,this.updatersWithAttributes=new i_,this.attributes=new i_,this.subscriptions=new i_,this.showsUpdated=new i_,this.itemsToRemove=[],this.invalidated=!1,s_(r)&&(a=r.definitionChanged.addEventListener(__.prototype.onMaterialChanged,this)),this.removeMaterialSubscription=a}__.prototype.onMaterialChanged=function(){this.invalidated=!0},__.prototype.isMaterial=function(t){var e=this.depthFailMaterialProperty,n=t.depthFailMaterialProperty;return n===e||!!s_(e)&&e.equals(n)},__.prototype.add=function(t,e){var n=t.id;if(this.createPrimitive=!0,this.geometry.set(n,e),this.updaters.set(n,t),t.hasConstantFill&&t.fillMaterialProperty.isConstant&&v_.isConstant(t.distanceDisplayConditionProperty)){var i=this;this.subscriptions.set(n,t.entity.definitionChanged.addEventListener(function(e,n,r,o){"isShowing"===n&&i.showsUpdated.set(t.id,t)}))}else this.updatersWithAttributes.set(n,t)},__.prototype.remove=function(t){var e=t.id;if(this.createPrimitive=this.geometry.remove(e)||this.createPrimitive,this.updaters.remove(e)){this.updatersWithAttributes.remove(e);var n=this.subscriptions.get(e);s_(n)&&(n(),this.subscriptions.remove(e))}},__.prototype.update=function(t){var e,n,i=!0,r=0,o=this.primitive,s=this.primitives;if(this.createPrimitive){var a=this.geometry.values,u=a.length;if(u>0){for(s_(o)&&(s_(this.oldPrimitive)?s.remove(o):this.oldPrimitive=o),n=0;n<u;n++){var c=a[n],l=c.attributes;e=this.attributes.get(c.id.id),s_(e)&&(s_(l.show)&&(l.show.value=e.show),s_(l.color)&&(l.color.value=e.color),s_(l.depthFailColor)&&(l.depthFailColor.value=e.depthFailColor))}var h;s_(this.depthFailAppearanceType)&&(s_(this.depthFailMaterialProperty)&&(this.depthFailMaterial=p_.getValue(t,this.depthFailMaterialProperty,this.depthFailMaterial)),h=new this.depthFailAppearanceType({material:this.depthFailMaterial,translucent:this.translucent,closed:this.closed})),o=new l_({show:!1,asynchronous:!0,geometryInstances:a,appearance:new this.appearanceType({flat:this.shadows===h_.DISABLED||this.shadows===h_.CAST_ONLY,translucent:this.translucent,closed:this.closed}),depthFailAppearance:h,shadows:this.shadows}),s.add(o),i=!1}else{s_(o)&&(s.remove(o),o=void 0);var f=this.oldPrimitive;s_(f)&&(s.remove(f),this.oldPrimitive=void 0)}this.attributes.removeAll(),this.primitive=o,this.createPrimitive=!1,this.waitingOnCreate=!0}else if(s_(o)&&o.ready){o.show=!0,s_(this.oldPrimitive)&&(s.remove(this.oldPrimitive),this.oldPrimitive=void 0),!s_(this.depthFailAppearanceType)||this.depthFailMaterialProperty instanceof d_||(this.depthFailMaterial=p_.getValue(t,this.depthFailMaterialProperty,this.depthFailMaterial),this.primitive.depthFailAppearance.material=this.depthFailMaterial);var d=this.updatersWithAttributes.values,p=d.length,v=this.waitingOnCreate;for(n=0;n<p;n++){var y=d[n],m=this.geometry.get(y.id);if(e=this.attributes.get(m.id.id),s_(e)||(e=o.getGeometryInstanceAttributes(m.id),this.attributes.set(m.id.id,e)),!y.fillMaterialProperty.isConstant||v){var g=v_.getValueOrDefault(y.fillMaterialProperty.color,t,r_.WHITE,y_);r_.equals(e._lastColor,g)||(e._lastColor=r_.clone(g,e._lastColor),e.color=o_.toValue(g,e.color),(this.translucent&&255===e.color[3]||!this.translucent&&255!==e.color[3])&&(this.itemsToRemove[r++]=y))}if(s_(this.depthFailAppearanceType)&&y.depthFailMaterialProperty instanceof d_&&(!y.depthFailMaterialProperty.isConstant||v)){var _=v_.getValueOrDefault(y.depthFailMaterialProperty.color,t,r_.WHITE,y_);r_.equals(e._lastDepthFailColor,_)||(e._lastDepthFailColor=r_.clone(_,e._lastDepthFailColor),e.depthFailColor=o_.toValue(_,e.depthFailColor))}var w=y.entity.isShowing&&(y.hasConstantFill||y.isFilled(t));w!==(1===e.show[0])&&(e.show=c_.toValue(w,e.show));var k=y.distanceDisplayConditionProperty;if(!v_.isConstant(k)){var b=v_.getValueOrDefault(k,t,g_,m_);a_.equals(b,e._lastDistanceDisplayCondition)||(e._lastDistanceDisplayCondition=a_.clone(b,e._lastDistanceDisplayCondition),e.distanceDisplayCondition=u_.toValue(b,e.distanceDisplayCondition))}}this.updateShows(o),this.waitingOnCreate=!1}else s_(o)&&!o.ready&&(i=!1);return this.itemsToRemove.length=r,i},__.prototype.updateShows=function(t){for(var e=this.showsUpdated.values,n=e.length,i=0;i<n;i++){var r=e[i],o=this.geometry.get(r.id),s=this.attributes.get(o.id.id);s_(s)||(s=t.getGeometryInstanceAttributes(o.id),this.attributes.set(o.id.id,s));var a=r.entity.isShowing;a!==(1===s.show[0])&&(s.show=c_.toValue(a,s.show))}this.showsUpdated.removeAll()},__.prototype.contains=function(t){return this.updaters.contains(t.id)},__.prototype.getBoundingSphere=function(t,e){var n=this.primitive;if(!n.ready)return f_.PENDING;var i=n.getGeometryInstanceAttributes(t.entity);return!s_(i)||!s_(i.boundingSphere)||s_(i.show)&&0===i.show[0]?f_.FAILED:(i.boundingSphere.clone(e),f_.DONE)},__.prototype.removeAllPrimitives=function(){var t=this.primitives,e=this.primitive;s_(e)&&(t.remove(e),this.primitive=void 0,this.geometry.removeAll(),this.updaters.removeAll());var n=this.oldPrimitive;s_(n)&&(t.remove(n),this.oldPrimitive=void 0)},__.prototype.destroy=function(){var t=this.primitive,e=this.primitives;s_(t)&&e.remove(t);var n=this.oldPrimitive;s_(n)&&e.remove(n),s_(this.removeMaterialSubscription)&&this.removeMaterialSubscription()};var w_,k_,b_,C_=!1,E_=new ei("ANGULAR_CESIUM_CONFIG"),S_=((w_=_(function t(e){m(this,t),this.config=e,!1!==(!e||e.fixEntitiesShadows)&&(C_||(Cesium.StaticGeometryColorBatch.prototype.add=function(t,e){var n,i,r=e.createFillGeometryInstance(t);255===r.attributes.color.value[3]?(n=this._solidItems,i=!1):(n=this._translucentItems,i=!0);for(var o=n.length,s=0;s<o;s++){var a=n[s];if(a.isMaterial(e))return void a.add(e,r)}var u=new __(this._primitives,i,this._appearanceType,this._depthFailAppearanceType,e.depthFailMaterialProperty,this._closed,this._shadows);u.add(e,r),n.push(u)},C_=!0))})).\u0275fac=function(t){return new(t||w_)(vi(E_,8))},w_.\u0275prov=At({token:w_,factory:w_.\u0275fac}),w_),x_=function(t){return t[t.SCENE3D=0]="SCENE3D",t[t.COLUMBUS_VIEW=1]="COLUMBUS_VIEW",t[t.SCENE2D=2]="SCENE2D",t[t.PERFORMANCE_SCENE2D=3]="PERFORMANCE_SCENE2D",t}({}),T_=((k_=function(){function t(){m(this,t),this.isSceneModePerformance2D=!1}return _(t,[{key:"init",value:function(t){this.viewer=t.getViewer(),this.scene=t.getScene(),this.screenSpaceCameraController=this.scene.screenSpaceCameraController,this.camera=this.scene.camera,this.lastRotate=this.screenSpaceCameraController.enableRotate,this.lastTilt=this.screenSpaceCameraController.enableTilt,this.lastLook=this.screenSpaceCameraController.enableLook}},{key:"_listenToSceneModeMorph",value:function(t){this.morphListenerCancelFn=this.scene.morphStart.addEventListener(t)}},{key:"_revertCameraProperties",value:function(){this.isSceneModePerformance2D=!1,this.enableTilt(this.lastTilt),this.enableRotate(this.lastRotate),this.enableLook(this.lastLook)}},{key:"getCamera",value:function(){return this.camera}},{key:"getScreenSpaceCameraController",value:function(){return this.screenSpaceCameraController}},{key:"getMinimumZoom",value:function(){return this.screenSpaceCameraController.minimumZoomDistance}},{key:"setMinimumZoom",value:function(t){this.screenSpaceCameraController.minimumZoomDistance=t}},{key:"getMaximumZoom",value:function(){return this.screenSpaceCameraController.maximumZoomDistance}},{key:"setMaximumZoom",value:function(t){this.screenSpaceCameraController.maximumZoomDistance=t}},{key:"enableTilt",value:function(t){this.screenSpaceCameraController.enableTilt=t}},{key:"enableRotate",value:function(t){this.screenSpaceCameraController.enableRotate=t}},{key:"enableLook",value:function(t){this.screenSpaceCameraController.enableLook=t}},{key:"enableTranslate",value:function(t){this.screenSpaceCameraController.enableTranslate=t}},{key:"enableZoom",value:function(t){this.screenSpaceCameraController.enableZoom=t}},{key:"enableInputs",value:function(t){this.screenSpaceCameraController.enableInputs=t}},{key:"setSceneMode",value:function(e,n){var i=this;switch(e){case x_.SCENE3D:this.isSceneModePerformance2D&&this._revertCameraProperties(),this.scene.morphTo3D(n);break;case x_.COLUMBUS_VIEW:this.isSceneModePerformance2D&&this._revertCameraProperties(),this.scene.morphToColumbusView(n);break;case x_.SCENE2D:this.isSceneModePerformance2D&&this._revertCameraProperties(),this.scene.morphTo2D(n);break;case x_.PERFORMANCE_SCENE2D:this.isSceneModePerformance2D=!0,this.lastLook=this.screenSpaceCameraController.enableLook,this.lastTilt=this.screenSpaceCameraController.enableTilt,this.lastRotate=this.screenSpaceCameraController.enableRotate,this.screenSpaceCameraController.enableTilt=!1,this.screenSpaceCameraController.enableRotate=!1,this.screenSpaceCameraController.enableLook=!1,this.morphListenerCancelFn&&this.morphListenerCancelFn(),this.scene.morphToColumbusView(n);var r=this.scene.morphComplete.addEventListener(function(){i.camera.setView({destination:Cesium.Cartesian3.fromDegrees(0,0,Math.min(t.PERFORMANCE_2D_ALTITUDE,i.getMaximumZoom())),orientation:{pitch:Cesium.Math.toRadians(-90)}}),r(),i._listenToSceneModeMorph(i._revertCameraProperties.bind(i))})}}},{key:"cameraFlyTo",value:function(t){return this.camera.flyTo(t)}},{key:"flyTo",value:function(t,e){return this.viewer.flyTo(t,e)}},{key:"zoomIn",value:function(t){return this.camera.zoomIn(t||this.camera.defaultZoomAmount)}},{key:"zoomOut",value:function(t){return this.camera.zoomOut(t||this.camera.defaultZoomAmount)}},{key:"zoomTo",value:function(t,e){return this.viewer.zoomTo(t,e)}},{key:"setView",value:function(t){this.camera.setView(t)}},{key:"setRotation",value:function(t){this.setView({orientation:{heading:t}})}},{key:"lockRotation",value:function(t){this.scene.screenSpaceCameraController.enableRotate=!t}},{key:"trackEntity",value:function(t,e){var n=this,i=e&&e.flyTo||!1;return this.viewer.trackedEntity=void 0,new Promise(function(r){if(i){var o=e&&e.flyToDuration||1,s=e&&e.altitude||1e4,a=t.position.getValue(Cesium.JulianDate.now()),u=Cesium.Cartographic.fromCartesian(a),c=s-u.height;u.height=s;var l=Cesium.Cartesian3.fromRadians(u.longitude,u.latitude,u.height);n.cameraFlyTo({duration:o,destination:l,complete:function(){n.viewer.trackedEntity=t,setTimeout(function(){c>0?n.camera.zoomOut(c):n.camera.zoomIn(c)},0),r()}})}else n.viewer.trackedEntity=t,r()})}},{key:"untrackEntity",value:function(){this.trackEntity()}}]),t}()).\u0275fac=function(t){return new(t||k_)},k_.\u0275prov=At({token:k_,factory:k_.\u0275fac}),k_.PERFORMANCE_2D_ALTITUDE=25e6,k_),M_=function(t){return t[t.MOUSE_MOVE=Cesium.ScreenSpaceEventType.MOUSE_MOVE]="MOUSE_MOVE",t[t.LEFT_CLICK=Cesium.ScreenSpaceEventType.LEFT_CLICK]="LEFT_CLICK",t[t.LEFT_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.LEFT_DOUBLE_CLICK]="LEFT_DOUBLE_CLICK",t[t.LEFT_DOWN=Cesium.ScreenSpaceEventType.LEFT_DOWN]="LEFT_DOWN",t[t.LEFT_UP=Cesium.ScreenSpaceEventType.LEFT_UP]="LEFT_UP",t[t.MIDDLE_CLICK=Cesium.ScreenSpaceEventType.MIDDLE_CLICK]="MIDDLE_CLICK",t[t.MIDDLE_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.MIDDLE_DOUBLE_CLICK]="MIDDLE_DOUBLE_CLICK",t[t.MIDDLE_DOWN=Cesium.ScreenSpaceEventType.MIDDLE_DOWN]="MIDDLE_DOWN",t[t.MIDDLE_UP=Cesium.ScreenSpaceEventType.MIDDLE_UP]="MIDDLE_UP",t[t.PINCH_START=Cesium.ScreenSpaceEventType.PINCH_START]="PINCH_START",t[t.PINCH_END=Cesium.ScreenSpaceEventType.PINCH_END]="PINCH_END",t[t.PINCH_MOVE=Cesium.ScreenSpaceEventType.PINCH_MOVE]="PINCH_MOVE",t[t.RIGHT_CLICK=Cesium.ScreenSpaceEventType.RIGHT_CLICK]="RIGHT_CLICK",t[t.RIGHT_DOUBLE_CLICK=Cesium.ScreenSpaceEventType.RIGHT_DOUBLE_CLICK]="RIGHT_DOUBLE_CLICK",t[t.RIGHT_DOWN=Cesium.ScreenSpaceEventType.RIGHT_DOWN]="RIGHT_DOWN",t[t.RIGHT_UP=Cesium.ScreenSpaceEventType.RIGHT_UP]="RIGHT_UP",t[t.WHEEL=Cesium.ScreenSpaceEventType.WHEEL]="WHEEL",t[t.LONG_LEFT_PRESS=110]="LONG_LEFT_PRESS",t[t.LONG_RIGHT_PRESS=111]="LONG_RIGHT_PRESS",t[t.LONG_MIDDLE_PRESS=112]="LONG_MIDDLE_PRESS",t[t.LEFT_CLICK_DRAG=113]="LEFT_CLICK_DRAG",t[t.RIGHT_CLICK_DRAG=114]="RIGHT_CLICK_DRAG",t[t.MIDDLE_CLICK_DRAG=115]="MIDDLE_CLICK_DRAG",t}({}),A_=function(t){return t[t.NO_PICK=0]="NO_PICK",t[t.PICK_FIRST=1]="PICK_FIRST",t[t.PICK_ONE=2]="PICK_ONE",t[t.PICK_ALL=3]="PICK_ALL",t}({}),R_=((b_=function(){function t(){m(this,t),this._showContextMenu=!1,this._contextMenuChangeNotifier=new ja,this._onOpen=new ja,this._onClose=new ja,this._defaultContextMenuOptions={closeOnLeftCLick:!0,closeOnLeftClickPriority:10}}return _(t,[{key:"contextMenuChangeNotifier",get:function(){return this._contextMenuChangeNotifier}},{key:"showContextMenu",get:function(){return this._showContextMenu}},{key:"options",get:function(){return this._options}},{key:"position",get:function(){return this._position}},{key:"content",get:function(){return this._content}},{key:"onOpen",get:function(){return this._onOpen}},{key:"onClose",get:function(){return this._onClose}},{key:"init",value:function(t){this.mapEventsManager=t}},{key:"open",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.close(),this._content=t,this._position=e,this._options=Object.assign({},this._defaultContextMenuOptions,i),this._showContextMenu=!0,this.mapEventsManager&&this._options.closeOnLeftCLick&&(this.leftClickRegistration=this.mapEventsManager.register({event:M_.LEFT_CLICK,pick:A_.NO_PICK,priority:this._options.closeOnLeftClickPriority}),this.leftClickSubscription=this.leftClickRegistration.subscribe(function(){n.leftClickSubscription.unsubscribe(),n.close()})),this._contextMenuChangeNotifier.emit(),this._onOpen.emit()}},{key:"close",value:function(){this._content=void 0,this._position=void 0,this._options=void 0,this._showContextMenu=!1,this.leftClickRegistration&&(this.leftClickRegistration.dispose(),this.leftClickRegistration=void 0),this.leftClickSubscription&&(this.leftClickSubscription.unsubscribe(),this.leftClickSubscription=void 0),this._contextMenuChangeNotifier.emit(),this._onClose.emit()}}]),t}()).\u0275fac=function(t){return new(t||b_)},b_.\u0275prov=At({token:b_,factory:b_.\u0275fac}),b_),O_=Tm.LatLonVectors;window.geodesy=Tm;var P_,I_,D_,N_,L_,F_,j_,V_,B_,H_,z_,q_,U_,K_,W_,G_,Z_,Q_,X_,Y_,$_,J_,tw,ew,nw,iw,rw,ow,sw,aw,uw,cw,lw,hw,fw,dw,pw,vw,yw,mw,gw,_w,ww,kw,bw,Cw,Ew,Sw,xw,Tw,Mw,Aw,Rw,Ow=((P_=function(){function t(e){m(this,t),this.cesiumService=e}return _(t,[{key:"screenToCartesian3",value:function(t,e){if(this.cesiumService){var n=Object.assign({},t);if(e){var i=this.cesiumService.getViewer().canvas.getBoundingClientRect();n.x+=i.left,n.y+=i.top}return this.cesiumService.getViewer().camera.pickEllipsoid(n)}throw new Error("ANGULAR2-CESIUM - Cesium service should be provided in order to do screen position calculations")}},{key:"screenToCartographic",value:function(t,e){return this.cartesian3ToCartographic(this.screenToCartesian3(t),e)}},{key:"cartesian3ToCartographic",value:function(t,e){return Cesium.Cartographic.fromCartesian(t,e)}},{key:"degreesToCartographic",value:function(t,e,n){return Cesium.Cartographic.fromDegrees(t,e,n)}},{key:"radiansToCartographic",value:function(t,e,n){return Cesium.Cartographic.fromRadians(t,e,n)}},{key:"degreesToUTM",value:function(t,e){return new Tm.LatLonEllipsoidal(e,t).toUtm()}},{key:"UTMToDegrees",value:function(t,e,n,i){return this.geodesyToCesiumObject(new Tm.Utm(t,e,n,i).toLatLonE())}},{key:"geodesyToCesiumObject",value:function(t){return{longitude:t.lon,latitude:t.lat,height:t.height?t.height:0}}},{key:"midPointToCartesian3",value:function(t,e){var n=function(t){return Cesium.Math.toDegrees(t)},i=new O_(n(t.latitude),n(t.longitude)),r=new O_(n(e.latitude),n(e.longitude)),o=i.midpointTo(r);return Cesium.Cartesian3.fromDegrees(o.lon,o.lat)}},{key:"middlePointByScreen",value:function(t,e){var n=this.cesiumService.getScene(),i=Cesium.SceneTransforms.wgs84ToWindowCoordinates(n,t),r=Cesium.SceneTransforms.wgs84ToWindowCoordinates(n,e),o=new Cesium.Cartesian2((r.x+i.x)/2,(r.y+i.y)/2);return n.pickPosition(o)}},{key:"bearingTo",value:function(t,e){var n=function(t){return Cesium.Math.toDegrees(t)},i=new O_(n(t.latitude),n(t.longitude)),r=new O_(n(e.latitude),n(e.longitude));return i.bearingTo(r)}},{key:"bearingToCartesian",value:function(t,e){var n=Cesium.Cartographic.fromCartesian(t),i=Cesium.Cartographic.fromCartesian(e);return this.bearingTo(n,i)}}],[{key:"cartesian3ToLatLon",value:function(t,e){var n=Cesium.Cartographic.fromCartesian(t,e);return{lon:Cesium.Math.toDegrees(n.longitude),lat:Cesium.Math.toDegrees(n.latitude),height:n.height}}}]),t}()).\u0275fac=function(t){return new(t||P_)(vi(n_,8))},P_.\u0275prov=At({token:P_,factory:P_.\u0275fac}),P_),Pw=function(){function t(){m(this,t)}return _(t,[{key:"setPropsAssigner",value:function(t){this._propsAssigner=t}}]),t}(),Iw=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this)).drawerType=t,r.cesiumService=i,r._show=!0,r}return _(n,[{key:"init",value:function(){this._cesiumCollection=new this.drawerType,this._primitiveCollectionWrap=new Cesium.PrimitiveCollection,this._primitiveCollectionWrap.add(this._cesiumCollection),this.cesiumService.getScene().primitives.add(this._primitiveCollectionWrap)}},{key:"add",value:function(t){return this._cesiumCollection.add(t)}},{key:"update",value:function(t,e){this._propsAssigner?this._propsAssigner(t,e):Object.assign(t,e)}},{key:"remove",value:function(t){this._cesiumCollection.remove(t)}},{key:"removeAll",value:function(){this._cesiumCollection.removeAll()}},{key:"setShow",value:function(t){this._show=t,this._primitiveCollectionWrap.show=t}},{key:"getShow",value:function(){return this._show}}]),n}(Pw),Dw=((D_=function(){function t(e){m(this,t),this.cesiumService=e}return _(t,[{key:"screenPositionToCartesian3",value:function(t){return this.cesiumService.getViewer().camera.pickEllipsoid(t)}}],[{key:"pointByLocationDistanceAndAzimuth",value:function(e,n,i,r){for(var o,s,a=n/Cesium.Ellipsoid.WGS84.maximumRadius,u=e instanceof Cesium.Cartesian3?Cesium.Cartographic.fromCartesian(e):e,c=e instanceof Cesium.Cartesian3?e:Cesium.Cartesian3.fromRadians(e.longitude,e.latitude,e.height),l=0,h=.1,f=-.1;0===l||l<16&&Math.max(s,n)/Math.min(s,n)>1.000001;)o=t._pointByLocationDistanceAndAzimuth(u,a*(1+(f+(h-f)/2)),i),(s=this.distance(c,o))>n?h=f+(h-f)/2:f+=(h-f)/2,l++;return o}},{key:"_pointByLocationDistanceAndAzimuth",value:function(t,e,n){var i=t.latitude,r=t.longitude,o=Math.asin(Math.sin(i)*Math.cos(e)+Math.cos(i)*Math.sin(e)*Math.cos(n)),s=r+Math.atan2(Math.sin(n)*Math.sin(e)*Math.cos(i),Math.cos(e)-Math.sin(i)*Math.sin(o));return s=(s+3*Math.PI)%(2*Math.PI)-Math.PI,Cesium.Cartesian3.fromRadians(s,o)}},{key:"distance",value:function(t,e){return Cesium.Cartesian3.distance(t,e)}},{key:"getPositionsDelta",value:function(t,e){return{x:e.x-t.x,y:e.y-t.y,z:e.z-t.z}}},{key:"addDeltaToPosition",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(n){t.x+=e.x,t.y+=e.y,t.z+=e.z;var i=Cesium.Cartographic.fromCartesian(t);i.height=0;var r=Cesium.Cartesian3.fromRadians(i.longitude,i.latitude,i.height);return t.x=r.x,t.y=r.y,t.z=r.z,t}var o=new Cesium.Cartesian3(t.x+e.x,t.y+e.y,t.z+e.z),s=Cesium.Cartographic.fromCartesian(o);return s.height=0,Cesium.Cartesian3.fromRadians(s.longitude,s.latitude,s.height)}},{key:"middleCartesian3Point",value:function(t,e){return new Cesium.Cartesian3(e.x-t.x/2,e.y-t.y/2,e.z-t.z/2)}}]),t}()).\u0275fac=function(t){return new(t||D_)(vi(n_))},D_.\u0275prov=At({token:D_,factory:D_.\u0275fac}),D_),Nw=((I_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PolylineCollection,t)}return _(n,[{key:"_calculateArcPositions",value:function(t){for(var e=t.quality||18,n=t.delta/e,i=[],r=0;r<e+1;++r){var o=Dw.pointByLocationDistanceAndAzimuth(t.center,t.radius,t.angle+n*r,!0);i.push(o)}return i}},{key:"_calculateTriangle",value:function(t){return[t.center,Dw.pointByLocationDistanceAndAzimuth(t.center,t.radius,t.angle,!0)]}},{key:"_calculateArc",value:function(t){var e=this._calculateArcPositions(t);return t.drawEdges?e.concat(this._calculateTriangle(t)):e}},{key:"add",value:function(t){if(t.positions=this._calculateArc(t),t.color){var e=Cesium.Material.fromType("Color");e.uniforms.color=t.color,t.material=e}return this._cesiumCollection.add(t)}},{key:"update",value:function(t,e){return e.constantColor||!e.color||t.material.uniforms.color.equals(e.color)||(t.material.uniforms.color=e.color),t.width=void 0!==e.width?e.width:t.width,t.show=void 0!==e.show?e.show:t.show,t.distanceDisplayCondition=void 0!==e.distanceDisplayCondition?e.distanceDisplayCondition:t.distanceDisplayCondition,t.positions=this._calculateArc(e),t}}]),n}(Iw)).\u0275fac=function(t){return new(t||I_)(vi(n_))},I_.\u0275prov=At({token:I_,factory:I_.\u0275fac}),I_),Lw=function(t){return t[t.ellipse=Cesium.EllipseGraphics]="ellipse",t[t.ellipsoid=Cesium.EllipsoidGraphics]="ellipsoid",t[t.polygon=Cesium.PolygonGraphics]="polygon",t[t.polyline=Cesium.PolylineGraphics]="polyline",t[t.polylineVolume=Cesium.PolylineVolumeGraphics]="polylineVolume",t[t.box=Cesium.BoxGraphics]="box",t[t.corridor=Cesium.CorridorGraphics]="corridor",t[t.cylinder=Cesium.CylinderGraphics]="cylinder",t[t.label=Cesium.LabelGraphics]="label",t[t.billboard=Cesium.BillboardGraphics]="billboard",t[t.model=Cesium.ModelGraphics]="model",t[t.path=Cesium.PathGraphics]="path",t[t.point=Cesium.PointGraphics]="point",t[t.rectangle=Cesium.RectangleGraphics]="rectangle",t[t.wall=Cesium.WallGraphics]="wall",t}({}),Fw=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:-1;m(this,t),this.entityCollection=e,this._isSuspended=!1,this._isHardSuspend=!1,this._updateRate=i,this._collectionSize=n}return _(t,[{key:"setShow",value:function(t){this.entityCollection.show=t}},{key:"isSuspended",get:function(){return this._isSuspended}},{key:"updateRate",get:function(){return this._updateRate},set:function(t){this._updateRate=t}},{key:"collectionSize",get:function(){return this._collectionSize},set:function(t){this._collectionSize=t}},{key:"collection",value:function(){return this.entityCollection}},{key:"isFree",value:function(){return this._collectionSize<1||this.entityCollection.values.length<this._collectionSize}},{key:"add",value:function(t){return this.suspend(),this.entityCollection.add(t)}},{key:"remove",value:function(t){return this.suspend(),this.entityCollection.remove(t)}},{key:"removeNoSuspend",value:function(t){this.entityCollection.remove(t)}},{key:"removeAll",value:function(){this.suspend(),this.entityCollection.removeAll()}},{key:"onEventSuspension",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._onEventSuspensionCallback={callback:t,once:n},function(){e._onEventSuspensionCallback=void 0}}},{key:"onEventResume",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this._onEventResumeCallback={callback:t,once:n},this._isSuspended||this.triggerEventResume(),function(){e._onEventResumeCallback=void 0}}},{key:"triggerEventSuspension",value:function(){if(void 0!==this._onEventSuspensionCallback){var t=this._onEventSuspensionCallback.callback;this._onEventSuspensionCallback.once&&(this._onEventSuspensionCallback=void 0),t()}}},{key:"triggerEventResume",value:function(){if(void 0!==this._onEventResumeCallback){var t=this._onEventResumeCallback.callback;this._onEventResumeCallback.once&&(this._onEventResumeCallback=void 0),t()}}},{key:"suspend",value:function(){var t=this;this._updateRate<0||this._isHardSuspend||this._isSuspended||(this._isSuspended=!0,this.entityCollection.suspendEvents(),this.triggerEventSuspension(),this._suspensionTimeout=setTimeout(function(){t.entityCollection.resumeEvents(),t.triggerEventResume(),t._isSuspended=!1,t._suspensionTimeout=void 0},this._updateRate))}},{key:"hardSuspend",value:function(){this.entityCollection.suspendEvents(),this._isHardSuspend=!0}},{key:"hardResume",value:function(){this.entityCollection.resumeEvents(),this._isHardSuspend=!1}}]),t}(),jw=function(e){l(i,e);var n=f(i);function i(t,e){var r,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{collectionMaxSize:-1,collectionSuspensionTime:-1,collectionsNumber:1};for(var s in m(this,i),(r=n.call(this)).cesiumService=t,r.graphicsType=e,r.defaultOptions=o,r.entityCollections=new Map,r.graphicsTypeName=Lw[r.graphicsType],Lw)Lw[s]===r.graphicsType&&(r.graphicsTypeName=s);return r}return _(i,[{key:"getFreeEntitiesCollection",value:function(){var t=null;return this.entityCollections.forEach(function(e){e.isFree()&&(t=e)}),t}},{key:"init",value:function(t){for(var e=t||this.defaultOptions,n=[],i=0;i<e.collectionsNumber;i++){var r=new Cesium.CustomDataSource(this.graphicsTypeName);n.push(r),this.cesiumService.getViewer().dataSources.add(r),this.entityCollections.set(r.entities,new Fw(r.entities,e.collectionMaxSize,e.collectionSuspensionTime))}return n}},{key:"add",value:function(e){var n=this.getFreeEntitiesCollection();if(null===n)throw new Error("No more free entity collections");var i=t({position:void 0!==e.position?e.position:void 0,description:void 0!==e.description?e.description:void 0,orientation:void 0!==e.orientation?e.orientation:void 0,viewFrom:void 0!==e.viewFrom?e.viewFrom:void 0},this.graphicsTypeName,e);return void 0!==e.name&&(i.name=e.name),void 0!==e.availability&&(i.availability=e.availability),n.add(i)}},{key:"update",value:function(t,e){this.suspendEntityCollection(t),t.position instanceof Cesium.CallbackProperty&&t.position._isConstant&&(t.position=e.position),t.position=void 0!==e.position?e.position:void 0,t.name=void 0!==e.name?e.name:t.name,t.description=void 0!==e.description?e.description:t.description,t.orientation=void 0!==e.orientation?e.orientation:t.orientation,t.viewFrom=void 0!==e.viewFrom?e.viewFrom:t.viewFrom,t.availability=e.availability,this._propsAssigner?this._propsAssigner(t[this.graphicsTypeName],e):Object.assign(t[this.graphicsTypeName],e)}},{key:"remove",value:function(t){this.entityCollections.get(t.entityCollection).remove(t)}},{key:"removeAll",value:function(){this.entityCollections.forEach(function(t){t.removeAll()})}},{key:"setShow",value:function(t){this.entityCollections.forEach(function(e){e.setShow(t)})}},{key:"suspendEntityCollection",value:function(t){var e=t.entityCollection;if(!this.entityCollections.has(e))throw new Error("No EntityCollection for entity.entityCollection");this.entityCollections.get(e).suspend()}}]),i}(Pw),Vw=((z_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.billboard)}return _(n)}(jw)).\u0275fac=function(t){return new(t||z_)(vi(n_))},z_.\u0275prov=At({token:z_,factory:z_.\u0275fac}),z_),Bw=((H_=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this)).cesiumService=t,i}return _(n,[{key:"init",value:function(t){var e=[];return this.czmlStream=new Cesium.CzmlDataSource("czml"),e.push(this.czmlStream),this.cesiumService.getViewer().dataSources.add(this.czmlStream),e}},{key:"add",value:function(t){return this.czmlStream.process(t.czmlPacket),t}},{key:"update",value:function(t,e){this.czmlStream.process(e.czmlPacket)}},{key:"remove",value:function(t){this.czmlStream.entities.removeById(t.acEntity.id)}},{key:"removeAll",value:function(){this.czmlStream.entities.removeAll()}},{key:"setShow",value:function(t){this.czmlStream.entities.show=t}}]),n}(Pw)).\u0275fac=function(t){return new(t||H_)(vi(n_))},H_.\u0275prov=At({token:H_,factory:H_.\u0275fac}),H_),Hw=((B_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.ellipse)}return _(n)}(jw)).\u0275fac=function(t){return new(t||B_)(vi(n_))},B_.\u0275prov=At({token:B_,factory:B_.\u0275fac}),B_),zw=((V_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.label)}return _(n)}(jw)).\u0275fac=function(t){return new(t||V_)(vi(n_))},V_.\u0275prov=At({token:V_,factory:V_.\u0275fac}),V_),qw=((j_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.point)}return _(n)}(jw)).\u0275fac=function(t){return new(t||j_)(vi(n_))},j_.\u0275prov=At({token:j_,factory:j_.\u0275fac}),j_),Uw=((F_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.polygon)}return _(n)}(jw)).\u0275fac=function(t){return new(t||F_)(vi(n_))},F_.\u0275prov=At({token:F_,factory:F_.\u0275fac}),F_),Kw=((L_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.polyline)}return _(n)}(jw)).\u0275fac=function(t){return new(t||L_)(vi(n_))},L_.\u0275prov=At({token:L_,factory:L_.\u0275fac}),L_),Ww=((N_=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PolylineCollection,t)}return _(n,[{key:"add",value:function(t){return this._cesiumCollection.add(this.withColorMaterial(t))}},{key:"update",value:function(t,e){e.material instanceof Cesium.Color&&(t.material&&t.material.uniforms&&t.material.uniforms.color instanceof Cesium.Color?this.withColorMaterial(e):t.material.uniforms.color.equals(e.material)||(t.material.uniforms.color=e.material)),u(y(n.prototype),"update",this).call(this,t,e)}},{key:"withColorMaterial",value:function(t){if(t.material instanceof Cesium.Color){var e=Cesium.Material.fromType("Color");e.uniforms.color=t.material,t.material=e}return t}}]),n}(Iw)).\u0275fac=function(t){return new(t||N_)(vi(n_))},N_.\u0275prov=At({token:N_,factory:N_.\u0275fac}),N_),Gw=function(t){return t[t.CAMERA_FORWARD=0]="CAMERA_FORWARD",t[t.CAMERA_BACKWARD=1]="CAMERA_BACKWARD",t[t.CAMERA_RIGHT=2]="CAMERA_RIGHT",t[t.CAMERA_LEFT=3]="CAMERA_LEFT",t[t.CAMERA_UP=4]="CAMERA_UP",t[t.CAMERA_DOWN=5]="CAMERA_DOWN",t[t.CAMERA_LOOK_RIGHT=6]="CAMERA_LOOK_RIGHT",t[t.CAMERA_LOOK_LEFT=7]="CAMERA_LOOK_LEFT",t[t.CAMERA_LOOK_UP=8]="CAMERA_LOOK_UP",t[t.CAMERA_LOOK_DOWN=9]="CAMERA_LOOK_DOWN",t[t.CAMERA_TWIST_RIGHT=10]="CAMERA_TWIST_RIGHT",t[t.CAMERA_TWIST_LEFT=11]="CAMERA_TWIST_LEFT",t[t.CAMERA_ROTATE_RIGHT=12]="CAMERA_ROTATE_RIGHT",t[t.CAMERA_ROTATE_LEFT=13]="CAMERA_ROTATE_LEFT",t[t.CAMERA_ROTATE_UP=14]="CAMERA_ROTATE_UP",t[t.CAMERA_ROTATE_DOWN=15]="CAMERA_ROTATE_DOWN",t[t.CAMERA_ZOOM_IN=16]="CAMERA_ZOOM_IN",t[t.CAMERA_ZOOM_OUT=17]="CAMERA_ZOOM_OUT",t}({}),Zw=(t(h={},Gw.CAMERA_FORWARD,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveForward(i/(e.moveRate||100))}),t(h,Gw.CAMERA_BACKWARD,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveBackward(i/(e.moveRate||100))}),t(h,Gw.CAMERA_UP,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveUp(i/(e.moveRate||100))}),t(h,Gw.CAMERA_DOWN,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveDown(i/(e.moveRate||100))}),t(h,Gw.CAMERA_RIGHT,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveRight(i/(e.moveRate||100))}),t(h,Gw.CAMERA_LEFT,function(t,e){var n=t.getViewer().camera,i=t.getScene().globe.ellipsoid.cartesianToCartographic(n.position).height;n.moveLeft(i/(e.moveRate||100))}),t(h,Gw.CAMERA_LOOK_RIGHT,function(t,e){var n=t.getViewer().camera;n.lookRight(n.positionCartographic.latitude*(e.lookFactor||.01))}),t(h,Gw.CAMERA_LOOK_LEFT,function(t,e){var n=t.getViewer().camera;n.lookLeft(n.positionCartographic.latitude*(e.lookFactor||.01))}),t(h,Gw.CAMERA_LOOK_UP,function(t,e){var n=t.getViewer().camera;n.lookUp(n.positionCartographic.longitude*(-1*(e.lookFactor||.01)))}),t(h,Gw.CAMERA_LOOK_DOWN,function(t,e){var n=t.getViewer().camera;n.lookDown(n.positionCartographic.longitude*(-1*(e.lookFactor||.01)))}),t(h,Gw.CAMERA_TWIST_RIGHT,function(t,e){t.getViewer().camera.twistRight(e.amount||.01)}),t(h,Gw.CAMERA_TWIST_LEFT,function(t,e){t.getViewer().camera.twistLeft(e.amount||.01)}),t(h,Gw.CAMERA_ROTATE_RIGHT,function(t,e){t.getViewer().camera.rotateRight(e.angle||.01)}),t(h,Gw.CAMERA_ROTATE_LEFT,function(t,e){t.getViewer().camera.rotateLeft(e.angle||.01)}),t(h,Gw.CAMERA_ROTATE_UP,function(t,e){t.getViewer().camera.rotateUp(e.angle||.01)}),t(h,Gw.CAMERA_ROTATE_DOWN,function(t,e){t.getViewer().camera.rotateDown(e.angle||.01)}),t(h,Gw.CAMERA_ZOOM_IN,function(t,e){t.getViewer().camera.zoomIn(e.amount)}),t(h,Gw.CAMERA_ZOOM_OUT,function(t,e){t.getViewer().camera.zoomOut(e.amount)}),h),Qw=function(t){return t[t.IGNORED=0]="IGNORED",t[t.NOT_PRESSED=1]="NOT_PRESSED",t[t.PRESSED=2]="PRESSED",t}({}),Xw=((q_=function(){function t(e,n,i){m(this,t),this.ngZone=e,this.cesiumService=n,this.document=i,this._currentDefinitions=null,this._activeDefinitions={},this._keyMappingFn=this.defaultKeyMappingFn}return _(t,[{key:"init",value:function(){var t=this.cesiumService.getCanvas();t.addEventListener("click",function(){t.focus()}),this.handleKeydown=this.handleKeydown.bind(this),this.handleKeyup=this.handleKeyup.bind(this),this.handleTick=this.handleTick.bind(this)}},{key:"setKeyboardControls",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!t)return this.removeKeyboardControls();this._currentDefinitions||this.registerEvents(i),this._currentDefinitions=t,this._keyMappingFn=e||this.defaultKeyMappingFn,Object.keys(this._currentDefinitions).forEach(function(t){n._activeDefinitions[t]={state:Qw.NOT_PRESSED,action:null,keyboardEvent:null}})}},{key:"removeKeyboardControls",value:function(){this.unregisterEvents(),this._currentDefinitions=null}},{key:"getAction",value:function(t){return this._currentDefinitions[t]||null}},{key:"defaultKeyMappingFn",value:function(t){return String.fromCharCode(t.keyCode)}},{key:"handleKeydown",value:function(t){var e=this._keyMappingFn(t),n=this.getAction(e);if(n&&this._activeDefinitions[e].state!==Qw.IGNORED){var i=!0,r=this.getParams(n.params,t);n.validation&&(i=n.validation(this.cesiumService,r,t)),!0===i&&(this._activeDefinitions[e]={state:Qw.PRESSED,action:n,keyboardEvent:t})}}},{key:"handleKeyup",value:function(t){var e=this._keyMappingFn(t),n=this.getAction(e);n&&(this._activeDefinitions[e]={state:Qw.NOT_PRESSED,action:null,keyboardEvent:t},n.done&&"function"==typeof n.done&&n.done(this.cesiumService,t))}},{key:"handleTick",value:function(){var t=this;Object.keys(this._activeDefinitions).forEach(function(e){var n=t._activeDefinitions[e];null!==n&&null!==n.action&&n.state===Qw.PRESSED&&t.executeAction(n.action,e,n.keyboardEvent)})}},{key:"getParams",value:function(t,e){return t?"function"==typeof t?t(this.cesiumService,e):t:{}}},{key:"executeAction",value:function(t,e,n){if(this._currentDefinitions){var i=this.getParams(t.params,n);if(Object(Mm.isNumber)(t.action)){var r=Zw[t.action];r&&r(this.cesiumService,i,n)}else"function"==typeof t.action&&!1===t.action(this.cesiumService,i,n)&&(this._activeDefinitions[e]={state:Qw.IGNORED,action:null,keyboardEvent:null})}}},{key:"registerEvents",value:function(t){var e=this,n=function(){e.document.addEventListener("keydown",e.handleKeydown),e.document.addEventListener("keyup",e.handleKeyup),e.cesiumService.getViewer().clock.onTick.addEventListener(e.handleTick)};t?this.ngZone.runOutsideAngular(n):n()}},{key:"unregisterEvents",value:function(){this.document.removeEventListener("keydown",this.handleKeydown),this.document.removeEventListener("keyup",this.handleKeyup),this.cesiumService.getViewer().clock.onTick.removeEventListener(this.handleTick)}}]),t}()).\u0275fac=function(t){return new(t||q_)(vi(bu),vi(n_),vi(Xu))},q_.\u0275prov=At({token:q_,factory:q_.\u0275fac}),q_),Yw=function(){function t(e,n){m(this,t),this.event=e,this.modifier=n}return _(t,[{key:"init",value:function(t){var e=this;return this.observer=N.create(function(n){t.setInputAction(function(t){t.position&&(t.startPosition=t.position,t.endPosition=t.position),n.next(t)},e.event,e.modifier)}),this.observer}}]),t}(),$w=((W_=function(t){l(n,t);var e=f(n);function n(t,i,r){var o;return m(this,n),(o=e.call(this,t,i)).event=t,o.modifier=i,o.eventFactory=r,o}return _(n,[{key:"init",value:function(){var t,e;this.event===M_.LONG_LEFT_PRESS?(t=M_.LEFT_DOWN,e=M_.LEFT_UP):this.event===M_.LONG_RIGHT_PRESS?(t=M_.RIGHT_DOWN,e=M_.RIGHT_UP):this.event===M_.LONG_MIDDLE_PRESS&&(t=M_.MIDDLE_DOWN,e=M_.MIDDLE_UP);var i=null,r=this.eventFactory.get(t,this.modifier).pipe(vh(function(t){return i=t.endPosition})),o=this.eventFactory.get(M_.MOUSE_MOVE).pipe(El(function(t){return Math.abs(t.endPosition.x-i.x)>n.LONG_PRESS_EVENTS_MIN_DISTANCE_PX||Math.abs(t.endPosition.y-i.y)>n.LONG_PRESS_EVENTS_MIN_DISTANCE_PX})),s=ut(this.eventFactory.get(e,this.modifier),o);return Am()(r.pipe(it(function(t){return Cl(t).pipe(function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:kh,i=(e=t)instanceof Date&&!isNaN(+e)?+t-n.now():Math.abs(t);return function(t){return t.lift(new Rm(i,n))}}(n.LONG_PRESS_EVENTS_DURATION),Bv(s))})))}}]),n}(Yw)).LONG_PRESS_EVENTS_DURATION=250,W_.LONG_PRESS_EVENTS_MIN_DISTANCE_PX=10,W_),Jw=((K_=function(){function t(e){m(this,t),this.cesiumService=e,this.cesiumEventsObservables=new Map}return _(t,[{key:"init",value:function(){this.eventsHandler=this.cesiumService.getViewer().screenSpaceEventHandler}},{key:"get",value:function(e,n){var i=t.getEventFullName(e,n);if(this.cesiumEventsObservables.has(i))return this.cesiumEventsObservables.get(i);var r=this.createCesiumEventObservable(e,n);return this.cesiumEventsObservables.set(i,r),r}},{key:"createCesiumEventObservable",value:function(e,n){var i;return(i=t.longPressEvents.has(e)?this.createSpecialCesiumEventObservable(e,n):Am()(new Yw(e,n).init(this.eventsHandler))).connect(),i}},{key:"createSpecialCesiumEventObservable",value:function(t,e){return new $w(t,e,this).init()}}],[{key:"getEventFullName",value:function(t,e){return e?"".concat(t,"_").concat(e):t.toString()}}]),t}()).\u0275fac=function(t){return new(t||K_)(vi(n_))},K_.\u0275prov=At({token:K_,factory:K_.\u0275fac}),K_.longPressEvents=new Set([M_.LONG_LEFT_PRESS,M_.LONG_RIGHT_PRESS,M_.LONG_MIDDLE_PRESS]),K_),tk=((U_=function(){function t(){m(this,t),this._entitesToPlonter=[],this._plonterChangeNotifier=new ja,this._plonterObserver=new H}return _(t,[{key:"plonterChangeNotifier",get:function(){return this._plonterChangeNotifier}},{key:"plonterShown",get:function(){return this._plonterShown}},{key:"entitesToPlonter",get:function(){return this._entitesToPlonter}},{key:"plonterClickPosition",get:function(){return this._eventResult.movement}},{key:"plonterIt",value:function(t){return this._eventResult=t,this._entitesToPlonter=t.entities,this._plonterShown=!0,this._plonterChangeNotifier.emit(),this._plonterObserver}},{key:"resolvePlonter",value:function(t){this._plonterShown=!1,this._eventResult.entities=[t],this._plonterChangeNotifier.emit(),this._plonterObserver.next(this._eventResult)}}]),t}()).\u0275fac=function(t){return new(t||U_)},U_.\u0275prov=At({token:U_,factory:U_.\u0275fac}),U_),ek=function(){var t=function(){function t(){m(this,t)}return _(t,null,[{key:"getDragEventTypes",value:function(t){var e,n;return t===M_.LEFT_CLICK_DRAG?(e=M_.LEFT_DOWN,n=M_.LEFT_UP):t===M_.RIGHT_CLICK_DRAG?(e=M_.RIGHT_DOWN,n=M_.RIGHT_UP):t===M_.MIDDLE_CLICK_DRAG&&(e=M_.MIDDLE_DOWN,n=M_.MIDDLE_UP),{mouseDownEvent:e,mouseUpEvent:n}}}]),t}();return t.dragEvents=new Set([M_.LEFT_CLICK_DRAG,M_.RIGHT_CLICK_DRAG,M_.MIDDLE_CLICK_DRAG]),t}(),nk=_(function t(e,n,i,r){m(this,t),this.observable=e,this.stopper=n,this.priority=i,this.isPaused=r}),ik=(($_=function(){function t(e,n,i){m(this,t),this.cesiumService=e,this.eventBuilder=n,this.plonterService=i,this.eventRegistrations=new Map}return _(t,[{key:"init",value:function(){this.eventBuilder.init(),this.scene=this.cesiumService.getScene()}},{key:"register",value:function(t){var e=this;if(void 0===this.scene)throw new Error("CesiumService has not been initialized yet - MapEventsManagerService must be injected  under ac-map");if(t.pick=t.pick||A_.NO_PICK,t.priority=t.priority||0,t.pickConfig=t.pickConfig||{},t.entityType&&t.pick===A_.NO_PICK)throw new Error("MapEventsManagerService: can't register an event with entityType and PickOptions.NO_PICK - It doesn't make sense ");var n=Jw.getEventFullName(t.event,t.modifier);this.eventRegistrations.has(n)||this.eventRegistrations.set(n,[]);var i=this.createEventRegistration(t),r=i.observable;return r.dispose=function(){return e.disposeObservable(i,n)},this.eventRegistrations.get(n).push(i),this.sortRegistrationsByPriority(n),r}},{key:"disposeObservable",value:function(t,e){t.stopper.next(1);var n=this.eventRegistrations.get(e),i=n.indexOf(t);-1!==i&&n.splice(i,1),this.sortRegistrationsByPriority(e)}},{key:"sortRegistrationsByPriority",value:function(t){var e=this.eventRegistrations.get(t);if(e.sort(function(t,e){return e.priority-t.priority}),0!==e.length){var n=e[0].priority;e.forEach(function(t){t.isPaused=t.priority<n})}}},{key:"createEventRegistration",value:function(t){var e,n=this,i=t.event,r=t.modifier,o=t.entityType,s=t.pick,a=t.priority,u=t.pickFilter,c=t.pickConfig,l=this.eventBuilder.get(i,r),h=new H,f=new nk(void 0,h,a,!1);return e=ek.dragEvents.has(i)?this.createDragEvent({event:i,modifier:r,entityType:o,pick:s,priority:a,pickFilter:u,pickConfig:c}).pipe(Bv(h)):l.pipe(El(function(){return!f.isPaused}),U(function(t){return n.triggerPick(t,s,c)}),El(function(t){return null!==t.cesiumEntities||void 0===o}),U(function(t){return n.addEntities(t,o,s,u)}),El(function(t){return null!==t.entities||void 0===o&&!u}),qv(function(t){return n.plonter(t,s)}),Bv(h)),f.observable=e,f}},{key:"createDragEvent",value:function(t){var e=t.event,n=t.modifier,i=t.entityType,r=t.pick,o=t.priority,s=t.pickFilter,a=t.pickConfig,u=ek.getDragEventTypes(e),c=u.mouseDownEvent,l=u.mouseUpEvent,h=this.eventBuilder.get(l),f=this.eventBuilder.get(M_.MOUSE_MOVE),d=this.createEventRegistration({event:c,modifier:n,entityType:i,pick:r,priority:o,pickFilter:s,pickConfig:a}),p=new H;return ut(d.observable.pipe(it(function(t){var e=null,n=t.movement.startPosition.x,i=t.movement.startPosition.y;return f.pipe(U(function(r){return e={movement:{drop:!1,startPosition:{x:n,y:i},endPosition:r.endPosition},entities:t.entities,cesiumEntities:t.cesiumEntities}}),Bv(h),vh({complete:function(){if(e){var t=Object.assign({},e);t.movement.drop=!0,p.next(t)}}}))})),p)}},{key:"triggerPick",value:function(t,e,n){var i=[];switch(e){case A_.PICK_ONE:case A_.PICK_ALL:i=0===(i=this.scene.drillPick(t.endPosition,n.drillPickLimit,n.pickWidth,n.pickHeight)).length?null:i;break;case A_.PICK_FIRST:var r=this.scene.pick(t.endPosition,n.pickWidth,n.pickHeight);i=void 0===r?null:[r]}return i&&(i=i.map(function(t){return t.id&&t.id instanceof Cesium.Entity?t.id:t.primitive})),{movement:t,cesiumEntities:i}}},{key:"addEntities",value:function(t,e,n,i){if(null===t.cesiumEntities)return t.entities=null,t;var r=[];return n!==A_.NO_PICK&&(r=(r=e?t.cesiumEntities.map(function(t){return t.acEntity}).filter(function(t){return t&&t instanceof e}):t.cesiumEntities.map(function(t){return t.acEntity})).reduce(function(t,e){return t.indexOf(e)<0&&t.push(e),t},[]),0===(r=i&&r?r.filter(i):r).length&&(r=null)),t.entities=r,t}},{key:"plonter",value:function(t,e){return e===A_.PICK_ONE&&null!==t.entities&&t.entities.length>1?this.plonterService.plonterIt(t):Cl(t)}}]),t}()).\u0275fac=function(t){return new(t||$_)(vi(n_),vi(Jw),vi(tk))},$_.\u0275prov=At({token:$_,factory:$_.\u0275fac}),$_),rk=((Y_=function(){function t(e){m(this,t),this.cesiumService=e,this.layersDataSources=[]}return _(t,[{key:"registerLayerDataSources",value:function(t,e){var n=this;t.forEach(function(t){t.zIndex=e,n.layersDataSources.push(t)})}},{key:"drawAllLayers",value:function(){var t=this;this.layersDataSources.sort(function(t,e){return t.zIndex-e.zIndex}),this.layersDataSources.forEach(function(e){t.cesiumService.getViewer().dataSources.add(e)})}},{key:"updateAndRefresh",value:function(t,e){var n=this;t&&t.length&&(t.forEach(function(t){var i=n.layersDataSources.indexOf(t);-1!==i&&(n.layersDataSources[i].zIndex=e)}),this.cesiumService.getViewer().dataSources.removeAll(),this.drawAllLayers())}},{key:"removeDataSources",value:function(t){var e=this;t.forEach(function(t){var n=e.layersDataSources.indexOf(t);-1!==n&&(e.layersDataSources.splice(n,1),e.cesiumService.getViewer().dataSources.remove(t,!0))})}}]),t}()).\u0275fac=function(t){return new(t||Y_)(vi(n_))},Y_.\u0275prov=At({token:Y_,factory:Y_.\u0275fac}),Y_),ok=((X_=function(){function t(){m(this,t),this.defaultIdCounter=0,this._Maps=new Map,this.eventRemoveCallbacks=[]}return _(t,[{key:"getMap",value:function(t){return t?this._Maps.get(t):this.firstMap}},{key:"_registerMap",value:function(t,e){this.firstMap||(this.firstMap=e);var n=t||this.generateDefaultId();if(this._Maps.has(n))throw new Error("Map with id: ".concat(n," already exist"));return this._Maps.set(n,e),n}},{key:"_removeMapById",value:function(t){return this._Maps.delete(t)}},{key:"generateDefaultId",value:function(){return this.defaultIdCounter++,"default-map-id-"+this.defaultIdCounter}},{key:"sync2DMapsCameras",value:function(t){var e=this;this.unsyncMapsCameras();var n=t.map(function(t){var n=e.getMap(t.id);if(!n)throw new Error("Couldn't find map with id: ".concat(t.id));return{map:n,options:{sensitivity:t.sensitivity,bindZoom:t.bindZoom}}});n.forEach(function(t){var i=t.map,r=t.options,o=i.getCameraService().getCamera(),s=o.positionCartographic;o.percentageChanged=r.sensitivity||.01;var a=o.changed.addEventListener(function(){n.forEach(function(t){var e=t.map,n=t.options;if(e!==i){var r=e.getCameraService().getCamera(),o=Cesium.Ellipsoid.WGS84.cartographicToCartesian({longitude:s.longitude,latitude:s.latitude,height:n.bindZoom?s.height:r.positionCartographic.height});e.getCesiumViewer().scene.mode!==Cesium.SceneMode.MORPHING&&r.setView({destination:o,orientation:{heading:r.heading,pitch:r.pitch}})}})});e.eventRemoveCallbacks.push(a)})}},{key:"unsyncMapsCameras",value:function(){this.eventRemoveCallbacks.forEach(function(t){return t()}),this.eventRemoveCallbacks=[]}}]),t}()).\u0275fac=function(t){return new(t||X_)},X_.\u0275prov=At({token:X_,factory:X_.\u0275fac}),X_),sk=((Q_=function(){function t(e){m(this,t),this.cesiumService=e}return _(t,[{key:"getMapScreenshotDataUrlBase64",value:function(){return this.cesiumService.getCanvas().toDataURL()}},{key:"downloadMapScreenshot",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"map.png",e=this.getMapScreenshotDataUrlBase64();this.downloadURI(e,t)}},{key:"downloadURI",value:function(t,e){var n=document.createElement("a");n.download=e,n.href=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)}}]),t}()).\u0275fac=function(t){return new(t||Q_)(vi(n_))},Q_.\u0275prov=At({token:Q_,factory:Q_.\u0275fac}),Q_),ak=((Z_=function(){function t(e,n,i,r,o,s,a,u,c,l,h,f,d,p,v,y,g,_,w,k){m(this,t),this._cesiumService=e,this._cameraService=n,this._elemRef=i,this.document=r,this.mapsManagerService=o,this.billboardDrawerService=s,this.labelDrawerService=a,this.ellipseDrawerService=u,this.polylineDrawerService=c,this.polygonDrawerService=l,this.arcDrawerService=h,this.pointDrawerService=f,this.czmlDrawerService=d,this.mapEventsManager=p,this.keyboardControlService=v,this.mapLayersService=y,this.configurationService=g,this.screenshotService=_,this.contextMenuService=w,this.coordinateConverter=k,this.disableDefaultPlonter=!1,this.mapContainer=this.document.createElement("div"),this.mapContainer.style.width="100%",this.mapContainer.style.height="100%",this.mapContainer.className="map-container",this._cesiumService.init(this.mapContainer,this),this._cameraService.init(this._cesiumService),this.mapEventsManager.init(),this.billboardDrawerService.init(),this.labelDrawerService.init(),this.ellipseDrawerService.init(),this.polylineDrawerService.init(),this.polygonDrawerService.init(),this.arcDrawerService.init(),this.pointDrawerService.init(),this.czmlDrawerService.init(),this.keyboardControlService.init(),this.contextMenuService.init(this.mapEventsManager)}return _(t,[{key:"ngOnInit",value:function(){this.mapId=this.mapsManagerService._registerMap(this.mapId,this),this.containerId||this._elemRef.nativeElement.appendChild(this.mapContainer)}},{key:"ngOnChanges",value:function(t){if(t.sceneMode&&this._cameraService.setSceneMode(t.sceneMode.currentValue),t.flyTo&&this._cameraService.cameraFlyTo(t.flyTo.currentValue),t.containerId&&!t.containerId.firstChange){var e=this.document.getElementById(t.containerId.currentValue);if(!e)throw new Error("No element found with id: ".concat(t.containerId.currentValue));e.appendChild(this.mapContainer)}}},{key:"ngAfterViewInit",value:function(){var t=this;this.mapLayersService.drawAllLayers(),this.containerId&&setTimeout(function(){var e=t.document.getElementById(t.containerId);if(!e)throw new Error("No element found with id: ".concat(t.containerId));e.appendChild(t.mapContainer)},0)}},{key:"ngOnDestroy",value:function(){this.mapContainer.remove(),this.mapsManagerService._removeMapById(this.mapId)}},{key:"getCesiumService",value:function(){return this._cesiumService}},{key:"getCesiumViewer",value:function(){return this._cesiumService.getViewer()}},{key:"getCameraService",value:function(){return this._cameraService}},{key:"getId",value:function(){return this.mapId}},{key:"getMapContainer",value:function(){return this.mapContainer}},{key:"getMapEventsManager",value:function(){return this.mapEventsManager}},{key:"getContextMenuService",value:function(){return this.contextMenuService}},{key:"getScreenshotService",value:function(){return this.screenshotService}},{key:"getKeyboardControlService",value:function(){return this.keyboardControlService}},{key:"getCoordinateConverter",value:function(){return this.coordinateConverter}}]),t}()).\u0275fac=function(t){return new(t||Z_)(zo(n_),zo(T_),zo(js),zo(Xu),zo(ok),zo(Vw),zo(zw),zo(Hw),zo(Kw),zo(Uw),zo(Nw),zo(qw),zo(Bw),zo(ik),zo(Xw),zo(rk),zo(S_),zo(sk),zo(R_),zo(Ow))},Z_.\u0275cmp=ae({type:Z_,selectors:[["ac-map"]],inputs:{disableDefaultPlonter:"disableDefaultPlonter",mapId:"mapId",flyTo:"flyTo",sceneMode:"sceneMode",containerId:"containerId"},features:[Os([n_,Vw,Jw,Xw,ik,tk,zw,Kw,Ww,Hw,qw,Nw,Bw,Uw,rk,T_,sk,R_,Ow]),xe],ngContentSelectors:Ug,decls:3,vars:1,consts:[[4,"ngIf"]],template:function(t,e){1&t&&(is(),Ho(0,qg,1,0,"ac-default-plonter",0),Go(1,"ac-context-menu-wrapper"),rs(2)),2&t&&qo("ngIf",!e.disableDefaultPlonter)},directives:function(){return[xc,qk,zk]},encapsulation:2}),Z_),uk=((G_=function(){function t(){m(this,t),this._cache=!0,this.descriptions=[],this.layerUpdate=new ja}return _(t,[{key:"cache",get:function(){return this._cache},set:function(t){this._cache=t}},{key:"zIndex",get:function(){return this._zIndex},set:function(t){t!==this._zIndex&&this.layerUpdate.emit(),this._zIndex=t}},{key:"show",get:function(){return this._show},set:function(t){t!==this._show&&this.layerUpdate.emit(),this._show=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t,this.layerUpdate.emit()}},{key:"context",get:function(){return this._context},set:function(t){this._context=t,this.layerUpdate.emit()}},{key:"setEntityName",value:function(t){this._entityName=t}},{key:"getEntityName",value:function(){return this._entityName}},{key:"registerDescription",value:function(t){this.descriptions.indexOf(t)<0&&this.descriptions.push(t)}},{key:"unregisterDescription",value:function(t){var e=this.descriptions.indexOf(t);e>-1&&this.descriptions.splice(e,1)}},{key:"getDescriptions",value:function(){return this.descriptions}},{key:"layerUpdates",value:function(){return this.layerUpdate}}]),t}()).\u0275fac=function(t){return new(t||G_)},G_.\u0275prov=At({token:G_,factory:G_.\u0275fac}),G_),ck=function(t){return t[t.ADD_UPDATE=0]="ADD_UPDATE",t[t.DELETE=1]="DELETE",t}({}),lk=((J_=function(){function t(){m(this,t),this._cache=new Map}return _(t,[{key:"get",value:function(t,e){if(this._cache.has(t))return this._cache.get(t);var n=e();return this._cache.set(t,n),n}},{key:"clear",value:function(){this._cache.clear()}}]),t}()).\u0275fac=function(t){return new(t||J_)},J_.\u0275prov=At({token:J_,factory:J_.\u0275fac}),J_),hk=function(){function t(){m(this,t)}return _(t,null,[{key:"throwIfAnyNotPresent",value:function(e,n){n.forEach(function(n){return t.throwIfNotPresent(e,n)})}},{key:"throwIfNotPresent",value:function(e,n){if(!t.present(e[n]))throw new Error("Error: ".concat(n," was not given."))}},{key:"present",value:function(t){return null!=t}}]),t}(),fk=((ew=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PrimitiveCollection,t)}return _(n,[{key:"add",value:function(t){return hk.throwIfAnyNotPresent(t,["center","semiMajorAxis","semiMinorAxis"]),u(y(n.prototype),"add",this).call(this,new Im.EllipsePrimitive(t))}},{key:"update",value:function(t,e){return t.updateLocationData(e),t}}]),n}(Iw)).\u0275fac=function(t){return new(t||ew)(vi(n_))},ew.\u0275prov=At({token:ew,factory:ew.\u0275fac}),ew),dk=((tw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PolylineCollection,t)}return _(n)}(Iw)).\u0275fac=function(t){return new(t||tw)(vi(n_))},tw.\u0275prov=At({token:tw,factory:tw.\u0275fac}),tw),pk=function(t){l(n,t);var e=f(n);function n(t,i){var r;return m(this,n),(r=e.call(this,Cesium.PrimitiveCollection,i)).geometryType=t,r}return _(n,[{key:"add",value:function(t,e,i){if(0===Object.keys(e).length)throw new Error("instanceProps object is empty");e.geometry=new this.geometryType(t),i.geometryInstances=new Cesium.GeometryInstance(e),i.asynchronous=!1;var r=new Cesium.Primitive(i);return u(y(n.prototype),"add",this).call(this,r)}},{key:"update",value:function(t,e,i,r){return i.geometry=new this.geometryType(e),r.geometryInstances=new Cesium.GeometryInstance(i),this._cesiumCollection.remove(t),u(y(n.prototype),"add",this).call(this,new Cesium.Primitive(r))}}]),n}(Iw),vk=((xw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.CircleGeometry,t)}return _(n)}(pk)).\u0275fac=function(t){return new(t||xw)(vi(n_))},xw.\u0275prov=At({token:xw,factory:xw.\u0275fac}),xw),yk=((Sw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PolylineGeometry,t)}return _(n,[{key:"update",value:function(t,e,n,i){var r=n.attributes.color.value;return t.ready?t.getGeometryInstanceAttributes().color=r:Cesium.when(t.readyPromise).then(function(t){t.getGeometryInstanceAttributes().color.value=r}),t}}]),n}(pk)).\u0275fac=function(t){return new(t||Sw)(vi(n_))},Sw.\u0275prov=At({token:Sw,factory:Sw.\u0275fac}),Sw),mk=((Ew=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PolygonGeometry,t)}return _(n)}(pk)).\u0275fac=function(t){return new(t||Ew)(vi(n_))},Ew.\u0275prov=At({token:Ew,factory:Ew.\u0275fac}),Ew),gk=((Cw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.EllipseGeometry,t)}return _(n)}(pk)).\u0275fac=function(t){return new(t||Cw)(vi(n_))},Cw.\u0275prov=At({token:Cw,factory:Cw.\u0275fac}),Cw),_k=((bw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.model)}return _(n)}(jw)).\u0275fac=function(t){return new(t||bw)(vi(n_))},bw.\u0275prov=At({token:bw,factory:bw.\u0275fac}),bw),wk=((kw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.box)}return _(n)}(jw)).\u0275fac=function(t){return new(t||kw)(vi(n_))},kw.\u0275prov=At({token:kw,factory:kw.\u0275fac}),kw),kk=((ww=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.corridor)}return _(n)}(jw)).\u0275fac=function(t){return new(t||ww)(vi(n_))},ww.\u0275prov=At({token:ww,factory:ww.\u0275fac}),ww),bk=((_w=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.cylinder)}return _(n)}(jw)).\u0275fac=function(t){return new(t||_w)(vi(n_))},_w.\u0275prov=At({token:_w,factory:_w.\u0275fac}),_w),Ck=((gw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.ellipsoid)}return _(n)}(jw)).\u0275fac=function(t){return new(t||gw)(vi(n_))},gw.\u0275prov=At({token:gw,factory:gw.\u0275fac}),gw),Ek=((mw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.polylineVolume)}return _(n)}(jw)).\u0275fac=function(t){return new(t||mw)(vi(n_))},mw.\u0275prov=At({token:mw,factory:mw.\u0275fac}),mw),Sk=((yw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.wall)}return _(n)}(jw)).\u0275fac=function(t){return new(t||yw)(vi(n_))},yw.\u0275prov=At({token:yw,factory:yw.\u0275fac}),yw),xk=((vw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,t,Lw.rectangle)}return _(n)}(jw)).\u0275fac=function(t){return new(t||vw)(vi(n_))},vw.\u0275prov=At({token:vw,factory:vw.\u0275fac}),vw),Tk=((pw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.LabelCollection,t)}return _(n)}(Iw)).\u0275fac=function(t){return new(t||pw)(vi(n_))},pw.\u0275prov=At({token:pw,factory:pw.\u0275fac}),pw),Mk=((dw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.BillboardCollection,t)}return _(n)}(Iw)).\u0275fac=function(t){return new(t||dw)(vi(n_))},dw.\u0275prov=At({token:dw,factory:dw.\u0275fac}),dw),Ak=((fw=function(t){l(n,t);var e=f(n);function n(t){return m(this,n),e.call(this,Cesium.PointPrimitiveCollection,t)}return _(n)}(Iw)).\u0275fac=function(t){return new(t||fw)(vi(n_))},fw.\u0275prov=At({token:fw,factory:fw.\u0275fac}),fw),Rk=((hw=function(t){l(n,t);var e=f(n);function n(t){var i;return m(this,n),(i=e.call(this,Cesium.HtmlCollection,t))._cesiumService=t,i}return _(n,[{key:"add",value:function(t){return t.scene=this._cesiumService.getScene(),t.mapContainer=this._cesiumService.getMap().getMapContainer(),u(y(n.prototype),"add",this).call(this,t)}}]),n}(Iw)).\u0275fac=function(t){return new(t||hw)(vi(n_))},hw.\u0275prov=At({token:hw,factory:hw.\u0275fac}),hw),Ok=((lw=function(){function t(e,n,i,r,o,s,a,u,c,l,h,f,d,p,v,y,g,_,w,k,b,C,E,S,x,T,M,A,R,O){m(this,t),this.layerService=e,this._computationCache=n,this.mapLayersService=i,this.show=!0,this.store=!1,this.zIndex=0,this.debug=!1,this.acForRgx=/^let\s+.+\s+of\s+.+$/,this.stopObservable=new H,this._updateStream=new H,this.entitiesStore=new Map,this.layerDrawerDataSources=[],this._drawerList=new Map([["billboard",r],["label",o],["ellipse",s],["polyline",a],["polygon",u],["arc",c],["point",l],["model",h],["box",f],["corridor",d],["cylinder",p],["ellipsoid",v],["polylineVolume",y],["rectangle",_],["wall",g],["polylinePrimitive",x],["labelPrimitive",T],["billboardPrimitive",M],["pointPrimitive",A],["html",R],["czml",O],["dynamicEllipse",w],["dynamicPolyline",k],["staticCircle",b],["staticPolyline",C],["staticPolygon",E],["staticEllipse",S]])}return _(t,[{key:"init",value:function(){var t=this;this.initValidParams(),ut(this._updateStream,this.observable).pipe(Bv(this.stopObservable)).subscribe(function(e){t._computationCache.clear(),t.debug&&console.log("AcLayer received notification:",e);var n=e.entity;t.store&&(n=t.updateStore(e)),t.context[t.entityName]=n,t.layerService.getDescriptions().forEach(function(i){switch(e.actionType){case ck.ADD_UPDATE:i.draw(t.context,e.id,n);break;case ck.DELETE:i.remove(e.id);break;default:console.error("[ac-layer] unknown AcNotification.actionType for notification: "+e)}})})}},{key:"updateStore",value:function(t){if(t.actionType!==ck.DELETE){if(this.entitiesStore.has(t.id)){var e=this.entitiesStore.get(t.id);return Object.assign(e,t.entity),e}return this.entitiesStore.set(t.id,t.entity),t.entity}this.entitiesStore.delete(t.id)}},{key:"initValidParams",value:function(){if(!this.context)throw new Error("ac-layer: must initialize [context] ");if(!this.acForRgx.test(this.acFor))throw new Error('ac-layer: Invalid [acFor] syntax. Expected: [acFor]="let item of observable" .Instead received: '.concat(this.acFor));var t=this.acFor.split(" ");if(this.observable=this.context[t[3]],this.entityName=t[1],!this.isObservable(this.observable))throw new Error("ac-layer: must initailize [acFor] with rx observable, instead received: "+this.observable);this.layerService.context=this.context,this.layerService.setEntityName(this.entityName)}},{key:"isObservable",value:function(t){return t&&"function"==typeof t.subscribe}},{key:"ngAfterContentInit",value:function(){this.init()}},{key:"ngOnInit",value:function(){var t=this;this.layerService.context=this.context,this.layerService.options=this.options,this.layerService.show=this.show,this.layerService.zIndex=this.zIndex,this._drawerList.forEach(function(e,n){var r,o=e.init(t.options?t.options[n]:void 0);o&&(r=t.layerDrawerDataSources).push.apply(r,i(o)),e.setShow(t.show)})}},{key:"ngOnChanges",value:function(t){if(t.show&&!t.show.firstChange){var e=t.show.currentValue;this.layerService.show=e,this._drawerList.forEach(function(t){return t.setShow(e)})}if(t.zIndex&&!t.zIndex.firstChange){var n=t.zIndex.currentValue;this.layerService.zIndex=n,this.mapLayersService.updateAndRefresh(this.layerDrawerDataSources,n)}}},{key:"ngOnDestroy",value:function(){this.mapLayersService.removeDataSources(this.layerDrawerDataSources),this.stopObservable.next(!0),this.removeAll()}},{key:"getLayerService",value:function(){return this.layerService}},{key:"getLayerDrawerDataSources",value:function(){return this.layerDrawerDataSources}},{key:"getDrawerDataSourcesByName",value:function(t){return this.layerDrawerDataSources.filter(function(e){return e.name===t})}},{key:"getStore",value:function(){return this.entitiesStore}},{key:"removeAll",value:function(){this.layerService.getDescriptions().forEach(function(t){return t.removeAll()}),this.entitiesStore.clear()}},{key:"remove",value:function(t){this._updateStream.next({id:t,actionType:ck.DELETE}),this.entitiesStore.delete(t)}},{key:"updateNotification",value:function(t){this._updateStream.next(t)}},{key:"update",value:function(t,e){this._updateStream.next({entity:t,id:e,actionType:ck.ADD_UPDATE})}},{key:"refreshAll",value:function(t){var e=this;J(t).subscribe(function(t){return e._updateStream.next(t)})}}]),t}()).\u0275fac=function(t){return new(t||lw)(zo(uk),zo(lk),zo(rk),zo(Vw),zo(zw),zo(Hw),zo(Kw),zo(Uw),zo(Nw),zo(qw),zo(_k),zo(wk),zo(kk),zo(bk),zo(Ck),zo(Ek),zo(Sk),zo(xk),zo(fk),zo(dk),zo(vk),zo(yk),zo(mk),zo(gk),zo(Ww),zo(Tk),zo(Mk),zo(Ak),zo(Rk),zo(Bw))},lw.\u0275cmp=ae({type:lw,selectors:[["ac-layer"]],inputs:{show:"show",store:"store",zIndex:"zIndex",debug:"debug",acFor:"acFor",context:"context",options:"options"},features:[Os([uk,lk,Vw,zw,Hw,Kw,Nw,qw,Uw,_k,wk,kk,bk,Ck,Ek,Sk,xk,Ww,Tk,Mk,Ak,Rk,Bw,fk,dk,vk,yk,mk,gk]),xe],ngContentSelectors:Ug,decls:1,vars:0,template:function(t,e){1&t&&(is(),rs(0))},encapsulation:2,changeDetection:0}),lw),Pk=((cw=function(){function t(){m(this,t),this._mapper=new Dm.JsonStringMapper}return _(t,[{key:"map",value:function(t){return this._mapper.map(t)}}]),t}()).\u0275fac=function(t){return new(t||cw)},cw.\u0275prov=At({token:cw,factory:cw.\u0275fac}),cw),Ik=((uw=function(){function t(e,n){m(this,t),this._parser=e,this._jsonMapper=n,this._assignersCache=new Map,this._evaluatorsCache=new Map}return _(t,[{key:"_compile",value:function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i={},r=new Map;this._jsonMapper.map(t).forEach(function(t,n){return r.set(n,{expression:t,get:e._parser.eval(t)})}),r.forEach(function(t,e){i[e||"undefined"]=n?"cache.get(`".concat(t.expression,"`, () => propsMap.get('").concat(e,"').get(context))"):"propsMap.get('".concat(e,"').get(context)")});var o="return ".concat(JSON.stringify(i).replace(/"/g,""),";"),s=new Function("propsMap","cache","context",o);return function(t,e){return s(r,t,e)}}},{key:"_build",value:function(t){var e=Array.from(this._jsonMapper.map(t).keys()),n=function(){function t(){m(this,t)}return _(t,null,[{key:"create",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n="";t.forEach(function(t){n+=e?"if(!(obj1['".concat(t,"'] instanceof Cesium.CallbackProperty))obj1['").concat(t,"'] = obj2['").concat(t,"']; "):"if (!(obj1['".concat(t,"'] instanceof Cesium.CallbackProperty) && obj2['").concat(t,"'] !== undefined) { obj1['").concat(t,"'] = obj2['").concat(t,"']; } ")}),n+="return obj1";var i=new Function("obj1","obj2",n);return function(t,e){return i(t,e)}}}]),t}().create(e);return function(t,e){return n(t,e)}}},{key:"createEvaluator",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!n&&this._evaluatorsCache.has(t))return this._evaluatorsCache.get(t);var i=this._compile(t,e);return this._evaluatorsCache.set(t,i),i}},{key:"createAssigner",value:function(t){if(this._assignersCache.has(t))return this._assignersCache.get(t);var e=this._build(t);return this._assignersCache.set(t,e),e}}]),t}()).\u0275fac=function(t){return new(t||uw)(vi(Hg),vi(Pk))},uw.\u0275prov=At({token:uw,factory:uw.\u0275fac}),uw),Dk=((aw=function(){function t(e,n,i,r){m(this,t),this._drawer=e,this._layerService=n,this._computationCache=i,this._cesiumProperties=r,this.onDraw=new ja,this.onRemove=new ja,this._cesiumObjectsMap=new Map}return _(t,[{key:"_propsEvaluator",value:function(t){return this._propsEvaluateFn(this._computationCache,t)}},{key:"_getPropsAssigner",value:function(){var t=this;return function(e,n){return t._propsAssignerFn(e,n)}}},{key:"getLayerService",value:function(){return this._layerService}},{key:"setLayerService",value:function(t){this._layerService.unregisterDescription(this),this._layerService=t,this._layerService.registerDescription(this),this._propsEvaluateFn=this._cesiumProperties.createEvaluator(this.props,this._layerService.cache,!0),this._propsAssignerFn=this._cesiumProperties.createAssigner(this.props)}},{key:"ngOnInit",value:function(){this.props||console.error("ac-desc components error: [props] input is mandatory"),this._layerService.registerDescription(this),this._propsEvaluateFn=this._cesiumProperties.createEvaluator(this.props,this._layerService.cache),this._propsAssignerFn=this._cesiumProperties.createAssigner(this.props)}},{key:"getCesiumObjectsMap",value:function(){return this._cesiumObjectsMap}},{key:"draw",value:function(t,e,n){var i=this._propsEvaluator(t);if(this._cesiumObjectsMap.has(e)){var r=this._cesiumObjectsMap.get(e);this.onDraw.emit({acEntity:n,cesiumEntity:r,entityId:e}),r.acEntity=n,this._drawer.setPropsAssigner(this._getPropsAssigner()),this._drawer.update(r,i)}else{var o=this._drawer.add(i);this.onDraw.emit({acEntity:n,cesiumEntity:o,entityId:e}),o.acEntity=n,this._cesiumObjectsMap.set(e,o)}}},{key:"remove",value:function(t){var e=this._cesiumObjectsMap.get(t);e&&(this.onRemove.emit({acEntity:e.acEntity,cesiumEntity:e,entityId:t}),this._drawer.remove(e),this._cesiumObjectsMap.delete(t))}},{key:"removeAll",value:function(){this._cesiumObjectsMap.clear(),this._drawer.removeAll()}},{key:"ngOnDestroy",value:function(){this._layerService.unregisterDescription(this),this.removeAll()}}]),t}()).\u0275fac=function(t){return new(t||aw)(zo(Pw),zo(uk),zo(lk),zo(Ik))},aw.\u0275dir=de({type:aw,inputs:{props:"props"},outputs:{onDraw:"onDraw",onRemove:"onRemove"}}),aw),Nk=((sw=function(t){l(n,t);var e=f(n);function n(t,i,r,o){return m(this,n),e.call(this,t,i,r,o)}return _(n)}(Dk)).\u0275fac=function(t){return new(t||sw)(zo(Kw),zo(uk),zo(lk),zo(Ik))},sw.\u0275cmp=ae({type:sw,selectors:[["ac-polyline-desc"]],features:[Os([{provide:Dk,useExisting:Ct(function(){return sw})}]),Ao],decls:0,vars:0,template:function(t,e){},encapsulation:2}),sw),Lk=((ow=function(){function t(){m(this,t)}return _(t,[{key:"transform",value:function(t,e){return new Cesium.Cartesian2(t[0],t[1])}}]),t}()).\u0275fac=function(t){return new(t||ow)},ow.\u0275pipe=pe({name:"pixelOffset",type:ow,pure:!0}),ow),Fk=((rw=function(){function t(){m(this,t)}return _(t,[{key:"transform",value:function(t,e){return(360-Math.round(180*t/Math.PI))%360}}]),t}()).\u0275fac=function(t){return new(t||rw)},rw.\u0275pipe=pe({name:"radiansToDegrees",type:rw,pure:!0}),rw),jk=((iw=function(t){l(n,t);var e=f(n);function n(t,i,r,o){return m(this,n),e.call(this,t,i,r,o)}return _(n)}(Dk)).\u0275fac=function(t){return new(t||iw)(zo(zw),zo(uk),zo(lk),zo(Ik))},iw.\u0275cmp=ae({type:iw,selectors:[["ac-label-desc"]],features:[Os([{provide:Dk,useExisting:Ct(function(){return iw})}]),Ao],decls:0,vars:0,template:function(t,e){},encapsulation:2}),iw),Vk=((nw=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||nw)},nw.\u0275mod=he({type:nw}),nw.\u0275inj=Rt({providers:[],imports:[[Uc]]}),nw),Bk=function(t){return t[t.CesiumTerrain=Cesium.CesiumTerrainProvider]="CesiumTerrain",t[t.ArcGISTiledElevation=Cesium.ArcGISTiledElevationTerrainProvider]="ArcGISTiledElevation",t[t.GoogleEarthEnterprise=Cesium.GoogleEarthEnterpriseTerrainProvider]="GoogleEarthEnterprise",t[t.VRTheWorld=Cesium.VRTheWorldTerrainProvider]="VRTheWorld",t[t.Ellipsoid=Cesium.EllipsoidTerrainProvider]="Ellipsoid",t[t.WorldTerrain=Cesium.createWorldTerrain]="WorldTerrain",t}({}),Hk=((Mw=function(){function t(e,n,i){m(this,t),this.cesiumService=e,this.elementRef=n,this.renderer=i,this.isDraw=!1}return _(t,[{key:"setScreenPosition",value:function(t){t&&(this.renderer.setStyle(this.elementRef.nativeElement,"top","".concat(t.y,"px")),this.renderer.setStyle(this.elementRef.nativeElement,"left","".concat(t.x,"px")))}},{key:"ngOnInit",value:function(){this.cesiumService.getMap().getMapContainer().appendChild(this.elementRef.nativeElement),!1===this.props.show&&this.hideElement()}},{key:"remove",value:function(){this.isDraw&&(this.isDraw=!1,this.cesiumService.getScene().preRender.removeEventListener(this.preRenderEventListener),this.hideElement())}},{key:"hideElement",value:function(){this.renderer.setStyle(this.elementRef.nativeElement,"display","none")}},{key:"add",value:function(){var t=this;this.isDraw||(this.isDraw=!0,this.preRenderEventListener=function(){var e=Cesium.SceneTransforms.wgs84ToWindowCoordinates(t.cesiumService.getScene(),t.props.position);t.setScreenPosition(e)},this.renderer.setStyle(this.elementRef.nativeElement,"display","block"),this.cesiumService.getScene().preRender.addEventListener(this.preRenderEventListener))}},{key:"ngDoCheck",value:function(){void 0===this.props.show||this.props.show?this.add():this.remove()}},{key:"ngOnDestroy",value:function(){this.remove()}}]),t}()).\u0275fac=function(t){return new(t||Mw)(zo(n_),zo(js),zo(Hs))},Mw.\u0275cmp=ae({type:Mw,selectors:[["ac-html"]],inputs:{props:"props"},ngContentSelectors:Ug,decls:1,vars:0,template:function(t,e){1&t&&(is(),rs(0))},styles:["[_nghost-%COMP%] {\n                position: absolute;\n                z-index: 100;\n\t\t\t\t}"]}),Mw),zk=((Tw=function(){function t(e,n,i){m(this,t),this.plonterService=e,this.cd=n,this.geoConverter=i}return _(t,[{key:"ngOnInit",value:function(){var t=this;this.plonterService.plonterChangeNotifier.subscribe(function(){return t.cd.detectChanges()})}},{key:"plonterPosition",get:function(){if(this.plonterService.plonterShown)return this.geoConverter.screenToCartesian3(this.plonterService.plonterClickPosition.endPosition)}},{key:"chooseEntity",value:function(t){this.plonterService.resolvePlonter(t)}}]),t}()).\u0275fac=function(t){return new(t||Tw)(zo(tk),zo(la),zo(Ow))},Tw.\u0275cmp=ae({type:Tw,selectors:[["ac-default-plonter"]],features:[Os([Ow])],decls:1,vars:1,consts:[[3,"props",4,"ngIf"],[3,"props"],[1,"plonter-context-menu"],[4,"ngFor","ngForOf"],[1,"plonter-item",3,"click"]],template:function(t,e){1&t&&Ho(0,Gg,3,4,"ac-html",0),2&t&&qo("ngIf",e.plonterService.plonterShown)},directives:[xc,Hk,Ec],styles:[".plonter-context-menu[_ngcontent-%COMP%] {\n            background-color: rgba(250, 250, 250, 0.8);\n            box-shadow: 1px 1px 5px 0px rgba(0, 0, 0, 0.15);\n        }\n\n        .plonter-item[_ngcontent-%COMP%] {\n            cursor: pointer;\n            padding: 2px 15px;\n            text-align: start;\n        }\n\n        .plonter-item[_ngcontent-%COMP%]:hover {\n            background-color: rgba(0, 0, 0, 0.15);\n        }"],changeDetection:0}),Tw),qk=((Aw=function(){function t(e,n,i){m(this,t),this.contextMenuService=e,this.cd=n,this.componentFactoryResolver=i}return _(t,[{key:"ngOnInit",value:function(){var t=this;this.contextMenuChangeSubscription=this.contextMenuService.contextMenuChangeNotifier.subscribe(function(){return t.cd.detectChanges()}),this.contextMenuOpenSubscription=this.contextMenuService.onOpen.subscribe(function(){var e=t.componentFactoryResolver.resolveComponentFactory(t.contextMenuService.content);t.viewContainerRef.clear(),t.viewContainerRef.createComponent(e).instance.data=t.contextMenuService.options.data,t.cd.detectChanges()})}},{key:"ngOnDestroy",value:function(){this.contextMenuChangeSubscription&&this.contextMenuChangeSubscription.unsubscribe(),this.contextMenuOpenSubscription&&this.contextMenuOpenSubscription.unsubscribe()}}]),t}()).\u0275fac=function(t){return new(t||Aw)(zo(R_),zo(la),zo(Ds))},Aw.\u0275cmp=ae({type:Aw,selectors:[["ac-context-menu-wrapper"]],viewQuery:function(t,e){var n;1&t&&Ya(Zg,1,ka),2&t&&Xa(n=$a())&&(e.viewContainerRef=n.first)},decls:1,vars:1,consts:[[3,"props",4,"ngIf"],[3,"props"],["contextMenuContainer",""]],template:function(t,e){1&t&&Ho(0,Xg,3,3,"ac-html",0),2&t&&qo("ngIf",e.contextMenuService.showContextMenu)},directives:[xc,Hk],encapsulation:2,changeDetection:0}),Aw),Uk=[{pipeName:"pixelOffset",pipeInstance:new Lk},{pipeName:"radiansToDegrees",pipeInstance:new Fk}],Kk=((Rw=function(){function t(){m(this,t)}return _(t,null,[{key:"forRoot",value:function(e){return{ngModule:t,providers:[Pk,Ik,Dw,t_,ok,S_,{provide:E_,useValue:e},{provide:Bg,multi:!0,useValue:e&&e.customPipes||[]},{provide:Bg,multi:!0,useValue:Uk}]}}}]),t}()).\u0275fac=function(t){return new(t||Rw)},Rw.\u0275mod=he({type:Rw}),Rw.\u0275inj=Rt({imports:[[Uc,zg,Vk]]}),Rw);Cesium.Color.WHITE.withAlpha(.95),Cesium.Color.BLACK.withAlpha(.5),new Cesium.Color(.165,.165,.165,.7),new Cesium.Cartesian2(25,20),Cesium,Cesium,Cesium,Cesium,Cesium,Cesium,Cesium,Cesium,Cesium.Color.WHITE.withAlpha(.95),Cesium.Color.BLACK.withAlpha(.2),Cesium.Color.CORNFLOWERBLUE.withAlpha(.4),Cesium,Cesium,Cesium.Color.CORNFLOWERBLUE.withAlpha(.4),Cesium.Color.WHITE.withAlpha(.8),Cesium,Cesium,Cesium,Cesium.Color.BLACK.withAlpha(.2),Cesium.Color.CORNFLOWERBLUE.withAlpha(.4),Cesium.Color.WHITE.withAlpha(.8),Cesium,Cesium,Cesium,Cesium.Color.BLACK.withAlpha(.2),Cesium.Color.WHITE.withAlpha(.95),Cesium.Color.BLACK.withAlpha(.5),Cesium,Cesium.Color.CORNFLOWERBLUE.withAlpha(.4),Cesium.Color.WHITE.withAlpha(.8),Cesium,Cesium,Cesium,Cesium.Color.BLACK.withAlpha(.2);var Wk,Gk,Zk=((Wk=function(){function t(e,n){m(this,t),this.document=e,this.mapsManager=n,this.mainSubject=new H}return _(t,[{key:"setCoordinateConverter",value:function(t){this.coordinateConverter=t}},{key:"drag",value:function(t,e){var n=this;if(!this.coordinateConverter){var i=this.mapsManager.getMap();i&&(this.coordinateConverter=i.getCoordinateConverter())}this.cancel();var r=document.createElement("img");r.src=t,r.style.position="fixed",r.style.visibility="hidden",r.style.width="30px",r.style.height="30px",r.style["user-drag"]="none",r.style["user-select"]="none",r.style["-moz-user-select"]="none",r.style["-webkit-user-drag"]="none",r.style["-webkit-user-select"]="none",r.style["-ms-user-select"]="none",Object.assign(r.style,e),document.body.appendChild(r),this.createDragObservable(),this.dragObservable.subscribe(function(t){r.style.visibility="visible",r.style.left=t.screenPosition.x-r.clientWidth/2+"px",r.style.top=t.screenPosition.y-r.clientHeight/2+"px",n.mainSubject.next(t),t.drop&&r.remove()},function(t){r.remove()},function(){r.remove()})}},{key:"dragUpdates",value:function(){return this.mainSubject}},{key:"cancel",value:function(){this.stopper&&(this.stopper.next(!0),this.stopper=void 0,this.dragObservable=void 0)}},{key:"createDragObservable",value:function(){var t,e,n,i=this,r=new H,o=new H,s=Iv(document,"pointerup"),a=Iv(document,"pointermove").pipe(U(function(r){return t=t||r.x,e=e||r.y,n={drop:!1,initialScreenPosition:{x:t,y:e},screenPosition:{x:r.x,y:r.y},mapPosition:i.coordinateConverter?i.coordinateConverter.screenToCartesian3({x:r.x,y:r.y}):void 0}}),Bv(s),vh(void 0,void 0,function(){if(n){var t=Object.assign({},n);t.drop=!0,o.next(t)}}));this.dragObservable=a.pipe(function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return t.lift.call(ut.apply(void 0,[t].concat(e)))}}(o),Bv(r)),this.stopper=r}}]),t}()).\u0275fac=function(t){return new(t||Wk)(vi(Xu),vi(ok))},Wk.\u0275prov=At({token:Wk,factory:Wk.\u0275fac}),Wk),Qk=function(t){return t[t.LEFT=0]="LEFT",t[t.MIDDLE=1]="MIDDLE",t[t.RIGHT=2]="RIGHT",t}({}),Xk=((Gk=function(){function t(e,n,i){m(this,t),this.mapsManager=e,this.mapsZoomElements=new Map,this.defaultOptions={animationDurationInSeconds:.5,resetKeyCode:27,borderStyle:"2px solid rgba(0,0,0,0.5)",backgroundColor:"rgba(0,0,0,0.2)",autoDisableOnZoom:!0,threshold:9,keepRotation:!0,mouseButton:Qk.LEFT}}return _(t,[{key:"init",value:function(t,e){this.cameraService=e,this.cesiumService=t}},{key:"activate",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1?arguments[1]:void 0;if(!(this.cameraService&&this.cesiumService||n))throw new Error("The function must receive a mapId if the service wasn't initialized");var i,r,o=Object.assign({},this.defaultOptions,e),s=this.cameraService;if(this.cesiumService&&(i=this.cesiumService.getViewer().container,r=this.cesiumService.getMap()),n){if(!(r=this.mapsManager.getMap(n)))throw new Error("Map not found with id: ".concat(n));s=r.getCameraService(),i=r.getCesiumViewer().container}if(!s||!i)throw new Error("The function must receive a mapId if the service wasn't initialized");this.disable(n);var a=document.createElement("div");i.style.position="relative",a.style.position="absolute",a.style.width="100%",a.style.height="100%",a.style.top="0",a.style.left="0",i.appendChild(a);var u={container:a};this.mapsZoomElements.set(n||this.cesiumService.getMap().getId(),u);var c,l={endX:0,endY:0,startX:0,startY:0};a.onmousedown=function(t){if(t.button===o.mouseButton&&!c){e&&e.onStart&&e.onStart(r);var n=t.currentTarget.getBoundingClientRect(),i=t.clientY-n.top;l.startX=t.clientX-n.left,l.startY=i,(c=document.createElement("div")).className="zoom-to-rectangle-border",c.style.position="absolute",c.style.border=o.borderStyle,c.style.backgroundColor=o.backgroundColor,c.style.left=l.startX+"px",c.style.top=l.startY+"px",a.appendChild(c),u.borderElement=c}},a.onmouseup=function(e){var i;c&&(l&&Math.abs(l.endX-l.startX)*Math.abs(l.endY-l.startY)>o.threshold&&(i=t.zoomCameraToRectangle(s,l,o.animationDurationInSeconds,o)),c.remove(),c=void 0,u.borderElement=void 0,l={endX:0,endY:0,startX:0,startY:0},o.onComplete&&o.onComplete(r),o.autoDisableOnZoom&&i&&t.disable(n))},a.onmousemove=function(t){if(c){var e=t.currentTarget.getBoundingClientRect(),n=t.clientY-e.top;l.endX=t.clientX-e.left,l.endY=n,c.style.width=Math.abs(l.endX-l.startX)+"px",c.style.height=Math.abs(l.endY-l.startY)+"px",c.style.left=Math.min(l.startX,l.endX)+"px",c.style.top=Math.min(l.startY,l.endY)+"px"}};var h=function(t){t.keyCode===o.resetKeyCode&&c&&(c.remove(),c=void 0,u.borderElement=void 0,l={endX:0,endY:0,startX:0,startY:0})};document.addEventListener("keydown",h),u.resetOnEscapePressFunc=h}},{key:"disable",value:function(t){if(!this.cesiumService&&!t)throw new Error("If the service was not initialized with CesiumService, mapId must be provided");var e=this.mapsZoomElements.get(t||this.cesiumService.getMap().getId());e&&(e.container.remove(),e.borderElement&&e.borderElement.remove(),e.resetOnEscapePressFunc&&document.removeEventListener("keydown",e.resetOnEscapePressFunc)),this.mapsZoomElements.delete(t)}},{key:"zoomCameraToRectangle",value:function(t,e,n,i){var r=t.getCamera(),o=r.pickEllipsoid({x:e.startX,y:e.startY}),s=r.pickEllipsoid({x:e.endX,y:e.endY});if(!o||!s)return!1;var a=Cesium.Cartographic.fromCartesian(o),u=Cesium.Cartographic.fromCartesian(s);return t.cameraFlyTo({destination:new Cesium.Rectangle(Math.min(a.longitude,u.longitude),Math.min(a.latitude,u.latitude),Math.max(a.longitude,u.longitude),Math.max(a.latitude,u.latitude)),orientation:i.keepRotation?{heading:r.heading}:void 0,duration:n}),!0}}]),t}()).\u0275fac=function(t){return new(t||Gk)(vi(ok),vi(T_,8),vi(n_,8))},Gk.\u0275prov=At({token:Gk,factory:Gk.\u0275fac}),Gk);Cesium,Cesium.Color.BLACK.withAlpha(.2),Cesium.Color.CORNFLOWERBLUE.withAlpha(.4),Cesium,Cesium;var Yk,$k,Jk,tb,eb,nb=((tb=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||tb)},tb.\u0275mod=he({type:tb}),tb.\u0275inj=Rt({providers:[Zk,Xk],imports:[[Uc,Kk]]}),tb),ib=((Jk=function(){function t(){m(this,t),window._paq=window._paq||[]}return _(t,[{key:"init",value:function(t,e){window._paq.push(["trackPageView"]),window._paq.push(["enableLinkTracking"]),function(){var n=t;window._paq.push(["setTrackerUrl",n+"piwik.php"]),window._paq.push(["setSiteId",e.toString()]);var i=document,r=i.createElement("script"),o=i.getElementsByTagName("script")[0];r.type="text/javascript",r.async=!0,r.defer=!0,r.src=n+"piwik.js",o.parentNode.insertBefore(r,o)}()}}]),t}()).\u0275fac=function(t){return new(t||Jk)},Jk.\u0275prov=At({token:Jk,factory:Jk.\u0275fac}),Jk),rb=(($k=function(){function t(){m(this,t),void 0===window._paq&&console.warn("Matomo has not yet been initialized! (Did you forget to inject it?)")}return _(t,[{key:"trackEvent",value:function(t,e,n,i){try{var r=[t,e];n&&r.push(n),"number"==typeof i&&r.push(i),window._paq.push(["trackEvent"].concat(r))}catch(o){if(!(o instanceof ReferenceError))throw o}}},{key:"trackPageView",value:function(t){try{var e=[];t&&e.push(t),window._paq.push(["trackPageView"].concat(e))}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"trackSiteSearch",value:function(t,e,n){try{var i=[t];e&&i.push(e),"number"==typeof n&&i.push(n),window._paq.push(["trackSiteSearch"].concat(i))}catch(r){if(!(r instanceof ReferenceError))throw r}}},{key:"trackGoal",value:function(t,e){try{var n=[t];"number"==typeof e&&n.push(e),window._paq.push(["trackGoal"].concat(n))}catch(i){if(!(i instanceof ReferenceError))throw i}}},{key:"trackLink",value:function(t,e){try{window._paq.push(["trackLink",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"trackAllContentImpressions",value:function(){try{window._paq.push(["trackAllContentImpressions"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"trackVisibleContentImpressions",value:function(t,e){try{window._paq.push(["trackVisibleContentImpressions",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"trackContentImpressionsWithinNode",value:function(t){try{window._paq.push(["trackContentImpressionsWithinNode",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"trackContentInteractionNode",value:function(t,e){try{window._paq.push(["trackContentInteractionNode",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"trackContentImpression",value:function(t,e,n){try{window._paq.push(["trackContentImpression",t,e,n])}catch(i){if(!(i instanceof ReferenceError))throw i}}},{key:"trackContentInteraction",value:function(t,e,n,i){try{window._paq.push(["trackContentInteraction",t,e,n,i])}catch(r){if(!(r instanceof ReferenceError))throw r}}},{key:"logAllContentBlocksOnPage",value:function(){try{window._paq.push(["logAllContentBlocksOnPage"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"enableLinkTracking",value:function(t){try{window._paq.push(["enableLinkTracking",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"enableHeartBeatTimer",value:function(t){try{window._paq.push(["enableHeartBeatTimer",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"enableCrossDomainLinking",value:function(){try{window._paq.push(["enableCrossDomainLinking"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"setCrossDomainLinkingTimeout",value:function(t){try{window._paq.push(["setCrossDomainLinkingTimeout",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setDocumentTitle",value:function(t){try{window._paq.push(["setDocumentTitle",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setDomains",value:function(t){try{window._paq.push(["setDomains",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setCustomUrl",value:function(t){try{window._paq.push(["setCustomUrl",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setReferrerUrl",value:function(t){try{window._paq.push(["setReferrerUrl",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setSiteId",value:function(t){try{window._paq.push(["setSiteId",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setApiUrl",value:function(t){try{window._paq.push(["setApiUrl",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setTrackerUrl",value:function(t){try{window._paq.push(["setTrackerUrl",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"getPiwikUrl",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getPiwikUrl())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getCurrentUrl",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getCurrentUrl())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"setDownloadClasses",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setDownloadExtensions",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"addDownloadExtensions",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"removeDownloadExtensions",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setIgnoreClasses",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setLinkClasses",value:function(t){try{window._paq.push(["setDownloadClasses",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setLinkTrackingTimer",value:function(t){try{window._paq.push(["setLinkTrackingTimer",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"getLinkTrackingTimer",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getLinkTrackingTimer())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"discardHashTag",value:function(t){try{window._paq.push(["discardHashTag",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setGenerationTimeMs",value:function(t){try{window._paq.push(["setGenerationTimeMs",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"appendToTrackingUrl",value:function(t){try{window._paq.push(["appendToTrackingUrl",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setDoNotTrack",value:function(t){try{window._paq.push(["setDoNotTrack",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"killFrame",value:function(){try{window._paq.push(["killFrame"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"redirectFile",value:function(t){try{window._paq.push(["redirectFile",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setHeartBeatTimer",value:function(t,e){try{window._paq.push(["setHeartBeatTimer",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"getVisitorId",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getVisitorId())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getVisitorInfo",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getVisitorInfo())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getAttributionInfo",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getAttributionInfo())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getAttributionCampaignName",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getAttributionCampaignName())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getAttributionCampaignKeyword",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getAttributionCampaignKeyword())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getAttributionReferrerTimestamp",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getAttributionReferrerTimestamp())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getAttributionReferrerUrl",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getAttributionReferrerUrl())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"getUserId",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.getUserId())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"setUserId",value:function(t){try{window._paq.push(["setUserId",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"resetUserId",value:function(){try{window._paq.push(["resetUserId"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"setCustomVariable",value:function(t,e,n,i){try{window._paq.push(["setCustomVariable",t,e,n,i])}catch(r){if(!(r instanceof ReferenceError))throw r}}},{key:"deleteCustomVariable",value:function(t,e){try{window._paq.push(["deleteCustomVariable",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"getCustomVariable",value:function(t,e){return new Promise(function(n,i){try{window._paq.push([function(){n(this.getCustomVariable(t,e))}])}catch(r){r instanceof ReferenceError||i(r)}})}},{key:"storeCustomVariablesInCookie",value:function(){try{window._paq.push(["storeCustomVariablesInCookie"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"setCustomDimension",value:function(t,e){try{window._paq.push(["setCustomDimension",t,e])}catch(n){if(!(n instanceof ReferenceError))throw n}}},{key:"deleteCustomDimension",value:function(t){try{window._paq.push(["deleteCustomDimension",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"getCustomDimension",value:function(t){return new Promise(function(e,n){try{window._paq.push([function(){e(this.getCustomDimension(t))}])}catch(i){i instanceof ReferenceError||n(i)}})}},{key:"setCampaignNameKey",value:function(t){try{window._paq.push(["setCampaignNameKey",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setCampaignKeywordKey",value:function(t){try{window._paq.push(["setCampaignKeywordKey",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setConversionAttributionFirstReferrer",value:function(t){try{window._paq.push(["setConversionAttributionFirstReferrer",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setEcommerceView",value:function(t,e,n,i){try{window._paq.push(["setEcommerceView",t,e,n,i])}catch(r){if(!(r instanceof ReferenceError))throw r}}},{key:"addEcommerceItem",value:function(t,e,n,i,r){try{var o=[t];e&&o.push(e),n&&o.push(n),"number"==typeof i&&o.push(i),"number"==typeof r&&o.push(r),window._paq.push(["addEcommerceItem"].concat(o))}catch(s){if(!(s instanceof ReferenceError))throw s}}},{key:"trackEcommerceCartUpdate",value:function(t){try{window._paq.push(["trackEcommerceCartUpdate",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"trackEcommerceOrder",value:function(t,e,n,i,r,o){try{var s=[t,e];"number"==typeof n&&s.push(n),"number"==typeof i&&s.push(i),"number"==typeof r&&s.push(r),"number"==typeof o&&s.push(o),window._paq.push(["trackEcommerceOrder"].concat(s))}catch(a){if(!(a instanceof ReferenceError))throw a}}},{key:"disableCookies",value:function(){try{window._paq.push(["disableCookies"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"deleteCookies",value:function(){try{window._paq.push(["deleteCookies"])}catch(t){if(!(t instanceof ReferenceError))throw t}}},{key:"hasCookies",value:function(){return new Promise(function(t,e){try{window._paq.push([function(){t(this.hasCookies())}])}catch(n){n instanceof ReferenceError||e(n)}})}},{key:"setCookieNamePrefix",value:function(t){try{window._paq.push(["setCookieNamePrefix",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setCookieDomain",value:function(t){try{window._paq.push(["setCookieDomain",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setCookiePath",value:function(t){try{window._paq.push(["setCookiePath",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setSecureCookie",value:function(t){try{window._paq.push(["setSecureCookie",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setVisitorCookieTimeout",value:function(t){try{window._paq.push(["setVisitorCookieTimeout",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setReferralCookieTimeout",value:function(t){try{window._paq.push(["setReferralCookieTimeout",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setSessionCookieTimeout",value:function(t){try{window._paq.push(["setSessionCookieTimeout",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"addListener",value:function(t){try{window._paq.push(["addListener",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setRequestMethod",value:function(t){try{window._paq.push(["setRequestMethod",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setCustomRequestProcessing",value:function(t){try{window._paq.push(["setCustomRequestProcessing",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}},{key:"setRequestContentType",value:function(t){try{window._paq.push(["setRequestContentType",t])}catch(e){if(!(e instanceof ReferenceError))throw e}}}]),t}()).\u0275fac=function(t){return new(t||$k)},$k.\u0275prov=At({token:$k,factory:$k.\u0275fac}),$k),ob=((Yk=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||Yk)},Yk.\u0275mod=he({type:Yk}),Yk.\u0275inj=Rt({providers:[ib,rb]}),Yk),sb={url:"https://analytics.inspirespace.co/",id:3},ab=((eb=_(function t(e){var n=this;m(this,t),this.http=e,this.Cesium=Cesium,this.translucencyByDistance=new Cesium.NearFarScalar(5e4,1,3e5,.2),this.scaleByDistance=new Cesium.NearFarScalar(5e4,1,15e4,.2),this.distanceDisplayCondition=new Cesium.DistanceDisplayCondition(0,3e5),this.markerVerticalOffset=200,this.idCnt=0,this.summits$=J(this.http.get("assets/alps_summits.geojson")).pipe(qv(function(t){return t.features}),U(function(t){var e=Cesium.Cartesian3.fromDegrees(t.geometry.coordinates[0],t.geometry.coordinates[1],0),i=Cesium.Cartesian3.fromDegrees(t.geometry.coordinates[0],t.geometry.coordinates[1],t.properties.ALT+n.markerVerticalOffset);return{id:"summit-"+n.idCnt++,actionType:ck.ADD_UPDATE,entity:{labelText:"".concat(t.properties.field_2,"\n").concat(t.properties.AREA,"\n").concat(t.properties.ALT,"\u202fm"),labelPosition:i,polylinePositions:[e,i]}}}))})).\u0275fac=function(t){return new(t||eb)(zo($l))},eb.\u0275cmp=ae({type:eb,selectors:[["app-summits"]],decls:3,vars:2,consts:[["acFor","let summit of summits$",3,"context","store"],["props","{\n          position: summit.labelPosition,\n          text: summit.labelText,\n          verticalOrigin: Cesium.VerticalOrigin.BOTTOM,\n          font: '12px sans-serif',\n          showBackground: true,\n          translucencyByDistance: translucencyByDistance,\n          scaleByDistance: scaleByDistance,\n          distanceDisplayCondition: distanceDisplayCondition\n        }"],["props","{\n          positions: summit.polylinePositions,\n          width: 2,\n          material: Cesium.Color.WHITE,\n          distanceDisplayCondition: distanceDisplayCondition\n        }"]],template:function(t,e){1&t&&(Ko(0,"ac-layer",0),Go(1,"ac-label-desc",1),Go(2,"ac-polyline-desc",2),Wo()),2&t&&qo("context",e)("store",!0)},directives:[Ok,jk,Nk],encapsulation:2,changeDetection:0}),eb);function ub(t,e,n,i){return new(n||(n=Promise))(function(r,o){function s(t){try{u(i.next(t))}catch(e){o(e)}}function a(t){try{u(i.throw(t))}catch(e){o(e)}}function u(t){var e;t.done?r(t.value):(e=t.value,e instanceof n?e:new n(function(t){t(e)})).then(s,a)}u((i=i.apply(t,e||[])).next())})}function cb(t,e){return[].concat(i(e&&"before"===e.animateChildren?[xf("@*",Ef(),{optional:!0})]:[]),[mf([Sf(t)].concat(i(e&&e.animateChildren&&"together"!==e.animateChildren?[]:[xf("@*",Ef(),{optional:!0})])))],i(e&&"after"===e.animateChildren?[xf("@*",Ef(),{optional:!0})]:[]))}var lb,hb,fb=function(){return(fb=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n])Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t}).apply(this,arguments)};function db(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]])}return n}function pb(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],i=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function vb(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(i=o.next()).done;)s.push(i.value)}catch(a){r={error:a}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return s}function yb(t,e,n){if(n||2===arguments.length)for(var i,r=0,o=e.length;r<o;r++)!i&&r in e||(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}!function(t){t.Start="xstate.start",t.Stop="xstate.stop",t.Raise="xstate.raise",t.Send="xstate.send",t.Cancel="xstate.cancel",t.NullEvent="",t.Assign="xstate.assign",t.After="xstate.after",t.DoneState="done.state",t.DoneInvoke="done.invoke",t.Log="xstate.log",t.Init="xstate.init",t.Invoke="xstate.invoke",t.ErrorExecution="error.execution",t.ErrorCommunication="error.communication",t.ErrorPlatform="error.platform",t.ErrorCustom="xstate.error",t.Update="xstate.update",t.Pure="xstate.pure",t.Choose="xstate.choose"}(lb||(lb={})),function(t){t.Parent="#_parent",t.Internal="#_internal"}(hb||(hb={}));var mb,gb=lb.Start,_b=lb.Stop,wb=lb.Raise,kb=lb.Send,bb=lb.Cancel,Cb=lb.NullEvent,Eb=lb.Assign,Sb=lb.Log,xb=lb.Init,Tb=lb.Invoke,Mb=lb.ErrorPlatform,Ab=lb.ErrorCustom,Rb=lb.Update,Ob=lb.Choose,Pb=lb.Pure,Ib={};function Db(t,e,n){void 0===n&&(n=".");var i=Fb(t,n),r=Fb(e,n);return Jb(r)?!!Jb(i)&&r===i:Jb(i)?i in r:Object.keys(i).every(function(t){return t in r&&Db(i[t],r[t])})}function Nb(t){try{return Jb(t)||"number"==typeof t?"".concat(t):t.type}catch(e){throw new Error("Events must be strings or objects with a string event.type property.")}}function Lb(t,e){try{return Yb(t)?t:t.toString().split(e)}catch(n){throw new Error("'".concat(t,"' is not a valid state path."))}}function Fb(t,e){return"object"==typeof(n=t)&&"value"in n&&"context"in n&&"event"in n&&"_event"in n?t.value:Yb(t)?jb(t):"string"!=typeof t?t:jb(Lb(t,e));var n}function jb(t){if(1===t.length)return t[0];for(var e={},n=e,i=0;i<t.length-1;i++)i===t.length-2?n[t[i]]=t[i+1]:(n[t[i]]={},n=n[t[i]]);return e}function Vb(t,e){for(var n={},i=Object.keys(t),r=0;r<i.length;r++){var o=i[r];n[o]=e(t[o],o,t,r)}return n}function Bb(t,e,n){var i,r,o={};try{for(var s=pb(Object.keys(t)),a=s.next();!a.done;a=s.next()){var u=a.value,c=t[u];n(c)&&(o[u]=e(c,u,t))}}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}var Hb=function(t){return function(e){var n,i,r=e;try{for(var o=pb(t),s=o.next();!s.done;s=o.next())r=r[s.value]}catch(a){n={error:a}}finally{try{s&&!s.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}return r}};function zb(t){return t?Jb(t)?[[t]]:qb(Object.keys(t).map(function(e){var n=t[e];return"string"==typeof n||n&&Object.keys(n).length?zb(t[e]).map(function(t){return[e].concat(t)}):[[e]]})):[[]]}function qb(t){var e;return(e=[]).concat.apply(e,yb([],vb(t),!1))}function Ub(t){return Yb(t)?t:[t]}function Kb(t){return void 0===t?[]:Ub(t)}function Wb(t,e,n){var i,r;if($b(t))return t(e,n.data);var o={};try{for(var s=pb(Object.keys(t)),a=s.next();!a.done;a=s.next()){var u=a.value,c=t[u];o[u]=$b(c)?c(e,n.data):c}}catch(l){i={error:l}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}return o}function Gb(t){return t instanceof Promise||!(null===t||!$b(t)&&"object"!=typeof t||!$b(t.then))}function Zb(t,e){var n,i,r=vb([[],[]],2),o=r[0],s=r[1];try{for(var a=pb(t),u=a.next();!u.done;u=a.next()){var c=u.value;e(c)?o.push(c):s.push(c)}}catch(l){n={error:l}}finally{try{u&&!u.done&&(i=a.return)&&i.call(a)}finally{if(n)throw n.error}}return[o,s]}function Qb(t,e){return Vb(t.states,function(t,n){if(t){var i=(Jb(e)?void 0:e[n])||(t?t.current:void 0);if(i)return{current:i,states:Qb(t,i)}}})}function Xb(t,e,n,i){return t?n.reduce(function(t,n){var r,o,s=n.assignment,a={state:i,action:n,_event:e},u={};if($b(s))u=s(t,e.data,a);else try{for(var c=pb(Object.keys(s)),l=c.next();!l.done;l=c.next()){var h=l.value,f=s[h];u[h]=$b(f)?f(t,e.data,a):f}}catch(d){r={error:d}}finally{try{l&&!l.done&&(o=c.return)&&o.call(c)}finally{if(r)throw r.error}}return Object.assign({},t,u)},t):t}function Yb(t){return Array.isArray(t)}function $b(t){return"function"==typeof t}function Jb(t){return"string"==typeof t}function tC(t,e){if(t)return Jb(t)?{type:"xstate.guard",name:t,predicate:e?e[t]:void 0}:$b(t)?{type:"xstate.guard",name:t.name,predicate:t}:t}var eC="function"==typeof Symbol&&Symbol.observable||"@@observable";function nC(t){return!!t&&"__xstatenode"in t}function iC(t,e){return Jb(t)||"number"==typeof t?fb({type:t},e):t}function rC(t,e){if(!Jb(t)&&"$$type"in t&&"scxml"===t.$$type)return t;var n=iC(t);return fb({name:n.type,data:n,$$type:"scxml",type:"external"},e)}function oC(t,e){return Ub(e).map(function(e){return void 0===e||"string"==typeof e||nC(e)?{target:e,event:t}:fb(fb({},e),{event:t})})}function sC(t,e,n,i,r){var o=t.options.guards,s={state:r,cond:e,_event:i};if("xstate.guard"===e.type)return((null==o?void 0:o[e.name])||e.predicate)(n,i.data,s);var a=null==o?void 0:o[e.type];if(!a)throw new Error("Guard '".concat(e.type,"' is not implemented on machine '").concat(t.id,"'."));return a(n,i.data,s)}function aC(t){return"string"==typeof t?{type:t}:t}function uC(t,e,n){if("object"==typeof t)return t;var i=function(){};return{next:t,error:e||i,complete:n||i}}function cC(t,e){return"".concat(t,":invocation[").concat(e,"]")}(mb={})[eC]=function(){return this},mb[Symbol.observable]=function(){return this};var lC=rC({type:xb});function hC(t,e){return e&&e[t]||void 0}function fC(t,e){var n;if(Jb(t)||"number"==typeof t)n=$b(i=hC(t,e))?{type:t,exec:i}:i||{type:t,exec:void 0};else if($b(t))n={type:t.name||t.toString(),exec:t};else{var i;if($b(i=hC(t.type,e)))n=fb(fb({},t),{exec:i});else if(i){var r=i.type||t.type;n=fb(fb(fb({},i),t),{type:r})}else n=t}return n}var dC=function(t,e){return t?(Yb(t)?t:[t]).map(function(t){return fC(t,e)}):[]};function pC(t){var e=fC(t);return fb(fb({id:Jb(t)?t:e.id},e),{type:e.type})}function vC(t){return Jb(t)?{type:wb,event:t}:yC(t,{to:hb.Internal})}function yC(t,e){return{to:e?e.to:void 0,type:kb,event:$b(t)?t:iC(t),delay:e?e.delay:void 0,id:e&&void 0!==e.id?e.id:$b(t)?t.name:Nb(t)}}function mC(t,e){var n="".concat(lb.DoneState,".").concat(t);return{type:n,data:e,toString:function(){return n}}}function gC(t,e){var n="".concat(lb.DoneInvoke,".").concat(t);return{type:n,data:e,toString:function(){return n}}}function _C(t,e){var n="".concat(lb.ErrorPlatform,".").concat(t);return{type:n,data:e,toString:function(){return n}}}function wC(t,e,n,i,r,o){void 0===o&&(o=!1);var s=vb(o?[[],r]:Zb(r,function(t){return t.type===Eb}),2),a=s[0],u=s[1],c=a.length?Xb(n,i,a,e):n,l=o?[n]:void 0;return[qb(u.map(function(n){var r;switch(n.type){case wb:return{type:wb,_event:rC(n.event)};case kb:return function(t,e,n,i){var r,o={_event:n},s=rC($b(t.event)?t.event(e,n.data,o):t.event);if(Jb(t.delay)){var a=i&&i[t.delay];r=$b(a)?a(e,n.data,o):a}else r=$b(t.delay)?t.delay(e,n.data,o):t.delay;var u=$b(t.to)?t.to(e,n.data,o):t.to;return fb(fb({},t),{to:u,_event:s,event:s.data,delay:r})}(n,c,i,t.options.delays);case Sb:return function(t,e,n){return fb(fb({},t),{value:Jb(t.expr)?t.expr:t.expr(e,n.data,{_event:n})})}(n,c,i);case Ob:if(!(u=null===(r=n.conds.find(function(n){var r=tC(n.cond,t.options.guards);return!r||sC(t,r,c,i,e)}))||void 0===r?void 0:r.actions))return[];var s=vb(wC(t,e,c,i,dC(Kb(u),t.options.actions),o),2),a=s[0];return c=s[1],null==l||l.push(c),a;case Pb:var u;if(!(u=n.get(c,i.data)))return[];var h=vb(wC(t,e,c,i,dC(Kb(u),t.options.actions),o),2),f=h[0];return c=h[1],null==l||l.push(c),f;case _b:return function(t,e,n){var i=$b(t.activity)?t.activity(e,n.data):t.activity;return{type:lb.Stop,activity:"string"==typeof i?{id:i}:i}}(n,c,i);case Eb:c=Xb(c,i,[n],e),null==l||l.push(c);break;default:var d=fC(n,t.options.actions),p=d.exec;if(p&&l){var v=l.length-1;d=fb(fb({},d),{exec:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.apply(void 0,yb([l[v]],vb(e),!1))}})}return d}}).filter(function(t){return!!t})),c]}var kC=[],bC=function(t,e){kC.push(t);var n=e(t);return kC.pop(),n};function CC(t){var e;return(e={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:t}}})[eC]=function(){return this},e}var EC=function(t){return"atomic"===t.type||"final"===t.type};function SC(t){return Object.keys(t.states).map(function(e){return t.states[e]})}function xC(t){var e=[t];return EC(t)?e:e.concat(qb(SC(t).map(xC)))}function TC(t,e){var n,i,r,o,s,a,u,c,l=AC(new Set(t)),h=new Set(e);try{for(var f=pb(h),d=f.next();!d.done;d=f.next())for(var p=(C=d.value).parent;p&&!h.has(p);)h.add(p),p=p.parent}catch(E){n={error:E}}finally{try{d&&!d.done&&(i=f.return)&&i.call(f)}finally{if(n)throw n.error}}var v=AC(h);try{for(var y=pb(h),m=y.next();!m.done;m=y.next())if("compound"!==(C=m.value).type||v.get(C)&&v.get(C).length){if("parallel"===C.type)try{for(var g=(s=void 0,pb(SC(C))),_=g.next();!_.done;_=g.next()){var w=_.value;"history"!==w.type&&(h.has(w)||(h.add(w),l.get(w)?l.get(w).forEach(function(t){return h.add(t)}):w.initialStateNodes.forEach(function(t){return h.add(t)})))}}catch(S){s={error:S}}finally{try{_&&!_.done&&(a=g.return)&&a.call(g)}finally{if(s)throw s.error}}}else l.get(C)?l.get(C).forEach(function(t){return h.add(t)}):C.initialStateNodes.forEach(function(t){return h.add(t)})}catch(x){r={error:x}}finally{try{m&&!m.done&&(o=y.return)&&o.call(y)}finally{if(r)throw r.error}}try{for(var k=pb(h),b=k.next();!b.done;b=k.next()){var C;for(p=(C=b.value).parent;p&&!h.has(p);)h.add(p),p=p.parent}}catch(T){u={error:T}}finally{try{b&&!b.done&&(c=k.return)&&c.call(k)}finally{if(u)throw u.error}}return h}function MC(t,e){var n=e.get(t);if(!n)return{};if("compound"===t.type){var i=n[0];if(!i)return{};if(EC(i))return i.key}var r={};return n.forEach(function(t){r[t.key]=MC(t,e)}),r}function AC(t){var e,n,i=new Map;try{for(var r=pb(t),o=r.next();!o.done;o=r.next()){var s=o.value;i.has(s)||i.set(s,[]),s.parent&&(i.has(s.parent)||i.set(s.parent,[]),i.get(s.parent).push(s))}}catch(a){e={error:a}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return i}function RC(t,e){return MC(t,AC(TC([t],e)))}function OC(t,e){return Array.isArray(t)?t.some(function(t){return t===e}):t instanceof Set&&t.has(e)}function PC(t,e){return"compound"===e.type?SC(e).some(function(e){return"final"===e.type&&OC(t,e)}):"parallel"===e.type&&SC(e).every(function(e){return PC(t,e)})}function IC(t){return new Set(qb(t.map(function(t){return t.tags})))}function DC(t,e){if(t===e)return!0;if(void 0===t||void 0===e)return!1;if(Jb(t)||Jb(e))return t===e;var n=Object.keys(t),i=Object.keys(e);return n.length===i.length&&n.every(function(n){return DC(t[n],e[n])})}var NC=function(){function t(t){var e,n,i=this;this.actions=[],this.activities=Ib,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||Ib,this.meta=(void 0===(n=t.configuration)&&(n=[]),n.reduce(function(t,e){return void 0!==e.meta&&(t[e.id]=e.meta),t},{})),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=null!==(e=Array.isArray(t.tags)?new Set(t.tags):t.tags)&&void 0!==e?e:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return function(t){return yb([],vb(new Set(qb(yb([],vb(t.map(function(t){return t.ownEvents})),!1)))),!1)}(i.configuration)}})}return t.from=function(e,n){return e instanceof t?e.context!==n?new t({value:e.value,context:n,_event:e._event,_sessionid:null,historyValue:e.historyValue,history:e.history,actions:[],activities:e.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):e:new t({value:e,context:n,_event:lC,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},t.create=function(e){return new t(e)},t.inert=function(e,n){return e instanceof t?e.actions.length?new t({value:e.value,context:n,_event:lC,_sessionid:null,historyValue:e.historyValue,history:e.history,activities:e.activities,configuration:e.configuration,transitions:[],children:{}}):e:t.from(e,n)},t.prototype.toStrings=function(t,e){var n=this;if(void 0===t&&(t=this.value),void 0===e&&(e="."),Jb(t))return[t];var i=Object.keys(t);return i.concat.apply(i,yb([],vb(i.map(function(i){return n.toStrings(t[i],e).map(function(t){return i+e+t})})),!1))},t.prototype.toJSON=function(){var t=this.tags,e=db(this,["configuration","transitions","tags","machine"]);return fb(fb({},e),{tags:Array.from(t)})},t.prototype.matches=function(t){return Db(t,this.value)},t.prototype.hasTag=function(t){return this.tags.has(t)},t.prototype.can=function(t){var e,n=null===(e=this.machine)||void 0===e?void 0:e.getTransitionData(this,t);return!!(null==n?void 0:n.transitions.length)&&n.transitions.some(function(t){return void 0!==t.target||t.actions.length})},t}();function LC(t){return fb(fb({type:Tb},t),{toJSON:function(){var e,n=db(t,["onDone","onError"]);return fb(fb({},n),{type:Tb,src:(e=t.src,"string"==typeof e?{type:e,toString:function(){return e}}:e)})}})}var FC={},jC=function(t){return"#"===t[0]},VC=function(){function t(e,n,i,r){var o,s=this;void 0===i&&(i="context"in e?e.context:void 0),this.config=e,this._context=i,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign({actions:{},guards:{},services:{},activities:{},delays:{}},n),this.parent=null==r?void 0:r.parent,this.key=this.config.key||(null==r?void 0:r.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:"."),this.id=this.config.id||yb([this.machine.key],vb(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:null!==(o=this.config.schema)&&void 0!==o?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?Vb(this.config.states,function(e,n){var i,r=new t(e,{},void 0,{parent:s,key:n});return Object.assign(s.idMap,fb(((i={})[r.id]=r,i),r.idMap)),r}):FC;var a=0;!function t(e){var n,i;e.order=a++;try{for(var r=pb(SC(e)),o=r.next();!o.done;o=r.next())t(o.value)}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}}(this),this.history=!0===this.config.history?"shallow":this.config.history||!1,this._transient=!!this.config.always||!!this.config.on&&(Array.isArray(this.config.on)?this.config.on.some(function(t){return""===t.event}):""in this.config.on),this.strict=!!this.config.strict,this.onEntry=Kb(this.config.entry||this.config.onEntry).map(function(t){return fC(t)}),this.onExit=Kb(this.config.exit||this.config.onExit).map(function(t){return fC(t)}),this.meta=this.config.meta,this.doneData="final"===this.type?this.config.data:void 0,this.invoke=Kb(this.config.invoke).map(function(t,e){var n,i;if(nC(t)){var r=cC(s.id,e);return s.machine.options.services=fb(((n={})[r]=t,n),s.machine.options.services),LC({src:r,id:r})}if(Jb(t.src))return r=t.id||cC(s.id,e),LC(fb(fb({},t),{id:r,src:t.src}));if(nC(t.src)||$b(t.src))return r=t.id||cC(s.id,e),s.machine.options.services=fb(((i={})[r]=t.src,i),s.machine.options.services),LC(fb(fb({id:r},t),{src:r}));var o=t.src;return LC(fb(fb({id:cC(s.id,e)},t),{src:o}))}),this.activities=Kb(this.config.activities).concat(this.invoke).map(function(t){return pC(t)}),this.transition=this.transition.bind(this),this.tags=Kb(this.config.tags)}return t.prototype._init=function(){this.__cache.transitions||xC(this).forEach(function(t){return t.on})},t.prototype.withConfig=function(e,n){var i=this.options,r=i.activities,o=i.guards,s=i.services,a=i.delays;return new t(this.config,{actions:fb(fb({},i.actions),e.actions),activities:fb(fb({},r),e.activities),guards:fb(fb({},o),e.guards),services:fb(fb({},s),e.services),delays:fb(fb({},a),e.delays)},null!=n?n:this.context)},t.prototype.withContext=function(e){return new t(this.config,this.options,e)},Object.defineProperty(t.prototype,"context",{get:function(){return $b(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:Vb(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),t.prototype.toJSON=function(){return this.definition},Object.defineProperty(t.prototype,"on",{get:function(){return this.__cache.on?this.__cache.on:this.__cache.on=this.transitions.reduce(function(t,e){return t[e.eventType]=t[e.eventType]||[],t[e.eventType].push(e),t},{})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),t.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var e=""===t,n=this.transitions.filter(function(n){var i=n.eventType===t;return e?i:i||"*"===n.eventType});return this.__cache.candidates[t]=n,n},t.prototype.getDelayedTransitions=function(){var t=this,e=this.config.after;if(!e)return[];var n=function(e,n){var i,r,o,s=(i=$b(e)?"".concat(t.id,":delay[").concat(n,"]"):e,o=(r=t.id)?"#".concat(r):"","".concat(lb.After,"(").concat(i,")").concat(o));return t.onEntry.push(yC(s,{delay:e})),t.onExit.push({type:bb,sendId:s}),s};return(Yb(e)?e.map(function(t,e){var i=n(t.delay,e);return fb(fb({},t),{event:i})}):qb(Object.keys(e).map(function(t,i){var r=e[t],o=Jb(r)?{target:r}:r,s=isNaN(+t)?t:+t,a=n(s,i);return Kb(o).map(function(t){return fb(fb({},t),{event:a,delay:s})})}))).map(function(e){var n=e.delay;return fb(fb({},t.formatTransition(e)),{delay:n})})},t.prototype.getStateNodes=function(t){var e,n=this;if(!t)return[];var i=t instanceof NC?t.value:Fb(t,this.delimiter);if(Jb(i)){var r=this.getStateNode(i).initial;return void 0!==r?this.getStateNodes(((e={})[i]=r,e)):[this,this.states[i]]}var o=Object.keys(i),s=[this];return s.push.apply(s,yb([],vb(qb(o.map(function(t){return n.getStateNode(t).getStateNodes(i[t])}))),!1)),s},t.prototype.handles=function(t){var e=Nb(t);return this.events.includes(e)},t.prototype.resolveState=function(t){var e=t instanceof NC?t:NC.create(t),n=Array.from(TC([],this.getStateNodes(e.value)));return new NC(fb(fb({},e),{value:this.resolve(e.value),configuration:n,done:PC(n,this),tags:IC(n)}))},t.prototype.transitionLeafNode=function(t,e,n){var i=this.getStateNode(t).next(e,n);return i&&i.transitions.length?i:this.next(e,n)},t.prototype.transitionCompoundNode=function(t,e,n){var i=Object.keys(t),r=this.getStateNode(i[0])._transition(t[i[0]],e,n);return r&&r.transitions.length?r:this.next(e,n)},t.prototype.transitionParallelNode=function(t,e,n){var i,r,o={};try{for(var s=pb(Object.keys(t)),a=s.next();!a.done;a=s.next()){var u=a.value,c=t[u];if(c){var l=this.getStateNode(u)._transition(c,e,n);l&&(o[u]=l)}}}catch(v){i={error:v}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(i)throw i.error}}var h=Object.keys(o).map(function(t){return o[t]}),f=qb(h.map(function(t){return t.transitions}));if(!h.some(function(t){return t.transitions.length>0}))return this.next(e,n);var d=qb(h.map(function(t){return t.entrySet})),p=qb(Object.keys(o).map(function(t){return o[t].configuration}));return{transitions:f,entrySet:d,exitSet:qb(h.map(function(t){return t.exitSet})),configuration:p,source:e,actions:qb(Object.keys(o).map(function(t){return o[t].actions}))}},t.prototype._transition=function(t,e,n){return Jb(t)?this.transitionLeafNode(t,e,n):1===Object.keys(t).length?this.transitionCompoundNode(t,e,n):this.transitionParallelNode(t,e,n)},t.prototype.getTransitionData=function(t,e){return this._transition(t.value,t,rC(e))},t.prototype.next=function(t,e){var n,i,r,o=this,s=e.name,a=[],u=[];try{for(var c=pb(this.getCandidates(s)),l=c.next();!l.done;l=c.next()){var h=l.value,f=h.cond,d=h.in,p=t.context,v=!d||(Jb(d)&&jC(d)?t.matches(Fb(this.getStateNodeById(d).path,this.delimiter)):Db(Fb(d,this.delimiter),Hb(this.path.slice(0,-2))(t.value))),y=!1;try{y=!f||sC(this.machine,f,p,e,t)}catch(_){throw new Error("Unable to evaluate guard '".concat(f.name||f.type,"' in transition for event '").concat(s,"' in state node '").concat(this.id,"':\n").concat(_.message))}if(y&&v){void 0!==h.target&&(u=h.target),a.push.apply(a,yb([],vb(h.actions),!1)),r=h;break}}}catch(w){n={error:w}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}if(r){if(!u.length)return{transitions:[r],entrySet:[],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var m=qb(u.map(function(e){return o.getRelativeStateNodes(e,t.historyValue)})),g=!!r.internal;return{transitions:[r],entrySet:g?[]:qb(m.map(function(t){return o.nodesFromChild(t)})),exitSet:g?[]:[this],configuration:m,source:t,actions:a}}},t.prototype.nodesFromChild=function(t){if(t.escapes(this))return[];for(var e=[],n=t;n&&n!==this;)e.push(n),n=n.parent;return e.push(this),e},t.prototype.escapes=function(t){if(this===t)return!1;for(var e=this.parent;e;){if(e===t)return!1;e=e.parent}return!0},t.prototype.getActions=function(t,e,n,i){var r,o,s,a,u=TC([],i?this.getStateNodes(i.value):[this]),c=t.configuration.length?TC(u,t.configuration):u;try{for(var l=pb(c),h=l.next();!h.done;h=l.next())OC(u,p=h.value)||t.entrySet.push(p)}catch(w){r={error:w}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(r)throw r.error}}try{for(var f=pb(u),d=f.next();!d.done;d=f.next()){var p;OC(c,p=d.value)&&!OC(t.exitSet,p.parent)||t.exitSet.push(p)}}catch(k){s={error:k}}finally{try{d&&!d.done&&(a=f.return)&&a.call(f)}finally{if(s)throw s.error}}var v=qb(t.entrySet.map(function(i){var r=[];if("final"!==i.type)return r;var o=i.parent;if(!o.parent)return r;r.push(mC(i.id,i.doneData),mC(o.id,i.doneData?Wb(i.doneData,e,n):void 0));var s=o.parent;return"parallel"===s.type&&SC(s).every(function(e){return PC(t.configuration,e)})&&r.push(mC(s.id)),r}));t.exitSet.sort(function(t,e){return e.order-t.order}),t.entrySet.sort(function(t,e){return t.order-e.order});var y=new Set(t.entrySet),m=new Set(t.exitSet),g=vb([qb(Array.from(y).map(function(t){return yb(yb([],vb(t.activities.map(function(t){return function(t){var e=pC(t);return{type:lb.Start,activity:e,exec:void 0}}(t)})),!1),vb(t.onEntry),!1)})).concat(v.map(vC)),qb(Array.from(m).map(function(t){return yb(yb([],vb(t.onExit),!1),vb(t.activities.map(function(t){return function(t){var e=$b(t)?t:pC(t);return{type:lb.Stop,activity:e,exec:void 0}}(t)})),!1)}))],2),_=g[0];return dC(g[1].concat(t.actions).concat(_),this.machine.options.actions)},t.prototype.transition=function(t,e,n){void 0===t&&(t=this.initialState);var i,r=rC(e);if(t instanceof NC)i=void 0===n?t:this.resolveState(NC.from(t,n));else{var o=Jb(t)?this.resolve(jb(this.getResolvedPath(t))):this.resolve(t);i=this.resolveState(NC.from(o,null!=n?n:this.machine.context))}if(this.strict&&!this.events.includes(r.name)&&!/^(done|error)\./.test(r.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(r.name,"'"));var s=this._transition(i.value,i,r)||{transitions:[],configuration:[],entrySet:[],exitSet:[],source:i,actions:[]},a=TC([],this.getStateNodes(i.value)),u=s.configuration.length?TC(a,s.configuration):a;return s.configuration=yb([],vb(u),!1),this.resolveTransition(s,i,i.context,r)},t.prototype.resolveRaisedTransition=function(t,e,n){var i,r=t.actions;return(t=this.transition(t,e))._event=n,t.event=n.data,(i=t.actions).unshift.apply(i,yb([],vb(r),!1)),t},t.prototype.resolveTransition=function(t,e,n,i){var r,o,s=this;void 0===i&&(i=lC);var a=t.configuration,u=!e||t.transitions.length>0,c=u?RC(this.machine,a):void 0,l=e?e.historyValue?e.historyValue:t.source?this.machine.historyValue(e.value):void 0:void 0,h=this.getActions(t,n,i,e),f=e?fb({},e.activities):{};try{for(var d=pb(h),p=d.next();!p.done;p=d.next()){var v=p.value;v.type===gb?f[v.activity.id||v.activity.type]=v:v.type===_b&&(f[v.activity.id||v.activity.type]=!1)}}catch(D){r={error:D}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}var y,m,g=vb(wC(this,e,n,i,h,this.machine.config.preserveActionOrder),2),_=g[0],w=g[1],k=vb(Zb(_,function(t){return t.type===wb||t.type===kb&&t.to===hb.Internal}),2),b=k[0],C=k[1],E=_.filter(function(t){var e;return t.type===gb&&(null===(e=t.activity)||void 0===e?void 0:e.type)===Tb}).reduce(function(t,e){return t[e.activity.id]=function(t,e,n,i){var r,o=aC(t.src),s=null===(r=null==e?void 0:e.options.services)||void 0===r?void 0:r[o.type],a=t.data?Wb(t.data,n,i):void 0,u=s?function(t,e,n){var i=CC(e);if(i.deferred=!0,nC(t)){var r=i.state=bC(void 0,function(){return(n?t.withContext(n):t).initialState});i.getSnapshot=function(){return r}}return i}(s,t.id,a):CC(t.id);return u.meta=t,u}(e.activity,s.machine,w,i),t},e?fb({},e.children):{}),S=u?t.configuration:e?e.configuration:[],x=PC(S,this),T=new NC({value:c||e.value,context:w,_event:i,_sessionid:e?e._sessionid:null,historyValue:c?l?(y=l,m=c,{current:m,states:Qb(y,m)}):void 0:e?e.historyValue:void 0,history:!c||t.source?e:void 0,actions:c?C:[],activities:c?f:e?e.activities:{},events:[],configuration:S,transitions:t.transitions,children:E,done:x,tags:null==e?void 0:e.tags,machine:this}),M=n!==w;T.changed=i.name===Rb||M;var A=T.history;A&&delete A.history;var R=!x&&(this._transient||a.some(function(t){return t._transient}));if(!(u||R&&""!==i.name))return T;var O=T;if(!x)for(R&&(O=this.resolveRaisedTransition(O,{type:Cb},i));b.length;){var P=b.shift();O=this.resolveRaisedTransition(O,P._event,i)}var I=O.changed||(A?!!O.actions.length||M||typeof A.value!=typeof O.value||!DC(O.value,A.value):void 0);return O.changed=I,O.history=A,O.tags=IC(O.configuration),O},t.prototype.getStateNode=function(t){if(jC(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var e=this.states[t];if(!e)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return e},t.prototype.getStateNodeById=function(t){var e=jC(t)?t.slice("#".length):t;if(e===this.id)return this;var n=this.machine.idMap[e];if(!n)throw new Error("Child state node '#".concat(e,"' does not exist on machine '").concat(this.id,"'"));return n},t.prototype.getStateNodeByPath=function(t){if("string"==typeof t&&jC(t))try{return this.getStateNodeById(t.slice(1))}catch(r){}for(var e=Lb(t,this.delimiter).slice(),n=this;e.length;){var i=e.shift();if(!i.length)break;n=n.getStateNode(i)}return n},t.prototype.resolve=function(t){var e,n=this;if(!t)return this.initialStateValue||FC;switch(this.type){case"parallel":return Vb(this.initialStateValue,function(e,i){return e?n.getStateNode(i).resolve(t[i]||e):FC});case"compound":if(Jb(t)){var i=this.getStateNode(t);return"parallel"===i.type||"compound"===i.type?((e={})[t]=i.initialStateValue,e):t}return Object.keys(t).length?Vb(t,function(t,e){return t?n.getStateNode(e).resolve(t):FC}):this.initialStateValue||{};default:return t||FC}},t.prototype.getResolvedPath=function(t){if(jC(t)){var e=this.machine.idMap[t.slice("#".length)];if(!e)throw new Error("Unable to find state node '".concat(t,"'"));return e.path}return Lb(t,this.delimiter)},Object.defineProperty(t.prototype,"initialStateValue",{get:function(){var t,e;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;if("parallel"===this.type)e=Bb(this.states,function(t){return t.initialStateValue||FC},function(t){return!("history"===t.type)});else if(void 0!==this.initial){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));e=EC(this.states[this.initial])?this.initial:((t={})[this.initial]=this.states[this.initial].initialStateValue,t)}else e={};return this.__cache.initialStateValue=e,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),t.prototype.getInitialState=function(t,e){this._init();var n=this.getStateNodes(t);return this.resolveTransition({configuration:n,entrySet:n,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,null!=e?e:this.machine.context,void 0)},Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"target",{get:function(){var t;if("history"===this.type){var e=this.config;t=Jb(e.target)&&jC(e.target)?jb(this.machine.getStateNodeById(e.target).path.slice(this.path.length-1)):e.target}return t},enumerable:!1,configurable:!0}),t.prototype.getRelativeStateNodes=function(t,e,n){return void 0===n&&(n=!0),n?"history"===t.type?t.resolveHistory(e):t.initialStateNodes:[t]},Object.defineProperty(t.prototype,"initialStateNodes",{get:function(){var t=this;return EC(this)?[this]:"compound"!==this.type||this.initial?qb(zb(this.initialStateValue).map(function(e){return t.getFromRelativePath(e)})):[this]},enumerable:!1,configurable:!0}),t.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var e=vb(t),n=e[0],i=e.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(n,"' from node with no states"));var r=this.getStateNode(n);if("history"===r.type)return r.resolveHistory();if(!this.states[n])throw new Error("Child state '".concat(n,"' does not exist on '").concat(this.id,"'"));return this.states[n].getFromRelativePath(i)},t.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:Bb(this.states,function(e,n){if(!t)return e.historyValue();var i=Jb(t)?void 0:t[n];return e.historyValue(i||e.initialStateValue)},function(t){return!t.history})}},t.prototype.resolveHistory=function(t){var e=this;if("history"!==this.type)return[this];var n=this.parent;if(!t){var i=this.target;return i?qb(zb(i).map(function(t){return n.getFromRelativePath(t)})):n.initialStateNodes}var r,o=(r=n.path,function(t){var e,n,i=t;try{for(var o=pb(r),s=o.next();!s.done;s=o.next())i=i.states[s.value]}catch(a){e={error:a}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return i})(t).current;return Jb(o)?[n.getStateNode(o)]:qb(zb(o).map(function(t){return"deep"===e.history?n.getFromRelativePath(t):[n.states[t[0]]]}))},Object.defineProperty(t.prototype,"stateIds",{get:function(){var t=this,e=qb(Object.keys(this.states).map(function(e){return t.states[e].stateIds}));return[this.id].concat(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events",{get:function(){var t,e,n,i;if(this.__cache.events)return this.__cache.events;var r=this.states,o=new Set(this.ownEvents);if(r)try{for(var s=pb(Object.keys(r)),a=s.next();!a.done;a=s.next()){var u=r[a.value];if(u.states)try{for(var c=(n=void 0,pb(u.events)),l=c.next();!l.done;l=c.next())o.add("".concat(l.value))}catch(h){n={error:h}}finally{try{l&&!l.done&&(i=c.return)&&i.call(c)}finally{if(n)throw n.error}}}}catch(f){t={error:f}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(t){return!(!t.target&&!t.actions.length&&t.internal)}).map(function(t){return t.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),t.prototype.resolveTarget=function(t){var e=this;if(void 0!==t)return t.map(function(t){if(!Jb(t))return t;var n=t[0]===e.delimiter;if(n&&!e.parent)return e.getStateNodeByPath(t.slice(1));var i=n?e.key+t:t;if(!e.parent)return e.getStateNodeByPath(i);try{return e.parent.getStateNodeByPath(i)}catch(r){throw new Error("Invalid transition definition for state node '".concat(e.id,"':\n").concat(r.message))}})},t.prototype.formatTransition=function(t){var e=this,n=function(t){if(void 0!==t&&""!==t)return Kb(t)}(t.target),i="internal"in t?t.internal:!n||n.some(function(t){return Jb(t)&&t[0]===e.delimiter}),r=this.machine.options.guards,o=this.resolveTarget(n),s=fb(fb({},t),{actions:dC(Kb(t.actions)),cond:tC(t.cond,r),target:o,source:this,internal:i,eventType:t.event,toJSON:function(){return fb(fb({},s),{target:s.target?s.target.map(function(t){return"#".concat(t.id)}):void 0,source:"#".concat(e.id)})}});return s},t.prototype.formatTransitions=function(){var t,e,n,i=this;if(this.config.on)if(Array.isArray(this.config.on))n=this.config.on;else{var r=this.config.on,o=r["*"],s=void 0===o?[]:o,a=db(r,["*"]);n=qb(Object.keys(a).map(function(t){return oC(t,a[t])}).concat(oC("*",s)))}else n=[];var u=this.config.always?oC("",this.config.always):[],c=this.config.onDone?oC(String(mC(this.id)),this.config.onDone):[],l=qb(this.invoke.map(function(t){var e=[];return t.onDone&&e.push.apply(e,yb([],vb(oC(String(gC(t.id)),t.onDone)),!1)),t.onError&&e.push.apply(e,yb([],vb(oC(String(_C(t.id)),t.onError)),!1)),e})),h=this.after,f=qb(yb(yb(yb(yb([],vb(c),!1),vb(l),!1),vb(n),!1),vb(u),!1).map(function(t){return Kb(t).map(function(t){return i.formatTransition(t)})}));try{for(var d=pb(h),p=d.next();!p.done;p=d.next())f.push(p.value)}catch(v){t={error:v}}finally{try{p&&!p.done&&(e=d.return)&&e.call(d)}finally{if(t)throw t.error}}return f},t}(),BC=function(t){return{type:Eb,assignment:t}},HC={deferEvents:!1},zC=function(){function t(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=fb(fb({},HC),t)}return t.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents)return void this.schedule(t);this.process(t)}this.flushEvents()},t.prototype.schedule=function(t){if(this.initialized&&!this.processingEvent){if(0!==this.queue.length)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()}else this.queue.push(t)},t.prototype.clear=function(){this.queue=[]},t.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},t.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(e){throw this.clear(),e}finally{this.processingEvent=!1}},t}(),qC=new Map,UC=0;function KC(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0}var WC,GC={sync:!1,autoForward:!1};!function(t){t[t.NotStarted=0]="NotStarted",t[t.Running=1]="Running",t[t.Stopped=2]="Stopped"}(WC||(WC={}));var ZC=function(){function t(e,n){var i=this;void 0===n&&(n=t.defaultOptions),this.machine=e,this.scheduler=new zC,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=WC.NotStarted,this.children=new Map,this.forwardTo=new Set,this.init=this.start,this.send=function(t,e){if(Yb(t))return i.batch(t),i.state;var n=rC(iC(t,e));if(i.status===WC.Stopped)return i.state;if(i.status!==WC.Running&&!i.options.deferEvents)throw new Error('Event "'.concat(n.name,'" was sent to uninitialized service "').concat(i.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.\nEvent: ').concat(JSON.stringify(n.data)));return i.scheduler.schedule(function(){i.forward(n);var t=i.nextState(n);i.update(t,n)}),i._state},this.sendTo=function(t,e){var n,r=i.parent&&(e===hb.Parent||i.parent.id===e),o=r?i.parent:Jb(e)?i.children.get(e)||function(t){return qC.get(t)}(e):(n=e)&&"function"==typeof n.send?e:void 0;if(o)o.send("machine"in o?fb(fb({},t),{name:t.name===Ab?"".concat(_C(i.id)):t.name,origin:i.sessionId}):t.data);else if(!r)throw new Error("Unable to send event to child '".concat(e,"' from service '").concat(i.id,"'."))};var r=fb(fb({},t.defaultOptions),n),o=r.clock,s=r.logger,a=r.parent,u=r.id;this.id=void 0!==u?u:e.id,this.logger=s,this.clock=o,this.parent=a,this.options=r,this.scheduler=new zC({deferEvents:this.options.deferEvents}),this.sessionId="x:".concat(UC++)}return Object.defineProperty(t.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:bC(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),t.prototype.execute=function(t,e){var n,i;try{for(var r=pb(t.actions),o=r.next();!o.done;o=r.next())this.exec(o.value,t,e)}catch(s){n={error:s}}finally{try{o&&!o.done&&(i=r.return)&&i.call(r)}finally{if(n)throw n.error}}},t.prototype.update=function(t,e){var n,i,r,o,s,a,u,c,l=this;if(t._sessionid=this.sessionId,this._state=t,this.options.execute&&this.execute(this.state),this.children.forEach(function(t){l.state.children[t.id]=t}),this.devTools&&this.devTools.send(e.data,t),t.event)try{for(var h=pb(this.eventListeners),f=h.next();!f.done;f=h.next())(0,f.value)(t.event)}catch(b){n={error:b}}finally{try{f&&!f.done&&(i=h.return)&&i.call(h)}finally{if(n)throw n.error}}try{for(var d=pb(this.listeners),p=d.next();!p.done;p=d.next())(0,p.value)(t,t.event)}catch(C){r={error:C}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(r)throw r.error}}try{for(var v=pb(this.contextListeners),y=v.next();!y.done;y=v.next())(0,y.value)(this.state.context,this.state.history?this.state.history.context:void 0)}catch(E){s={error:E}}finally{try{y&&!y.done&&(a=v.return)&&a.call(v)}finally{if(s)throw s.error}}var m=PC(t.configuration||[],this.machine);if(this.state.configuration&&m){var g=t.configuration.find(function(t){return"final"===t.type&&t.parent===l.machine}),_=g&&g.doneData?Wb(g.doneData,t.context,e):void 0;try{for(var w=pb(this.doneListeners),k=w.next();!k.done;k=w.next())(0,k.value)(gC(this.id,_))}catch(S){u={error:S}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}this.stop()}},t.prototype.onTransition=function(t){return this.listeners.add(t),this.status===WC.Running&&t(this.state,this.state.event),this},t.prototype.subscribe=function(t,e,n){var i,r=this;if(!t)return{unsubscribe:function(){}};var o=n;return"function"==typeof t?i=t:(i=t.next.bind(t),o=t.complete.bind(t)),this.listeners.add(i),this.status===WC.Running&&i(this.state),o&&this.onDone(o),{unsubscribe:function(){i&&r.listeners.delete(i),o&&r.doneListeners.delete(o)}}},t.prototype.onEvent=function(t){return this.eventListeners.add(t),this},t.prototype.onSend=function(t){return this.sendListeners.add(t),this},t.prototype.onChange=function(t){return this.contextListeners.add(t),this},t.prototype.onStop=function(t){return this.stopListeners.add(t),this},t.prototype.onDone=function(t){return this.doneListeners.add(t),this},t.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},t.prototype.start=function(t){var e=this;if(this.status===WC.Running)return this;qC.set(this.sessionId,this),this.initialized=!0,this.status=WC.Running;var n=void 0===t?this.initialState:bC(this,function(){return e.machine.resolveState("object"==typeof(n=t)&&null!==n&&"value"in n&&"_event"in n?t:NC.from(t,e.machine.context));var n});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){e.update(n,lC)}),this},t.prototype.stop=function(){var t,e,n,i,r,o,s,a,u,c,l=this;try{for(var h=pb(this.listeners),f=h.next();!f.done;f=h.next())this.listeners.delete(_=f.value)}catch(b){t={error:b}}finally{try{f&&!f.done&&(e=h.return)&&e.call(h)}finally{if(t)throw t.error}}try{for(var d=pb(this.stopListeners),p=d.next();!p.done;p=d.next())(_=p.value)(),this.stopListeners.delete(_)}catch(C){n={error:C}}finally{try{p&&!p.done&&(i=d.return)&&i.call(d)}finally{if(n)throw n.error}}try{for(var v=pb(this.contextListeners),y=v.next();!y.done;y=v.next())this.contextListeners.delete(_=y.value)}catch(E){r={error:E}}finally{try{y&&!y.done&&(o=v.return)&&o.call(v)}finally{if(r)throw r.error}}try{for(var m=pb(this.doneListeners),g=m.next();!g.done;g=m.next()){var _;this.doneListeners.delete(_=g.value)}}catch(S){s={error:S}}finally{try{g&&!g.done&&(a=m.return)&&a.call(m)}finally{if(s)throw s.error}}if(!this.initialized)return this;yb([],vb(this.state.configuration),!1).sort(function(t,e){return e.order-t.order}).forEach(function(t){var e,n;try{for(var i=pb(t.definition.exit),r=i.next();!r.done;r=i.next())l.exec(r.value,l.state)}catch(o){e={error:o}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}),this.children.forEach(function(t){$b(t.stop)&&t.stop()});try{for(var w=pb(Object.keys(this.delayedEventsMap)),k=w.next();!k.done;k=w.next())this.clock.clearTimeout(this.delayedEventsMap[k.value])}catch(x){u={error:x}}finally{try{k&&!k.done&&(c=w.return)&&c.call(w)}finally{if(u)throw u.error}}return this.scheduler.clear(),this.initialized=!1,this.status=WC.Stopped,qC.delete(this.sessionId),this},t.prototype.batch=function(t){var e=this;if(this.status===WC.NotStarted&&this.options.deferEvents);else if(this.status!==WC.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'));this.scheduler.schedule(function(){var n,i,r=e.state,o=!1,s=[],a=function(t){var n=rC(t);e.forward(n),r=bC(e,function(){return e.machine.transition(r,n)}),s.push.apply(s,yb([],vb(r.actions.map(function(t){return n=r,i=(e=t).exec,fb(fb({},e),{exec:void 0!==i?function(){return i(n.context,n.event,{action:e,state:n,_event:n._event})}:void 0});var e,n,i})),!1)),o=o||!!r.changed};try{for(var u=pb(t),c=u.next();!c.done;c=u.next())a(c.value)}catch(l){n={error:l}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(n)throw n.error}}r.changed=o,r.actions=s,e.update(r,rC(t[t.length-1]))})},t.prototype.sender=function(t){return this.send.bind(this,t)},t.prototype.nextState=function(t){var e=this,n=rC(t);if(0===n.name.indexOf(Mb)&&!this.state.nextEvents.some(function(t){return 0===t.indexOf(Mb)}))throw n.data.data;return bC(this,function(){return e.machine.transition(e.state,n)})},t.prototype.forward=function(t){var e,n;try{for(var i=pb(this.forwardTo),r=i.next();!r.done;r=i.next()){var o=r.value,s=this.children.get(o);if(!s)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));s.send(t)}}catch(a){e={error:a}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},t.prototype.defer=function(t){var e=this;this.delayedEventsMap[t.id]=this.clock.setTimeout(function(){t.to?e.sendTo(t._event,t.to):e.send(t._event)},t.delay)},t.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},t.prototype.exec=function(t,e,n){void 0===n&&(n=this.machine.options.actions);var i=e.context,r=e._event,o=t.exec||hC(t.type,n),s=$b(o)?o:o?o.exec:t.exec;if(s)try{return s(i,r.data,{action:t,state:this.state,_event:r})}catch(_){throw this.parent&&this.parent.send({type:"xstate.error",data:_}),_}switch(t.type){case kb:var a=t;if("number"==typeof a.delay)return void this.defer(a);a.to?this.sendTo(a._event,a.to):this.send(a._event);break;case bb:this.cancel(t.sendId);break;case gb:if(this.status!==WC.Running)return;var u=t.activity;if(!this.state.activities[u.id||u.type])break;if(u.type===lb.Invoke){var c=aC(u.src),l=this.machine.options.services?this.machine.options.services[c.type]:void 0,h=u.id,f=u.data,d="autoForward"in u?u.autoForward:!!u.forward;if(!l)return;var p=f?Wb(f,i,r):void 0;if("string"==typeof l)return;var v=$b(l)?l(i,r.data,{data:p,src:c,meta:u.meta}):l;if(!v)return;var y=void 0;nC(v)&&(v=p?v.withContext(p):v,y={autoForward:d}),this.spawn(v,h,y)}else this.spawnActivity(u);break;case _b:this.stopChild(t.activity.id);break;case Sb:var m=t.label,g=t.value;m?this.logger(m,g):this.logger(g)}},t.prototype.removeChild=function(t){var e;this.children.delete(t),this.forwardTo.delete(t),null===(e=this.state)||void 0===e||delete e.children[t]},t.prototype.stopChild=function(t){var e=this.children.get(t);e&&(this.removeChild(t),$b(e.stop)&&e.stop())},t.prototype.spawn=function(t,e,n){if(Gb(t))return this.spawnPromise(Promise.resolve(t),e);if($b(t))return this.spawnCallback(t,e);if(function(t){try{return"function"==typeof t.send}catch(e){return!1}}(r=t)&&"id"in r)return this.spawnActor(t,e);if(function(t){try{return"subscribe"in t&&$b(t.subscribe)}catch(e){return!1}}(t))return this.spawnObservable(t,e);if(nC(t))return this.spawnMachine(t,fb(fb({},n),{id:e}));if(null!==(i=t)&&"object"==typeof i&&"transition"in i&&"function"==typeof i.transition)return this.spawnBehavior(t,e);throw new Error('Unable to spawn entity "'.concat(e,'" of type "').concat(typeof t,'".'));var i,r},t.prototype.spawnMachine=function(e,n){var i=this;void 0===n&&(n={});var r=new t(e,fb(fb({},this.options),{parent:this,id:n.id||e.id})),o=fb(fb({},GC),n);o.sync&&r.onTransition(function(t){i.send(Rb,{state:t,id:r.id})});var s=r;return this.children.set(r.id,s),o.autoForward&&this.forwardTo.add(r.id),r.onDone(function(t){i.removeChild(r.id),i.send(rC(t,{origin:r.id}))}).start(),s},t.prototype.spawnBehavior=function(t,e){var n=function(t,e){void 0===e&&(e={});var n,i,r=t.initialState,o=new Set,s=[],a=!1,u=(n={id:e.id,send:function(e){s.push(e),function(){if(!a){for(a=!0;s.length>0;){var e=s.shift();r=t.transition(r,e,c),o.forEach(function(t){return t.next(r)})}a=!1}}()},getSnapshot:function(){return r},subscribe:function(t,e,n){var i=uC(t,e,n);return o.add(i),i.next(r),{unsubscribe:function(){o.delete(i)}}}},fb(((i={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}})[eC]=function(){return this},i),n)),c={parent:e.parent,self:u,id:e.id||"anonymous",observers:o};return r=t.start?t.start(c):r,u}(t,{id:e,parent:this});return this.children.set(e,n),n},t.prototype.spawnPromise=function(t,e){var n,i,r=this,o=!1;t.then(function(t){o||(i=t,r.removeChild(e),r.send(rC(gC(e,t),{origin:e})))},function(t){if(!o){r.removeChild(e);var n=_C(e,t);try{r.send(rC(n,{origin:e}))}catch(i){r.devTools&&r.devTools.send(n,r.state),r.machine.strict&&r.stop()}}});var s=((n={id:e,send:function(){},subscribe:function(e,n,i){var r=uC(e,n,i),o=!1;return t.then(function(t){o||(r.next(t),o||r.complete())},function(t){o||r.error(t)}),{unsubscribe:function(){return o=!0}}},stop:function(){o=!0},toJSON:function(){return{id:e}},getSnapshot:function(){return i}})[eC]=function(){return this},n);return this.children.set(e,s),s},t.prototype.spawnCallback=function(t,e){var n,i,r,o=this,s=!1,a=new Set,u=new Set;try{r=t(function(t){i=t,u.forEach(function(e){return e(t)}),s||o.send(rC(t,{origin:e}))},function(t){a.add(t)})}catch(l){this.send(_C(e,l))}if(Gb(r))return this.spawnPromise(r,e);var c=((n={id:e,send:function(t){return a.forEach(function(e){return e(t)})},subscribe:function(t){var e=uC(t);return u.add(e.next),{unsubscribe:function(){u.delete(e.next)}}},stop:function(){s=!0,$b(r)&&r()},toJSON:function(){return{id:e}},getSnapshot:function(){return i}})[eC]=function(){return this},n);return this.children.set(e,c),c},t.prototype.spawnObservable=function(t,e){var n,i,r=this,o=t.subscribe(function(t){i=t,r.send(rC(t,{origin:e}))},function(t){r.removeChild(e),r.send(rC(_C(e,t),{origin:e}))},function(){r.removeChild(e),r.send(rC(gC(e),{origin:e}))}),s=((n={id:e,send:function(){},subscribe:function(e,n,i){return t.subscribe(e,n,i)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return i},toJSON:function(){return{id:e}}})[eC]=function(){return this},n);return this.children.set(e,s),s},t.prototype.spawnActor=function(t,e){return this.children.set(e,t),t},t.prototype.spawnActivity=function(t){var e=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(e){var n=e(this.state.context,t);this.spawnEffect(t.id,n)}},t.prototype.spawnEffect=function(t,e){var n;this.children.set(t,((n={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:e||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}})[eC]=function(){return this},n))},t.prototype.attachDev=function(){var t=KC();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var e="object"==typeof this.options.devTools?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(fb(fb({name:this.id,autoPause:!0,stateSanitizer:function(t){return{value:t.value,context:t.context,actions:t.actions}}},e),{features:fb({jump:!1,skip:!1},e?e.features:void 0)}),this.machine),this.devTools.init(this.state)}!function(t){if(KC()){var e=function(){var t=KC();if(t&&"__xstate__"in t)return t.__xstate__}();e&&e.register(t)}}(this)}},t.prototype.toJSON=function(){return{id:this.id}},t.prototype[eC]=function(){return this},t.prototype.getSnapshot=function(){return this.status===WC.NotStarted?this.initialState:this._state},t.defaultOptions=function(t){return{execute:!0,deferEvents:!0,clock:{setTimeout:function(t){function e(e,n){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t,e){return setTimeout(t,e)}),clearTimeout:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return clearTimeout(t)})},logger:t.console.log.bind(console),devTools:!1}}("undefined"!=typeof self?self:global),t.interpret=QC,t}();function QC(t,e){return new ZC(t,e)}function XC(t,e){1&t&&Go(0,"mat-spinner",1),2&t&&qo("@fadeInOnEnter",void 0)("@fadeOutOnLeave",void 0)("diameter",48)}var YC,$C,JC,tE,eE=function(t){return t.Exploring="exploring",t.CheckingViewpoint="checkingViewpoint",t.Viewing="viewing",t}({}),nE=function(t){return t.View="VIEW",t.Explore="EXPLORE",t}({}),iE=function(t){return t.SetViewpoint="setViewpoint",t.RestoreCamera="restoreCamera",t.ShowPositionIndicator="showPositionIndicator",t.HidePositionIndicator="hidePositionIndicator",t}({}),rE=_(function t(e,n){m(this,t),this.clickEvent=e,this.camera=n,this.type=nE.View}),oE=_(function t(){m(this,t),this.type=nE.Explore}),sE=((tE=function(){function e(n,i,r,o,s,a,u){var c,l,h,f,d=this;m(this,e),this.snackbar=n,this.eventManager=i,this.coordinateConverter=r,this.cameraService=o,this.mapsManagerService=s,this.http=a,this.ngZone=u,this.observerHeight=1.6,this.targetVerticalOffset=5,this.stateMachine=(l={id:"viewpoint",initial:eE.Exploring,context:{},states:{exploring:{entry:[iE.RestoreCamera,iE.ShowPositionIndicator],exit:iE.HidePositionIndicator,on:{VIEW:{target:eE.CheckingViewpoint,actions:BC({cameraParameter:function(t,e){return e.camera},clickEvent:function(t,e){return e.clickEvent}})}}},checkingViewpoint:{invoke:{id:"checkViewpoint",src:function(t,e){return d.checkViewpoint(t)},onDone:{target:eE.Viewing,actions:BC({observer:function(t,e){return e.data}})},onError:{target:eE.Exploring}}},viewing:{entry:iE.SetViewpoint,on:{EXPLORE:eE.Exploring}}}},h={actions:(c={},t(c,iE.SetViewpoint,this.onSetViewpoint()),t(c,iE.RestoreCamera,this.onRestoreCamera()),t(c,iE.ShowPositionIndicator,this.onShowPositionIndicator()),t(c,iE.HidePositionIndicator,this.onHidePositionIndicator()),c)},void 0===f&&(f=l.context),new VC(l,h,f)),this.unsubscribed$=new H,this.ViewpointStateName=eE,this.stateService=QC(this.stateMachine).start(),this.state$=J(this.stateService),this.Cesium=Cesium}return _(e,[{key:"ngOnInit",value:function(){return ub(this,void 0,void 0,regeneratorRuntime.mark(function t(){var e,n=this;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.http.get("assets/alps_summits.geojson").toPromise();case 2:if(this.summits=t.sent,e=this.mapsManagerService.getMap(),this.viewer=e?e.getCesiumViewer():void 0,this.viewer){t.next=6;break}throw new TypeError("The Cesium `viewer` object is not available");case 6:this.eventManager.register({event:M_.LEFT_CLICK}).pipe(Bv(this.unsubscribed$)).subscribe(function(t){return n.onMapClick(t)}),this.eventManager.register({event:M_.MOUSE_MOVE}).pipe(Bv(this.unsubscribed$)).subscribe(function(t){return n.onMapMouseMove(t)}),this.createPositionIndicator();case 7:case"end":return t.stop()}},t,this)}))}},{key:"ngOnDestroy",value:function(){this.stateService.stop(),this.unsubscribed$.next(),this.unsubscribed$.complete(),this.destroyPositionIndicator()}},{key:"createPositionIndicator",value:function(){var t,e=this,n=new Cesium.CallbackProperty(function(){return e.currentPosition},!1),i=new Cesium.CallbackProperty(function(){if(e.currentPosition)return(t=Cesium.Cartographic.fromCartesian(e.currentPosition)).latitude+=1e-6,[e.currentPosition,Cesium.Cartographic.toCartesian(t,Cesium.Ellipsoid.WGS84,t)]},!1);this.positionIndicator=this.viewer.entities.add({id:"position-indicator",name:"Position Indicator",position:n,point:{color:Cesium.Color.WHITE,pixelSize:4,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,outlineColor:Cesium.Color.BLACK,outlineWidth:1},corridor:{positions:i,cornerType:Cesium.CornerType.ROUNDED,width:500,material:Cesium.Color.WHITE.withAlpha(.3)},label:{text:"Click to view from ground",verticalOrigin:Cesium.VerticalOrigin.BOTTOM,pixelOffset:{x:0,y:-8},font:"16px sans-serif",style:Cesium.LabelStyle.FILL_AND_OUTLINE,heightReference:Cesium.HeightReference.CLAMP_TO_GROUND,fillColor:Cesium.Color.WHITE.withAlpha(.8),outlineColor:Cesium.Color.BLACK.withAlpha(.8),outlineWidth:4,disableDepthTestDistance:Number.POSITIVE_INFINITY}})}},{key:"destroyPositionIndicator",value:function(){this.positionIndicator&&this.viewer.entities.remove(this.positionIndicator)}},{key:"checkViewpoint",value:function(t){return ub(this,void 0,void 0,regeneratorRuntime.mark(function e(){var n,i,r,o,s,a,u,c,l,h=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.clickEvent){e.next=2;break}throw new TypeError("Context `clickEvent` is missing");case 2:return n=this.coordinateConverter.screenToCartographic(t.clickEvent.movement.endPosition),e.next=5,Cesium.sampleTerrainMostDetailed(this.viewer.terrainProvider,[n]);case 5:for((i=e.sent[0]).height+=this.observerHeight,r=Cesium.Cartographic.toCartesian(i),o=this.summits.features.map(function(t){var e=Cesium.Cartesian3.fromDegrees(t.geometry.coordinates[0],t.geometry.coordinates[1],t.properties.ALT+h.targetVerticalOffset);return Object.assign(Object.assign({},t),{distanceSquared:Cesium.Cartesian3.distanceSquared(e,r),cartesian:e})}).sort(function(t,e){return t.distanceSquared-e.distanceSquared}),a=new Cesium.Cartesian3,u=0;u<o.length-1&&!s;)a=Cesium.Cartesian3.subtract(o[u].cartesian,r,a),Cesium.Cartesian3.normalize(a,a),this.viewer.scene.globe.pick(new Cesium.Ray(r,a),this.viewer.scene)||(s=o[u]),u++;return c=!s,s||(console.warn("No summit visible, falling back to closest summit"),s=o[0]),l=this.coordinateConverter.bearingTo(i,Cesium.Cartographic.fromDegrees(s.geometry.coordinates[0],s.geometry.coordinates[1])),e.abrupt("return",{closestSummit:{name:s.properties.field_2,elevation:s.properties.ALT,distance:Math.sqrt(s.distanceSquared),coordinates:{longitude:s.geometry.coordinates[0],latitude:s.geometry.coordinates[1]},isViewBlocked:c},position:r,bearing:l});case 14:case"end":return e.stop()}},e,this)}))}},{key:"setViewpoint",value:function(t,e,n){return ub(this,void 0,void 0,regeneratorRuntime.mark(function i(){var r=this;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:this.cameraService.cameraFlyTo({destination:e,orientation:{heading:Cesium.Math.toRadians(n),pitch:0,roll:0}}),this.ngZone.run(function(){return ub(r,void 0,void 0,regeneratorRuntime.mark(function e(){var n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.snackbar.open("Closest summit is "+(t?"".concat(t.name," (Elevation: ").concat(Math.round(t.elevation),"\u202fm, Distance: ").concat((t.distance/1e3).toFixed(2),"\u202fkm)").concat(t.isViewBlocked?" - visibility blocked by terrain":""):"not available"),"Exit"),e.next=3,n.onAction().toPromise();case 3:this.stateService.send(new oE);case 4:case"end":return e.stop()}},e,this)}))});case 1:case"end":return i.stop()}},i,this)}))}},{key:"restoreCamera",value:function(t){this.cameraService.cameraFlyTo({destination:t.position,orientation:t.orientation})}},{key:"onRestoreCamera",value:function(){var t=this;return function(e,n){e.cameraParameter&&t.restoreCamera(e.cameraParameter)}}},{key:"onSetViewpoint",value:function(){var t=this;return function(e,n){if(!e.observer)throw new TypeError("Context `observer` is missing");t.setViewpoint(e.observer.closestSummit,e.observer.position,e.observer.bearing)}}},{key:"onShowPositionIndicator",value:function(){var t=this;return function(e,n){t.positionIndicator&&(t.positionIndicator.show=!0)}}},{key:"onHidePositionIndicator",value:function(){var t=this;return function(e,n){t.positionIndicator&&(t.positionIndicator.show=!1)}}},{key:"onMapClick",value:function(t){var e=this.cameraService.getCamera();this.stateService.send(new rE(t,{position:e.position.clone(),orientation:{heading:e.heading,pitch:e.pitch,roll:e.roll}}))}},{key:"onMapMouseMove",value:function(t){this.currentPosition=this.viewer.scene.pickPosition(t.movement.endPosition)}}]),e}()).\u0275fac=function(t){return new(t||tE)(zo(xm),zo(ik),zo(Ow),zo(T_),zo(ok),zo($l),zo(bu))},tE.\u0275cmp=ae({type:tE,selectors:[["app-viewpoint"]],decls:2,vars:3,consts:[["color","accent",3,"diameter",4,"ngIf"],["color","accent",3,"diameter"]],template:function(t,e){if(1&t&&(Ho(0,XC,1,3,"mat-spinner",0),function(t,e){var n,i=Ge();i.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var i=e[n];if("async"===i.name)return i}throw new St("302","The pipe 'async' could not be found!")}(0,i.pipeRegistry),i.data[21]=n,n.onDestroy&&(i.destroyHooks||(i.destroyHooks=[])).push(21,n.onDestroy)):n=i.data[21];var r=n.factory||(n.factory=Ce(n.type)),o=Bt(zo);try{var s=Ln(!1),a=r();Ln(s),function(t,e,n,i){21>=t.data.length&&(t.data[21]=null,t.blueprint[21]=null),e[21]=i}(i,We(),0,a)}finally{Bt(o)}}()),2&t){var n=null;qo("ngIf",null==(i=e.state$,r=We(),o=r[21],n=function(t,e){return Lo.isWrapped(e)&&(e=Lo.unwrap(e),t[Ue.lFrame.bindingIndex]=pr),e}(r,function(t,e){return t[1].data[21].pure}(r)?La(r,nn(),1,o.transform,i,o):o.transform(i)))?null:n.matches(e.ViewpointStateName.CheckingViewpoint))}var i,r,o},directives:[xc,Ov],pipes:[qc],styles:["[_nghost-%COMP%] { display: block; position: relative; }","mat-spinner[_ngcontent-%COMP%] { left: 16px; position: absolute; top: 16px; z-index: 1; }"],data:{animation:[vf("fadeInOnEnter",[bf(":enter",[_f({visibility:"hidden"})].concat(i(cb(Cf([yf("{{duration}}ms {{delay}}ms",kf([_f({visibility:"visible",opacity:0,easing:"ease",offset:0}),_f({opacity:1,easing:"ease",offset:1})]))]),void 0))),{params:{delay:0,duration:1e3}})]),vf("fadeOutOnLeave",[bf(":leave",i(cb(Cf([yf("{{duration}}ms {{delay}}ms",kf([_f({opacity:1,easing:"ease",offset:0}),_f({opacity:0,easing:"ease",offset:1})]))]),JC)),{params:{delay:0,duration:1e3}})])]},changeDetection:0}),tE),aE=(($C=function(){function t(e,n,i){m(this,t),this.viewerConf=e,this.matomoInjector=n,this.matomoTracker=i,this.MapTerrainProviderOptions=Bk;var r=[];r.push(new Cesium.ProviderViewModel({name:"Cesium World Terrain",iconUrl:Cesium.buildModuleUrl("Widgets/Images/TerrainProviders/CesiumWorldTerrain.png"),tooltip:"High-resolution global terrain tileset curated from several datasources and hosted by Cesium ion",category:"Cesium ion",creationFunction:function(){return Cesium.createWorldTerrain({requestWaterMask:!0,requestVertexNormals:!0})}}));var o=[];o.push(new Cesium.ProviderViewModel({name:"Sentinel-2",iconUrl:Cesium.buildModuleUrl("Widgets/Images/ImageryProviders/sentinel-2.png"),tooltip:"Sentinel-2 cloudless.",creationFunction:function(){return new Cesium.IonImageryProvider({assetId:3954})}})),o.push(new Cesium.ProviderViewModel({name:"Blue Marble",iconUrl:Cesium.buildModuleUrl("Widgets/Images/ImageryProviders/blueMarble.png"),tooltip:"Blue Marble Next Generation July, 2004 imagery from NASA.",creationFunction:function(){return new Cesium.IonImageryProvider({assetId:3845})}})),o.push(new Cesium.ProviderViewModel({name:"Open\xadStreet\xadMap",iconUrl:Cesium.buildModuleUrl("Widgets/Images/ImageryProviders/openStreetMap.png"),tooltip:"OpenStreetMap (OSM) is a collaborative project to create a free editable map of the world.\nhttp://www.openstreetmap.org",creationFunction:function(){return new Cesium.OpenStreetMapImageryProvider({url:"https://a.tile.openstreetmap.org/"})}})),this.viewerConf.viewerOptions={animation:!1,terrainProviderViewModels:r,imageryProviderViewModels:o,timeline:!1,shadows:!1,homeButton:!1,selectionIndicator:!1,projectionPicker:!1,scene3DOnly:!0,requestRenderMode:!0},this.viewerConf.viewerModifier=function(t){t.scene.highDynamicRange=!1,t.scene.postProcessStages.fxaa.enabled=!0,t.scene.fog.density=6e-5,t.scene.skyAtmosphere.hueShift=-.08,t.scene.skyAtmosphere.saturationShift=-.3,t.scene.skyAtmosphere.brightnessShift=-.2;var e=t.imageryLayers;if(e.length>0){var n=e.get(0);n.brightness=.95,n.contrast=1.05,n.saturation=.3}var i=t.imageryLayers.addImageryProvider(new Cesium.IonImageryProvider({assetId:121090}));t.zoomTo(i),t.scene.frameState.creditDisplay.addDefaultCredit(new Cesium.Credit('<a href="https://inspirespace.co/imprint/" target="_blank">Imprint</a>'))}}return _(t,[{key:"ngOnInit",value:function(){sb&&(this.matomoInjector.init(sb.url,sb.id),this.matomoTracker.disableCookies())}}]),t}()).\u0275fac=function(t){return new(t||$C)(zo(e_),zo(ib),zo(rb))},$C.\u0275cmp=ae({type:$C,selectors:[["app-root"]],features:[Os([e_])],decls:3,vars:0,template:function(t,e){1&t&&(Ko(0,"ac-map"),Go(1,"app-summits"),Go(2,"app-viewpoint"),Wo())},directives:[ak,ab,sE],styles:[".cesium-viewer-bottom .cesium-widget-credits{height:100%;display:flex;align-items:center}  .cesium-viewer-bottom .cesium-widget-credits .cesium-credit-textContainer{padding-left:5px}"]}),$C),uE=((YC=_(function t(){m(this,t)})).\u0275fac=function(t){return new(t||YC)},YC.\u0275mod=he({type:YC,bootstrap:[aE]}),YC.\u0275inj=Rt({providers:[],imports:[[bl,Wp,Kk.forRoot(),nb,dh,ob,mv,gv,_v,Pv,Em]]}),YC);(function(){if(Du)throw new Error("Cannot enable prod mode after platform setup.");Iu=!1})(),Cesium.buildModuleUrl.setBaseUrl("/assets/cesium/"),Cesium.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJmZmNmZmUzNi0zM2U1LTQwODAtYjRlOS0wNDcxMDRiNDI4MmYiLCJpZCI6MTk4ODcsInNjb3BlcyI6WyJhc3IiLCJnYyJdLCJpYXQiOjE1NzY4NjQ2Nzl9.ufDy3VouYVuucgKYfGt-oFfVNSzfe8cBljY-QmnZZHE",wl().bootstrapModule(uE).catch(function(t){return console.error(t)})},zn8P:function(t,e){function n(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="zn8P"}},[[0,0]]])}();